{"ast":null,"code":"import { isObject, getValue, extend, isNullOrUndefined } from './util';\nimport { getRandomId } from './template-engine';\nvar simpleRegex = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/;\nvar multipleSplitRegex = /(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))/g;\nvar idClassSelector = /^(\\.|#)/;\nvar selectMapper = {\n  '.': 'className',\n  '#': 'id'\n};\nvar classRegexString = '(?=.*?\\\\b{value}\\\\b)';\nvar assigner = {\n  className: 'attributes.className',\n  id: 'attributes.id',\n  tagName: 'tagName'\n};\nvar emptyElements = ['area', 'base', 'basefont', 'br', 'col', 'frame', 'hr', 'img', 'input', 'link', 'meta', 'param', 'embed', 'command', 'keygen', 'source', 'track', 'wbr'];\nvar blockElements = ['a', 'address', 'article', 'applet', 'aside', 'audio', 'blockquote', 'button', 'canvas', 'center', 'dd', 'del', 'dir', 'div', 'dl', 'dt', 'fieldset', 'figcaption', 'figure', 'footer', 'form', 'frameset', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'header', 'hgroup', 'hr', 'iframe', 'ins', 'isindex', 'li', 'map', 'menu', 'noframes', 'noscript', 'object', 'ol', 'output', 'p', 'pre', 'section', 'script', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'ul', 'video'];\nvar inlineElement = ['abbr', 'acronym', 'applet', 'b', 'basefont', 'bdo', 'big', 'br', 'button', 'cite', 'code', 'del', 'dfn', 'em', 'font', 'i', 'iframe', 'img', 'input', 'ins', 'kbd', 'label', 'map', 'object', 'q', 's', 'samp', 'script', 'select', 'small', 'span', 'strike', 'strong', 'sub', 'sup', 'textarea', 'tt', 'u', 'var'];\nvar selfClosingElements = ['colgroup', 'dd', 'dt', 'li', 'options', 'p', 'td', 'tfoot', 'th', 'thead', 'tr'];\nvar fillAttrs = ['checked', 'compact', 'declare', 'defer', 'disabled', 'ismap', 'multiple', 'nohref', 'noresize', 'noshade', 'nowrap', 'readonly', 'selected'];\nvar cspElement = ['Script', 'style'];\nvar nameMapper = {\n  'tabindex': 'tabIndex'\n};\nvar startRegex = /^<([-A-Za-z0-9_]+)((?:\\s+[a-zA-Z_:][-a-zA-Z0-9_:.]*(?:\\s*=\\s*(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>\\s]+))?)*)\\s*(\\/?)>/;\nvar endRegex = /^<\\/([-A-Za-z0-9_]+)[^>]*>/;\nvar attributeRegex = /([a-zA-Z_:][-a-zA-Z0-9_:.]*)(?:\\s*=\\s*(?:(?:\"((?:\\\\.|[^\"])*)\")|(?:'((?:\\\\.|[^'])*)')|([^>\\s]+)))?/g;\n/**\n * Namespace for VirtualDOM\n * @private\n */\n\nexport var VirtualDOM;\n\n(function (VirtualDOM) {\n  //tslint:disable:no-any\n  function createElement(tagName, properties) {\n    var children = [];\n    var extended = extend({}, {}, properties, true);\n\n    if (!isNullOrUndefined(properties)) {\n      var keys = Object.keys(properties);\n\n      if (keys.length) {\n        if (extended.innerHTML) {\n          children = ConvertHTMLToJSon(extended.innerHTML);\n          delete extended.innerHTML;\n        }\n\n        if (extended.attrs) {\n          extend(extended, extended.attrs);\n          delete extended.attrs;\n        }\n\n        if (extended.styles) {\n          var valArr = extended.styles.split(';');\n          var vObj = {};\n\n          for (var i = 0, length_1 = valArr.length; i < length_1; i++) {\n            var cVal = valArr[i];\n            var styleSplit = cVal.split(':');\n            vObj[styleSplit[0]] = styleSplit[1];\n          }\n\n          delete extended.styles;\n          extended.style = vObj;\n        }\n      }\n    }\n\n    return {\n      tagName: tagName,\n      attributes: extended || {},\n      children: children\n    };\n  }\n\n  VirtualDOM.createElement = createElement;\n\n  function assignParent(childrens, parent) {\n    if (parent && childrens) {\n      childrens.forEach(function (child) {\n        if (isObject(child)) {\n          if (child.parent) {\n            detach(child);\n          }\n\n          child.parent = parent;\n        }\n\n        return child;\n      });\n    }\n  }\n\n  VirtualDOM.assignParent = assignParent;\n\n  function append(fromElements, toElement) {\n    assignParent(fromElements, toElement);\n\n    if (toElement.children) {\n      toElement.children = toElement.children.concat(fromElements);\n    } else {\n      toElement.children = [].concat(fromElements);\n    }\n  }\n\n  VirtualDOM.append = append;\n\n  function prepend(child, toElement) {\n    assignParent(child, toElement);\n\n    if (!toElement.children || !toElement.children.length) {\n      toElement.children = [];\n      toElement.children.concat(child);\n    } else {\n      for (var i = child.length - 1; i >= 0; i--) {\n        toElement.children.unshift(child[i]);\n      }\n    }\n  }\n\n  VirtualDOM.prepend = prepend;\n\n  function detach(element) {\n    var parent = element.parent;\n\n    if (parent) {\n      var index = parent.children.indexOf(element);\n\n      if (index !== -1) {\n        parent.children.splice(index);\n      }\n    }\n\n    return parent;\n  }\n\n  VirtualDOM.detach = detach; //tslint:disable-next-line\n\n  function vDomSelector(_a) {\n    var ele = _a.ele,\n        selector = _a.selector,\n        selectAll = _a.selectAll,\n        immediateParent = _a.immediateParent;\n    var iSelector = selector.split(' ');\n    var curColl = ele;\n\n    for (var i = 0, length_2 = iSelector.length; i < length_2; i++) {\n      var isDescendant = false;\n      var parent_2 = curColl;\n      var curSelector = iSelector[i];\n      var simpleSelector = false;\n      var mapper = [];\n\n      if (simpleRegex.test(curSelector)) {\n        simpleSelector = true;\n        processSelector(curSelector, mapper);\n      } else if (curSelector.indexOf('>') === -1) {\n        var splitSelector = curSelector.match(multipleSplitRegex);\n\n        for (var _i = 0, splitSelector_1 = splitSelector; _i < splitSelector_1.length; _i++) {\n          var curMap = splitSelector_1[_i];\n          processSelector(curMap, mapper);\n        }\n      } else if (curSelector.indexOf('>') !== -1) {\n        isDescendant = true;\n        var dSelector = curSelector.split('>'); //tslint:disable-next-line\n\n        var dParent = ele;\n        var descendent = void 0;\n        var flag = 0;\n\n        for (var _b = 0, dSelector_1 = dSelector; _b < dSelector_1.length; _b++) {\n          var sel = dSelector_1[_b];\n\n          if (!dParent) {\n            break;\n          }\n\n          if (dParent.length) {\n            var descendentChild = [];\n\n            for (var _c = 0, dParent_1 = dParent; _c < dParent_1.length; _c++) {\n              var child = dParent_1[_c];\n              descendentChild = descendentChild.concat(vDomSelector({\n                ele: child,\n                selector: sel,\n                selectAll: selectAll,\n                immediateParent: !!flag\n              }));\n            }\n\n            descendent = descendentChild;\n          } else {\n            descendent = vDomSelector({\n              ele: dParent,\n              selector: sel,\n              selectAll: selectAll,\n              immediateParent: !!flag\n            });\n          }\n\n          flag++;\n          dParent = descendent;\n        }\n\n        if (descendent) {\n          curColl = descendent;\n        }\n      }\n\n      if (!isDescendant) {\n        if (parent_2.length) {\n          var iCurSelector = [];\n\n          for (var _d = 0, parent_1 = parent_2; _d < parent_1.length; _d++) {\n            var curParent = parent_1[_d];\n            iCurSelector = iCurSelector.concat(accessElement(curParent, mapper, selectAll, immediateParent));\n          }\n\n          curColl = iCurSelector;\n        } else {\n          curColl = accessElement(parent_2, mapper, selectAll, immediateParent);\n        }\n      }\n    }\n\n    if (selectAll) {\n      return curColl;\n    } else {\n      return curColl[0] || null;\n    }\n  }\n\n  VirtualDOM.vDomSelector = vDomSelector;\n\n  function processSelector(selector, mapper) {\n    var match = selector.match(idClassSelector);\n    var obj = {};\n\n    if (match) {\n      var curMapper = selectMapper[match[0]];\n\n      if (curMapper === 'className') {\n        var curObj = mapper.filter(function (obj) {\n          return obj.hasOwnProperty('className');\n        })[0];\n        var canPush = false;\n\n        if (!curObj) {\n          canPush = true;\n          curObj = {};\n        }\n\n        var existValue = curObj[curMapper] || '';\n        curObj[curMapper] = existValue + classRegexString.replace('{value}', selector.replace('.', ''));\n\n        if (canPush) {\n          mapper.push(curObj);\n        }\n      } else {\n        obj[curMapper] = selector.replace(match[0], '');\n        mapper.push(obj);\n      }\n    } else {\n      mapper.push({\n        tagName: selector\n      });\n    }\n  } //tslint:disable-next-line\n\n\n  function accessElement(ele, mapper, selectAll, immediateParent) {\n    if (ele.children) {\n      //tslint:disable-next-line\n      var temp_1 = ele.children.filter(function (child) {\n        if (typeof child !== 'string') {\n          var matched = true;\n\n          for (var _i = 0, mapper_1 = mapper; _i < mapper_1.length; _i++) {\n            var map = mapper_1[_i];\n            var key = Object.keys(map)[0];\n            var expected = map[key];\n            var actualValue = getValue(assigner[key], child);\n\n            if (key === 'className') {\n              if (!new RegExp('^' + expected + '.*$').test(actualValue)) {\n                matched = false;\n                break;\n              }\n            } else if (actualValue !== expected) {\n              matched = false;\n              break;\n            }\n          }\n\n          return matched;\n        } else {\n          return false;\n        }\n      });\n\n      if (!immediateParent && (!temp_1.length || selectAll)) {\n        ele.children.forEach(function (child) {\n          if (isObject(child)) {\n            temp_1 = temp_1.concat(accessElement(child, mapper, selectAll));\n          }\n        });\n      }\n\n      return temp_1;\n    } else {\n      return [];\n    }\n  }\n\n  VirtualDOM.accessElement = accessElement;\n\n  function ConvertHTMLToJSon(htmlString) {\n    var results = [];\n    var isText;\n    var tagArray = [];\n    var backup = htmlString;\n    var nodeArray = [];\n\n    while (htmlString) {\n      isText = true;\n      var lastVal = getLastValue(tagArray);\n\n      if (!lastVal || !contains(cspElement, lastVal)) {\n        if (htmlString.indexOf('</') === 0) {\n          var match = htmlString.match(endRegex);\n\n          if (match) {\n            htmlString = htmlString.substring(match[0].length); //tslint:disable-next-line\n\n            match[0].replace(endRegex, iterateEndTag);\n          }\n\n          isText = false;\n        } else if (htmlString.indexOf('<') === 0) {\n          var match = htmlString.match(startRegex);\n\n          if (match) {\n            htmlString = htmlString.substring(match[0].length); //tslint:disable-next-line\n\n            match[0].replace(startRegex, iterateStartTag);\n          }\n\n          isText = false;\n        }\n\n        if (isText) {\n          var tagIndex = htmlString.indexOf('<');\n          var text = tagIndex < 0 ? htmlString : htmlString.substring(0, tagIndex);\n          htmlString = tagIndex < 0 ? '' : htmlString.substring(tagIndex);\n          iterateText(text);\n        }\n      } else {\n        //tslint:disable-next-line\n        htmlString = htmlString.replace(new RegExp('([\\\\s\\\\S]*?)<\\/' + getLastValue(nodeArray) + '[^>]*>'), function (all, text) {\n          text = text.replace(/<!--([\\s\\S]*?)-->|<!\\[CDATA\\[([\\s\\S]*?)]]>/g, '$1$2');\n          iterateText(text);\n          return '';\n        });\n        iterateEndTag('', getLastValue(tagArray));\n      }\n\n      backup = htmlString;\n    }\n\n    function iterateStartTag(start, tagName, rest) {\n      tagName = tagName.toLowerCase();\n\n      if (contains(blockElements, tagName)) {\n        while (getLastValue(tagArray) && contains(inlineElement, getLastValue(tagArray))) {\n          iterateEndTag('', getLastValue(tagArray));\n        }\n      }\n\n      if (contains(selfClosingElements, tagName) && getLastValue(tagArray)) {\n        iterateEndTag('', tagName);\n      }\n\n      var isSelfTag = contains(emptyElements, tagName);\n\n      if (!isSelfTag) {\n        tagArray.push(tagName);\n      }\n\n      var attrs = {}; //tslint:disable-next-line\n\n      rest.replace(attributeRegex, function (match, name) {\n        var names = [];\n\n        for (var _i = 2; _i < arguments.length; _i++) {\n          names[_i - 2] = arguments[_i];\n        } //tslint:disable-next-line\n\n\n        var val = names[2] ? names[2] : names[3] ? names[3] : names[4] ? names[4] : contains(fillAttrs, name) ? name : '';\n\n        if (name === 'style') {\n          var valArr = val.split(';');\n          var vObj = {};\n\n          for (var i = 0, length_3 = valArr.length; i < length_3; i++) {\n            var cVal = valArr[i];\n            var styleSplit = cVal.split(':');\n            vObj[styleSplit[0]] = styleSplit[1];\n          }\n\n          val = vObj;\n        }\n\n        name = nameMapper[name] || name;\n        attrs[name] = val; //tslint:disable-next-line\n      });\n      attrs['data-id'] = getRandomId();\n      var tagObject = {\n        tagName: tagName,\n        attributes: attrs\n      };\n\n      if (isSelfTag) {\n        var parent_3 = nodeArray[0] || results;\n\n        if (parent_3.children === undefined) {\n          parent_3.children = [];\n        }\n\n        tagObject.parent = parent_3;\n        parent_3.children.push(tagObject);\n      } else {\n        nodeArray.unshift(tagObject);\n      }\n    }\n\n    function iterateEndTag(start, tagName) {\n      var pos;\n\n      if (!tagName) {\n        pos = 0;\n      } else {\n        for (pos = tagArray.length - 1; pos >= 0; pos--) {\n          if (tagArray[pos] === tagName) {\n            break;\n          }\n        }\n      }\n\n      if (pos >= 0) {\n        for (var j = nodeArray.length - 1; j >= pos; j--) {\n          //tslint:disable-next-line\n          var node = nodeArray.shift();\n\n          if (nodeArray.length === 0) {\n            results.push(node);\n          } else {\n            var parent_4 = nodeArray[0];\n\n            if (parent_4.children === undefined) {\n              parent_4.children = [];\n            }\n\n            node.parent = parent_4;\n            parent_4.children.push(node);\n          }\n        }\n\n        tagArray.length = pos;\n      }\n    }\n\n    function iterateText(text) {\n      if (nodeArray.length === 0) {\n        results.push(text);\n      } else {\n        var parent_5 = nodeArray[0];\n\n        if (parent_5.children === undefined) {\n          parent_5.children = [];\n        }\n\n        parent_5.children.push(text);\n      }\n    }\n\n    return results;\n  }\n\n  VirtualDOM.ConvertHTMLToJSon = ConvertHTMLToJSon; //tslint:disable-next-line \n\n  function getLastValue(arr) {\n    return arr[arr.length - 1];\n  }\n\n  function contains(arr, key) {\n    return arr.indexOf(key) !== -1;\n  } //tslint:disable-next-line\n\n\n  function cloneNode(ele, deep) {\n    if (isObject(ele)) {\n      if (deep) {\n        return extend({}, {}, ele, true);\n      } else {\n        return {\n          tagName: ele.tagName,\n          attributes: ele.attributes\n        };\n      }\n    } else {\n      return ele.cloneNode(deep);\n    }\n  }\n\n  VirtualDOM.cloneNode = cloneNode;\n\n  function setStyleAttribute(element, attrs) {\n    if (element.attributes.style) {\n      element.attributes.style = extend({}, attrs);\n    } else {\n      element.attributes.style = extend(element.attributes.style, attrs);\n    }\n  }\n\n  VirtualDOM.setStyleAttribute = setStyleAttribute; //tslint:enable:no-any\n})(VirtualDOM || (VirtualDOM = {}));","map":{"version":3,"names":["isObject","getValue","extend","isNullOrUndefined","getRandomId","simpleRegex","multipleSplitRegex","idClassSelector","selectMapper","classRegexString","assigner","className","id","tagName","emptyElements","blockElements","inlineElement","selfClosingElements","fillAttrs","cspElement","nameMapper","startRegex","endRegex","attributeRegex","VirtualDOM","createElement","properties","children","extended","keys","Object","length","innerHTML","ConvertHTMLToJSon","attrs","styles","valArr","split","vObj","i","length_1","cVal","styleSplit","style","attributes","assignParent","childrens","parent","forEach","child","detach","append","fromElements","toElement","concat","prepend","unshift","element","index","indexOf","splice","vDomSelector","_a","ele","selector","selectAll","immediateParent","iSelector","curColl","length_2","isDescendant","parent_2","curSelector","simpleSelector","mapper","test","processSelector","splitSelector","match","_i","splitSelector_1","curMap","dSelector","dParent","descendent","flag","_b","dSelector_1","sel","descendentChild","_c","dParent_1","iCurSelector","_d","parent_1","curParent","accessElement","obj","curMapper","curObj","filter","hasOwnProperty","canPush","existValue","replace","push","temp_1","matched","mapper_1","map","key","expected","actualValue","RegExp","htmlString","results","isText","tagArray","backup","nodeArray","lastVal","getLastValue","contains","substring","iterateEndTag","iterateStartTag","tagIndex","text","iterateText","all","start","rest","toLowerCase","isSelfTag","name","names","arguments","val","length_3","tagObject","parent_3","undefined","pos","j","node","shift","parent_4","parent_5","arr","cloneNode","deep","setStyleAttribute"],"sources":["D:/Theme/package/node_modules/@syncfusion/ej2-base/src/virtual-dom.js"],"sourcesContent":["import { isObject, getValue, extend, isNullOrUndefined } from './util';\nimport { getRandomId } from './template-engine';\nvar simpleRegex = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/;\nvar multipleSplitRegex = /(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))/g;\nvar idClassSelector = /^(\\.|#)/;\nvar selectMapper = {\n    '.': 'className',\n    '#': 'id'\n};\nvar classRegexString = '(?=.*?\\\\b{value}\\\\b)';\nvar assigner = { className: 'attributes.className', id: 'attributes.id', tagName: 'tagName' };\nvar emptyElements = ['area', 'base', 'basefont', 'br', 'col', 'frame', 'hr', 'img', 'input',\n    'link', 'meta', 'param', 'embed', 'command', 'keygen', 'source', 'track', 'wbr'];\nvar blockElements = ['a', 'address', 'article', 'applet', 'aside', 'audio', 'blockquote',\n    'button', 'canvas', 'center', 'dd', 'del', 'dir', 'div', 'dl', 'dt', 'fieldset', 'figcaption', 'figure',\n    'footer', 'form', 'frameset', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'header', 'hgroup', 'hr', 'iframe', 'ins',\n    'isindex', 'li', 'map', 'menu', 'noframes', 'noscript', 'object', 'ol', 'output', 'p', 'pre', 'section',\n    'script', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'ul', 'video'];\nvar inlineElement = ['abbr', 'acronym', 'applet', 'b', 'basefont', 'bdo', 'big', 'br', 'button',\n    'cite', 'code', 'del', 'dfn', 'em', 'font', 'i', 'iframe', 'img', 'input', 'ins', 'kbd', 'label', 'map',\n    'object', 'q', 's', 'samp', 'script', 'select', 'small', 'span', 'strike', 'strong', 'sub', 'sup', 'textarea',\n    'tt', 'u', 'var'];\nvar selfClosingElements = ['colgroup', 'dd', 'dt', 'li', 'options', 'p', 'td', 'tfoot', 'th',\n    'thead', 'tr'];\nvar fillAttrs = ['checked', 'compact', 'declare', 'defer', 'disabled', 'ismap', 'multiple',\n    'nohref', 'noresize', 'noshade', 'nowrap', 'readonly', 'selected'];\nvar cspElement = ['Script', 'style'];\nvar nameMapper = { 'tabindex': 'tabIndex' };\nvar startRegex = /^<([-A-Za-z0-9_]+)((?:\\s+[a-zA-Z_:][-a-zA-Z0-9_:.]*(?:\\s*=\\s*(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>\\s]+))?)*)\\s*(\\/?)>/;\nvar endRegex = /^<\\/([-A-Za-z0-9_]+)[^>]*>/;\nvar attributeRegex = /([a-zA-Z_:][-a-zA-Z0-9_:.]*)(?:\\s*=\\s*(?:(?:\"((?:\\\\.|[^\"])*)\")|(?:'((?:\\\\.|[^'])*)')|([^>\\s]+)))?/g;\n/**\n * Namespace for VirtualDOM\n * @private\n */\nexport var VirtualDOM;\n(function (VirtualDOM) {\n    //tslint:disable:no-any\n    function createElement(tagName, properties) {\n        var children = [];\n        var extended = extend({}, {}, properties, true);\n        if (!isNullOrUndefined(properties)) {\n            var keys = Object.keys(properties);\n            if (keys.length) {\n                if (extended.innerHTML) {\n                    children = ConvertHTMLToJSon(extended.innerHTML);\n                    delete extended.innerHTML;\n                }\n                if (extended.attrs) {\n                    extend(extended, extended.attrs);\n                    delete extended.attrs;\n                }\n                if (extended.styles) {\n                    var valArr = extended.styles.split(';');\n                    var vObj = {};\n                    for (var i = 0, length_1 = valArr.length; i < length_1; i++) {\n                        var cVal = valArr[i];\n                        var styleSplit = cVal.split(':');\n                        vObj[styleSplit[0]] = styleSplit[1];\n                    }\n                    delete extended.styles;\n                    extended.style = vObj;\n                }\n            }\n        }\n        return {\n            tagName: tagName,\n            attributes: extended || {},\n            children: children\n        };\n    }\n    VirtualDOM.createElement = createElement;\n    function assignParent(childrens, parent) {\n        if (parent && childrens) {\n            childrens.forEach(function (child) {\n                if (isObject(child)) {\n                    if (child.parent) {\n                        detach(child);\n                    }\n                    child.parent = parent;\n                }\n                return child;\n            });\n        }\n    }\n    VirtualDOM.assignParent = assignParent;\n    function append(fromElements, toElement) {\n        assignParent(fromElements, toElement);\n        if (toElement.children) {\n            toElement.children = toElement.children.concat(fromElements);\n        }\n        else {\n            toElement.children = [].concat(fromElements);\n        }\n    }\n    VirtualDOM.append = append;\n    function prepend(child, toElement) {\n        assignParent(child, toElement);\n        if (!toElement.children || !toElement.children.length) {\n            toElement.children = [];\n            toElement.children.concat(child);\n        }\n        else {\n            for (var i = child.length - 1; i >= 0; i--) {\n                toElement.children.unshift(child[i]);\n            }\n        }\n    }\n    VirtualDOM.prepend = prepend;\n    function detach(element) {\n        var parent = element.parent;\n        if (parent) {\n            var index = parent.children.indexOf(element);\n            if (index !== -1) {\n                parent.children.splice(index);\n            }\n        }\n        return parent;\n    }\n    VirtualDOM.detach = detach;\n    //tslint:disable-next-line\n    function vDomSelector(_a) {\n        var ele = _a.ele, selector = _a.selector, selectAll = _a.selectAll, immediateParent = _a.immediateParent;\n        var iSelector = selector.split(' ');\n        var curColl = ele;\n        for (var i = 0, length_2 = iSelector.length; i < length_2; i++) {\n            var isDescendant = false;\n            var parent_2 = curColl;\n            var curSelector = iSelector[i];\n            var simpleSelector = false;\n            var mapper = [];\n            if (simpleRegex.test(curSelector)) {\n                simpleSelector = true;\n                processSelector(curSelector, mapper);\n            }\n            else if (curSelector.indexOf('>') === -1) {\n                var splitSelector = curSelector.match(multipleSplitRegex);\n                for (var _i = 0, splitSelector_1 = splitSelector; _i < splitSelector_1.length; _i++) {\n                    var curMap = splitSelector_1[_i];\n                    processSelector(curMap, mapper);\n                }\n            }\n            else if (curSelector.indexOf('>') !== -1) {\n                isDescendant = true;\n                var dSelector = curSelector.split('>');\n                //tslint:disable-next-line\n                var dParent = ele;\n                var descendent = void 0;\n                var flag = 0;\n                for (var _b = 0, dSelector_1 = dSelector; _b < dSelector_1.length; _b++) {\n                    var sel = dSelector_1[_b];\n                    if (!dParent) {\n                        break;\n                    }\n                    if (dParent.length) {\n                        var descendentChild = [];\n                        for (var _c = 0, dParent_1 = dParent; _c < dParent_1.length; _c++) {\n                            var child = dParent_1[_c];\n                            descendentChild = descendentChild.concat(vDomSelector({\n                                ele: child, selector: sel,\n                                selectAll: selectAll, immediateParent: !!flag\n                            }));\n                        }\n                        descendent = descendentChild;\n                    }\n                    else {\n                        descendent = vDomSelector({ ele: dParent, selector: sel, selectAll: selectAll, immediateParent: !!flag });\n                    }\n                    flag++;\n                    dParent = descendent;\n                }\n                if (descendent) {\n                    curColl = descendent;\n                }\n            }\n            if (!isDescendant) {\n                if (parent_2.length) {\n                    var iCurSelector = [];\n                    for (var _d = 0, parent_1 = parent_2; _d < parent_1.length; _d++) {\n                        var curParent = parent_1[_d];\n                        iCurSelector = iCurSelector.concat(accessElement(curParent, mapper, selectAll, immediateParent));\n                    }\n                    curColl = iCurSelector;\n                }\n                else {\n                    curColl = accessElement(parent_2, mapper, selectAll, immediateParent);\n                }\n            }\n        }\n        if (selectAll) {\n            return curColl;\n        }\n        else {\n            return curColl[0] || null;\n        }\n    }\n    VirtualDOM.vDomSelector = vDomSelector;\n    function processSelector(selector, mapper) {\n        var match = selector.match(idClassSelector);\n        var obj = {};\n        if (match) {\n            var curMapper = selectMapper[match[0]];\n            if (curMapper === 'className') {\n                var curObj = mapper.filter(function (obj) { return obj.hasOwnProperty('className'); })[0];\n                var canPush = false;\n                if (!curObj) {\n                    canPush = true;\n                    curObj = {};\n                }\n                var existValue = curObj[curMapper] || '';\n                curObj[curMapper] = existValue + classRegexString.replace('{value}', selector.replace('.', ''));\n                if (canPush) {\n                    mapper.push(curObj);\n                }\n            }\n            else {\n                obj[curMapper] = selector.replace(match[0], '');\n                mapper.push(obj);\n            }\n        }\n        else {\n            mapper.push({ tagName: selector });\n        }\n    }\n    //tslint:disable-next-line\n    function accessElement(ele, mapper, selectAll, immediateParent) {\n        if (ele.children) {\n            //tslint:disable-next-line\n            var temp_1 = ele.children.filter(function (child) {\n                if (typeof (child) !== 'string') {\n                    var matched = true;\n                    for (var _i = 0, mapper_1 = mapper; _i < mapper_1.length; _i++) {\n                        var map = mapper_1[_i];\n                        var key = Object.keys(map)[0];\n                        var expected = map[key];\n                        var actualValue = getValue(assigner[key], child);\n                        if (key === 'className') {\n                            if (!(new RegExp('^' + expected + '.*$').test(actualValue))) {\n                                matched = false;\n                                break;\n                            }\n                        }\n                        else if (actualValue !== expected) {\n                            matched = false;\n                            break;\n                        }\n                    }\n                    return matched;\n                }\n                else {\n                    return false;\n                }\n            });\n            if (!immediateParent && (!temp_1.length || selectAll)) {\n                ele.children.forEach(function (child) {\n                    if (isObject(child)) {\n                        temp_1 = temp_1.concat(accessElement(child, mapper, selectAll));\n                    }\n                });\n            }\n            return temp_1;\n        }\n        else {\n            return [];\n        }\n    }\n    VirtualDOM.accessElement = accessElement;\n    function ConvertHTMLToJSon(htmlString) {\n        var results = [];\n        var isText;\n        var tagArray = [];\n        var backup = htmlString;\n        var nodeArray = [];\n        while (htmlString) {\n            isText = true;\n            var lastVal = getLastValue(tagArray);\n            if (!lastVal || !contains(cspElement, lastVal)) {\n                if (htmlString.indexOf('</') === 0) {\n                    var match = htmlString.match(endRegex);\n                    if (match) {\n                        htmlString = htmlString.substring(match[0].length);\n                        //tslint:disable-next-line\n                        match[0].replace(endRegex, iterateEndTag);\n                    }\n                    isText = false;\n                }\n                else if (htmlString.indexOf('<') === 0) {\n                    var match = htmlString.match(startRegex);\n                    if (match) {\n                        htmlString = htmlString.substring(match[0].length);\n                        //tslint:disable-next-line\n                        match[0].replace(startRegex, iterateStartTag);\n                    }\n                    isText = false;\n                }\n                if (isText) {\n                    var tagIndex = htmlString.indexOf('<');\n                    var text = tagIndex < 0 ? htmlString : htmlString.substring(0, tagIndex);\n                    htmlString = tagIndex < 0 ? '' : htmlString.substring(tagIndex);\n                    iterateText(text);\n                }\n            }\n            else {\n                //tslint:disable-next-line\n                htmlString = htmlString.replace(new RegExp('([\\\\s\\\\S]*?)<\\/' + getLastValue(nodeArray) + '[^>]*>'), function (all, text) {\n                    text = text.replace(/<!--([\\s\\S]*?)-->|<!\\[CDATA\\[([\\s\\S]*?)]]>/g, '$1$2');\n                    iterateText(text);\n                    return '';\n                });\n                iterateEndTag('', getLastValue(tagArray));\n            }\n            backup = htmlString;\n        }\n        function iterateStartTag(start, tagName, rest) {\n            tagName = tagName.toLowerCase();\n            if (contains(blockElements, tagName)) {\n                while (getLastValue(tagArray) && contains(inlineElement, getLastValue(tagArray))) {\n                    iterateEndTag('', getLastValue(tagArray));\n                }\n            }\n            if (contains(selfClosingElements, tagName) && getLastValue(tagArray)) {\n                iterateEndTag('', tagName);\n            }\n            var isSelfTag = contains(emptyElements, tagName);\n            if (!isSelfTag) {\n                tagArray.push(tagName);\n            }\n            var attrs = {};\n            //tslint:disable-next-line\n            rest.replace(attributeRegex, function (match, name) {\n                var names = [];\n                for (var _i = 2; _i < arguments.length; _i++) {\n                    names[_i - 2] = arguments[_i];\n                }\n                //tslint:disable-next-line\n                var val = names[2] ? names[2] :\n                    names[3] ? names[3] :\n                        names[4] ? names[4] :\n                            contains(fillAttrs, name) ? name : '';\n                if (name === 'style') {\n                    var valArr = val.split(';');\n                    var vObj = {};\n                    for (var i = 0, length_3 = valArr.length; i < length_3; i++) {\n                        var cVal = valArr[i];\n                        var styleSplit = cVal.split(':');\n                        vObj[styleSplit[0]] = styleSplit[1];\n                    }\n                    val = vObj;\n                }\n                name = nameMapper[name] || name;\n                attrs[name] = val;\n                //tslint:disable-next-line\n            });\n            attrs['data-id'] = getRandomId();\n            var tagObject = {\n                tagName: tagName,\n                attributes: attrs\n            };\n            if (isSelfTag) {\n                var parent_3 = (nodeArray[0] || results);\n                if (parent_3.children === undefined) {\n                    parent_3.children = [];\n                }\n                tagObject.parent = parent_3;\n                parent_3.children.push(tagObject);\n            }\n            else {\n                nodeArray.unshift(tagObject);\n            }\n        }\n        function iterateEndTag(start, tagName) {\n            var pos;\n            if (!tagName) {\n                pos = 0;\n            }\n            else {\n                for (pos = tagArray.length - 1; pos >= 0; pos--) {\n                    if (tagArray[pos] === tagName) {\n                        break;\n                    }\n                }\n            }\n            if (pos >= 0) {\n                for (var j = nodeArray.length - 1; j >= pos; j--) {\n                    //tslint:disable-next-line\n                    var node = nodeArray.shift();\n                    if (nodeArray.length === 0) {\n                        results.push(node);\n                    }\n                    else {\n                        var parent_4 = nodeArray[0];\n                        if (parent_4.children === undefined) {\n                            parent_4.children = [];\n                        }\n                        node.parent = parent_4;\n                        parent_4.children.push(node);\n                    }\n                }\n                tagArray.length = pos;\n            }\n        }\n        function iterateText(text) {\n            if (nodeArray.length === 0) {\n                results.push(text);\n            }\n            else {\n                var parent_5 = nodeArray[0];\n                if (parent_5.children === undefined) {\n                    parent_5.children = [];\n                }\n                parent_5.children.push(text);\n            }\n        }\n        return results;\n    }\n    VirtualDOM.ConvertHTMLToJSon = ConvertHTMLToJSon;\n    //tslint:disable-next-line \n    function getLastValue(arr) {\n        return arr[arr.length - 1];\n    }\n    function contains(arr, key) {\n        return arr.indexOf(key) !== -1;\n    }\n    //tslint:disable-next-line\n    function cloneNode(ele, deep) {\n        if (isObject(ele)) {\n            if (deep) {\n                return extend({}, {}, ele, true);\n            }\n            else {\n                return { tagName: ele.tagName, attributes: ele.attributes };\n            }\n        }\n        else {\n            return ele.cloneNode(deep);\n        }\n    }\n    VirtualDOM.cloneNode = cloneNode;\n    function setStyleAttribute(element, attrs) {\n        if (element.attributes.style) {\n            (element.attributes).style = extend({}, attrs);\n        }\n        else {\n            element.attributes.style = extend(element.attributes.style, attrs);\n        }\n    }\n    VirtualDOM.setStyleAttribute = setStyleAttribute;\n    //tslint:enable:no-any\n})(VirtualDOM || (VirtualDOM = {}));\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}