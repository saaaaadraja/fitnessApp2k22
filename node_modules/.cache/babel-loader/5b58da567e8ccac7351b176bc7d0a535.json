{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n/**\n * PdfPageLayerCollection.ts class for EJ2-PDF\n */\n\n\nimport { PdfPageBase } from './pdf-page-base';\nimport { PdfDictionary } from './../primitives/pdf-dictionary';\nimport { PdfPageLayer } from './pdf-page-layer';\nimport { PdfCollection } from './../general/pdf-collection';\nimport { PdfReferenceHolder } from './../primitives/pdf-reference';\nimport { PdfStream } from './../primitives/pdf-stream';\n/**\n * The class provides methods and properties to handle the collections of `PdfPageLayer`.\n */\n\nvar PdfPageLayerCollection =\n/** @class */\nfunction (_super) {\n  __extends(PdfPageLayerCollection, _super);\n\n  function PdfPageLayerCollection(page) {\n    var _this = _super.call(this) || this;\n    /**\n     * Stores the `number of first level layers` in the document.\n     * @default 0\n     * @private\n     */\n\n\n    _this.parentLayerCount = 0;\n    /**\n     * Indicates if `Sublayer` is present.\n     * @default false\n     * @private\n     */\n\n    _this.sublayer = false;\n    /**\n     * Stores the `optional content dictionary`.\n     * @private\n     */\n\n    _this.optionalContent = new PdfDictionary();\n\n    if (page instanceof PdfPageBase) {\n      // if (page == null) {\n      //     throw new Error('ArgumentNullException:page');\n      // }\n      _this.page = page;\n      var lPage = page; // if (lPage != null) {\n\n      _this.parseLayers(lPage); // }\n\n    }\n\n    return _this;\n  }\n\n  PdfPageLayerCollection.prototype.items = function (index, value) {\n    if (typeof index === 'number' && typeof value === 'undefined') {\n      var obj = this.list[index];\n      return obj;\n    } else {\n      if (value == null) {\n        throw new Error('ArgumentNullException: layer');\n      }\n\n      if (value.page !== this.page) {\n        throw new Error('ArgumentException: The layer belongs to another page');\n      } // // Add/remove the layer.\n      // let layer : PdfPageLayer = this.items(index);\n      // if (layer != null) {\n      //     this.RemoveLayer(layer);\n      // }\n      // this.List[index] = value;\n      // this.InsertLayer(index, value);\n\n    }\n  };\n\n  PdfPageLayerCollection.prototype.add = function (firstArgument, secondArgument) {\n    if (typeof firstArgument === 'undefined') {\n      var layer = new PdfPageLayer(this.page);\n      layer.name = '';\n      this.add(layer);\n      return layer;\n    } else if (firstArgument instanceof PdfPageLayer) {\n      // if (layer == null)\n      //     throw new ArgumentNullException(\"layer\");\n      // if (layer.Page != m_page)\n      //     throw new ArgumentException(\"The layer belongs to another page\");\n      var index = this.list.push(firstArgument); // Register layer.\n\n      this.addLayer(index, firstArgument);\n      return index;\n    } else {\n      return 0;\n    }\n  };\n  /**\n   * Registers `layer` at the page.\n   * @private\n   */\n\n\n  PdfPageLayerCollection.prototype.addLayer = function (index, layer) {\n    var reference = new PdfReferenceHolder(layer);\n    this.page.contents.add(reference);\n  }; // private RemoveLayer(layer : PdfPageLayer) : void {\n  //     if (layer == null) {\n  //         throw new Error('ArgumentNullException:layer');\n  //     }\n  //     let reference : PdfReferenceHolder = new PdfReferenceHolder(layer);\n  //     if (this.page != null) {\n  //         this.page.Contents.Remove(reference);\n  //     }\n  // }\n\n  /**\n   * Inserts `PdfPageLayer` into the collection at specified index.\n   * @private\n   */\n\n\n  PdfPageLayerCollection.prototype.insert = function (index, layer) {\n    // if (index < 0)\n    //     throw new ArgumentOutOfRangeException(\"index\", \"Value can not be less 0\");\n    // if (layer == null)\n    //     throw new ArgumentNullException(\"layer\");\n    // if (layer.Page != m_page)\n    //     throw new ArgumentException(\"The layer belongs to another page\");\n    var list = [];\n    var length = this.list.length;\n\n    for (var i = index; i < length; i++) {\n      list.push(this.list.pop());\n    }\n\n    this.list.push(layer);\n\n    for (var i = 0; i < list.length; i++) {\n      this.list.push(list[i]);\n    } // Register layer.\n\n\n    this.insertLayer(index, layer);\n  };\n  /**\n   * Registers layer at the page.\n   * @private\n   */\n\n\n  PdfPageLayerCollection.prototype.insertLayer = function (index, layer) {\n    if (layer == null) {\n      throw new Error('ArgumentNullException:layer');\n    }\n\n    var reference = new PdfReferenceHolder(layer);\n    this.page.contents.insert(index, reference);\n  }; // tslint:disable\n\n  /**\n   * `Parses the layers`.\n   * @private\n   */\n\n\n  PdfPageLayerCollection.prototype.parseLayers = function (loadedPage) {\n    // if (loadedPage == null) {\n    //     throw new Error('ArgumentNullException:loadedPage');\n    // }\n    var contents = this.page.contents;\n    var resource = this.page.getResources();\n    var crossTable = null;\n    var ocproperties = null;\n    var propertie = null;\n    var isLayerAdded = false; // if (loadedPage instanceof PdfPage) {\n\n    crossTable = loadedPage.crossTable; // } else {\n    //     crossTable = (loadedPage as PdfLoadedPage).CrossTable;\n    //     Propertie = PdfCrossTable.Dereference(Resource[DictionaryProperties.Properties]) as PdfDictionary;\n    //     ocproperties = PdfCrossTable.Dereference((loadedPage as PdfLoadedPage).\n    //     Document.Catalog[DictionaryProperties.OCProperties]) as PdfDictionary;\n    // }\n\n    var saveStream = new PdfStream();\n    var restoreStream = new PdfStream();\n    var saveState = 'q';\n    var newLine = '\\n';\n    var restoreState = 'Q'; // for (let index : number = 0; index < contents.Items.length; index++) {\n    //     let obj : IPdfPrimitive = contents[index];\n    //     let stream : PdfStream = crossTable.GetObject(obj) as PdfStream;\n    //     if (stream == null)\n    //         throw new PdfDocumentException(\"Invalid contents array.\");\n    //     // if (stream.Compress)\n    //     {\n    //         if (!loadedPage.Imported)\n    //             stream.Decompress();\n    //     }\n    //     byte[] contentId = stream.Data;\n    //     string str = PdfString.ByteToString(contentId);\n    //     if (!loadedPage.Imported && (contents.Count == 1) && ((stream.Data[stream.Data.Length - 2] ==\n    //     RestoreState) || (stream.Data[stream.Data.Length - 1] == RestoreState)))\n    //     {\n    //         byte[] content = stream.Data;\n    //         byte[] data = new byte[content.Length + 4];\n    //         data[0] = SaveState;\n    //         data[1] = NewLine;\n    //         content.CopyTo(data, 2);\n    //         data[data.Length - 2] = NewLine;\n    //         data[data.Length - 1] = RestoreState;\n    //         stream.Data = data;\n    //     }\n    //     if (ocproperties != null)\n    //     {\n    //         if (Propertie != null)\n    //         {\n    //             foreach (KeyValuePair<PdfName, IPdfPrimitive> prop in Propertie.Items)\n    //             {\n    //                 String Key = prop.Key.ToString();\n    //                 PdfReferenceHolder refh = prop.Value as PdfReferenceHolder;\n    //                 PdfDictionary Dict = null;\n    //                 if (refh != null)\n    //                 {\n    //                     Dict = refh.Object as PdfDictionary;\n    //                 }\n    //                 else\n    //                 {\n    //                     Dict = prop.Value as PdfDictionary;\n    //                 }\n    //                 PdfDictionary m_usage = PdfCrossTable.Dereference(Dict[DictionaryProperties.Usage]) as PdfDictionary;\n    //                 if (m_usage != null)\n    //                 {\n    //                     if (str.Contains(Key))\n    //                     {\n    //                         PdfPageLayer layer = new PdfPageLayer(loadedPage, stream);\n    //                         PdfDictionary printoption = PdfCrossTable.Dereference(m_usage[DictionaryProperties.Print])\n    //                         as PdfDictionary;\n    //                         if (printoption != null)\n    //                         {\n    //                             layer.m_printOption = printoption;\n    //                             foreach (KeyValuePair<PdfName, IPdfPrimitive> value in printoption.Items)\n    //                             {\n    //                                 if (value.Key.Value.Equals(DictionaryProperties.PrintState))\n    //                                 {\n    //                                     string printState = (value.Value as PdfName).Value;\n    //                                     if (printState.Equals(DictionaryProperties.OCGON))\n    //                                     {\n    //                                         layer.PrintState = PdfPrintState.AlwaysPrint;\n    //                                         break;\n    //                                     }\n    //                                     else\n    //                                     {\n    //                                         layer.PrintState = PdfPrintState.NeverPrint;\n    //                                         break;\n    //                                     }\n    //                                 }\n    //                             }\n    //                         }\n    //                         PdfString layerName = PdfCrossTable.Dereference(Dict[DictionaryProperties.Name]) as PdfString;\n    //                         layer.Name = layerName.Value;\n    //                         List.add(layer);\n    //                         isLayerAdded = true;\n    //                         if(!str.Contains(\"EMC\"))\n    //                         break;\n    //                     }\n    //                 }\n    //                 else\n    //                 {\n    //                     if (str.Contains(Key))\n    //                     {\n    //                         PdfPageLayer layer = new PdfPageLayer(loadedPage, stream);\n    //                         List.add(layer);\n    //                         if(Dict.ContainsKey(DictionaryProperties.Name))\n    //                         {\n    //                         PdfString layerName = PdfCrossTable.Dereference(Dict[DictionaryProperties.Name]) as PdfString;\n    //                         layer.Name = layerName.Value;\n    //                         }\n    //                         isLayerAdded = true;\n    //                         break;\n    //                     }\n    //                 }\n    //             }\n    //         }\n    //     }\n    //     if (!isLayerAdded)\n    //     {\n    //         PdfPageLayer layer = new PdfPageLayer(loadedPage, stream);\n    //         List.add(layer);\n    //     }\n    //     else\n    //         isLayerAdded = false;\n    // }\n\n    var saveData = [];\n    saveData.push(saveState);\n    saveStream.data = saveData;\n    contents.insert(0, new PdfReferenceHolder(saveStream));\n    saveData = [];\n    saveData.push(restoreState);\n    restoreStream.data = saveData;\n    contents.insert(contents.count, new PdfReferenceHolder(restoreStream));\n  };\n  /**\n   * Returns `index of` the `PdfPageLayer` in the collection if exists, -1 otherwise.\n   * @private\n   */\n\n\n  PdfPageLayerCollection.prototype.indexOf = function (layer) {\n    if (layer == null) {\n      throw new Error('ArgumentNullException: layer');\n    }\n\n    var index = this.list.indexOf(layer);\n    return index;\n  };\n\n  return PdfPageLayerCollection;\n}(PdfCollection);\n\nexport { PdfPageLayerCollection };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","PdfPageBase","PdfDictionary","PdfPageLayer","PdfCollection","PdfReferenceHolder","PdfStream","PdfPageLayerCollection","_super","page","_this","call","parentLayerCount","sublayer","optionalContent","lPage","parseLayers","items","index","value","obj","list","Error","add","firstArgument","secondArgument","layer","name","push","addLayer","reference","contents","insert","length","i","pop","insertLayer","loadedPage","resource","getResources","crossTable","ocproperties","propertie","isLayerAdded","saveStream","restoreStream","saveState","newLine","restoreState","saveData","data","count","indexOf"],"sources":["D:/Theme/package/node_modules/@syncfusion/ej2-pdf-export/src/implementation/pages/pdf-page-layer-collection.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * PdfPageLayerCollection.ts class for EJ2-PDF\n */\nimport { PdfPageBase } from './pdf-page-base';\nimport { PdfDictionary } from './../primitives/pdf-dictionary';\nimport { PdfPageLayer } from './pdf-page-layer';\nimport { PdfCollection } from './../general/pdf-collection';\nimport { PdfReferenceHolder } from './../primitives/pdf-reference';\nimport { PdfStream } from './../primitives/pdf-stream';\n/**\n * The class provides methods and properties to handle the collections of `PdfPageLayer`.\n */\nvar PdfPageLayerCollection = /** @class */ (function (_super) {\n    __extends(PdfPageLayerCollection, _super);\n    function PdfPageLayerCollection(page) {\n        var _this = _super.call(this) || this;\n        /**\n         * Stores the `number of first level layers` in the document.\n         * @default 0\n         * @private\n         */\n        _this.parentLayerCount = 0;\n        /**\n         * Indicates if `Sublayer` is present.\n         * @default false\n         * @private\n         */\n        _this.sublayer = false;\n        /**\n         * Stores the `optional content dictionary`.\n         * @private\n         */\n        _this.optionalContent = new PdfDictionary();\n        if (page instanceof PdfPageBase) {\n            // if (page == null) {\n            //     throw new Error('ArgumentNullException:page');\n            // }\n            _this.page = page;\n            var lPage = page;\n            // if (lPage != null) {\n            _this.parseLayers(lPage);\n            // }\n        }\n        return _this;\n    }\n    PdfPageLayerCollection.prototype.items = function (index, value) {\n        if (typeof index === 'number' && typeof value === 'undefined') {\n            var obj = this.list[index];\n            return obj;\n        }\n        else {\n            if (value == null) {\n                throw new Error('ArgumentNullException: layer');\n            }\n            if (value.page !== this.page) {\n                throw new Error('ArgumentException: The layer belongs to another page');\n            }\n            // // Add/remove the layer.\n            // let layer : PdfPageLayer = this.items(index);\n            // if (layer != null) {\n            //     this.RemoveLayer(layer);\n            // }\n            // this.List[index] = value;\n            // this.InsertLayer(index, value);\n        }\n    };\n    PdfPageLayerCollection.prototype.add = function (firstArgument, secondArgument) {\n        if (typeof firstArgument === 'undefined') {\n            var layer = new PdfPageLayer(this.page);\n            layer.name = '';\n            this.add(layer);\n            return layer;\n        }\n        else if (firstArgument instanceof PdfPageLayer) {\n            // if (layer == null)\n            //     throw new ArgumentNullException(\"layer\");\n            // if (layer.Page != m_page)\n            //     throw new ArgumentException(\"The layer belongs to another page\");\n            var index = this.list.push(firstArgument);\n            // Register layer.\n            this.addLayer(index, firstArgument);\n            return index;\n        }\n        else {\n            return 0;\n        }\n    };\n    /**\n     * Registers `layer` at the page.\n     * @private\n     */\n    PdfPageLayerCollection.prototype.addLayer = function (index, layer) {\n        var reference = new PdfReferenceHolder(layer);\n        this.page.contents.add(reference);\n    };\n    // private RemoveLayer(layer : PdfPageLayer) : void {\n    //     if (layer == null) {\n    //         throw new Error('ArgumentNullException:layer');\n    //     }\n    //     let reference : PdfReferenceHolder = new PdfReferenceHolder(layer);\n    //     if (this.page != null) {\n    //         this.page.Contents.Remove(reference);\n    //     }\n    // }\n    /**\n     * Inserts `PdfPageLayer` into the collection at specified index.\n     * @private\n     */\n    PdfPageLayerCollection.prototype.insert = function (index, layer) {\n        // if (index < 0)\n        //     throw new ArgumentOutOfRangeException(\"index\", \"Value can not be less 0\");\n        // if (layer == null)\n        //     throw new ArgumentNullException(\"layer\");\n        // if (layer.Page != m_page)\n        //     throw new ArgumentException(\"The layer belongs to another page\");\n        var list = [];\n        var length = this.list.length;\n        for (var i = index; i < length; i++) {\n            list.push(this.list.pop());\n        }\n        this.list.push(layer);\n        for (var i = 0; i < list.length; i++) {\n            this.list.push(list[i]);\n        }\n        // Register layer.\n        this.insertLayer(index, layer);\n    };\n    /**\n     * Registers layer at the page.\n     * @private\n     */\n    PdfPageLayerCollection.prototype.insertLayer = function (index, layer) {\n        if (layer == null) {\n            throw new Error('ArgumentNullException:layer');\n        }\n        var reference = new PdfReferenceHolder(layer);\n        this.page.contents.insert(index, reference);\n    };\n    // tslint:disable\n    /**\n     * `Parses the layers`.\n     * @private\n     */\n    PdfPageLayerCollection.prototype.parseLayers = function (loadedPage) {\n        // if (loadedPage == null) {\n        //     throw new Error('ArgumentNullException:loadedPage');\n        // }\n        var contents = this.page.contents;\n        var resource = this.page.getResources();\n        var crossTable = null;\n        var ocproperties = null;\n        var propertie = null;\n        var isLayerAdded = false;\n        // if (loadedPage instanceof PdfPage) {\n        crossTable = loadedPage.crossTable;\n        // } else {\n        //     crossTable = (loadedPage as PdfLoadedPage).CrossTable;\n        //     Propertie = PdfCrossTable.Dereference(Resource[DictionaryProperties.Properties]) as PdfDictionary;\n        //     ocproperties = PdfCrossTable.Dereference((loadedPage as PdfLoadedPage).\n        //     Document.Catalog[DictionaryProperties.OCProperties]) as PdfDictionary;\n        // }\n        var saveStream = new PdfStream();\n        var restoreStream = new PdfStream();\n        var saveState = 'q';\n        var newLine = '\\n';\n        var restoreState = 'Q';\n        // for (let index : number = 0; index < contents.Items.length; index++) {\n        //     let obj : IPdfPrimitive = contents[index];\n        //     let stream : PdfStream = crossTable.GetObject(obj) as PdfStream;\n        //     if (stream == null)\n        //         throw new PdfDocumentException(\"Invalid contents array.\");\n        //     // if (stream.Compress)\n        //     {\n        //         if (!loadedPage.Imported)\n        //             stream.Decompress();\n        //     }\n        //     byte[] contentId = stream.Data;\n        //     string str = PdfString.ByteToString(contentId);\n        //     if (!loadedPage.Imported && (contents.Count == 1) && ((stream.Data[stream.Data.Length - 2] ==\n        //     RestoreState) || (stream.Data[stream.Data.Length - 1] == RestoreState)))\n        //     {\n        //         byte[] content = stream.Data;\n        //         byte[] data = new byte[content.Length + 4];\n        //         data[0] = SaveState;\n        //         data[1] = NewLine;\n        //         content.CopyTo(data, 2);\n        //         data[data.Length - 2] = NewLine;\n        //         data[data.Length - 1] = RestoreState;\n        //         stream.Data = data;\n        //     }\n        //     if (ocproperties != null)\n        //     {\n        //         if (Propertie != null)\n        //         {\n        //             foreach (KeyValuePair<PdfName, IPdfPrimitive> prop in Propertie.Items)\n        //             {\n        //                 String Key = prop.Key.ToString();\n        //                 PdfReferenceHolder refh = prop.Value as PdfReferenceHolder;\n        //                 PdfDictionary Dict = null;\n        //                 if (refh != null)\n        //                 {\n        //                     Dict = refh.Object as PdfDictionary;\n        //                 }\n        //                 else\n        //                 {\n        //                     Dict = prop.Value as PdfDictionary;\n        //                 }\n        //                 PdfDictionary m_usage = PdfCrossTable.Dereference(Dict[DictionaryProperties.Usage]) as PdfDictionary;\n        //                 if (m_usage != null)\n        //                 {\n        //                     if (str.Contains(Key))\n        //                     {\n        //                         PdfPageLayer layer = new PdfPageLayer(loadedPage, stream);\n        //                         PdfDictionary printoption = PdfCrossTable.Dereference(m_usage[DictionaryProperties.Print])\n        //                         as PdfDictionary;\n        //                         if (printoption != null)\n        //                         {\n        //                             layer.m_printOption = printoption;\n        //                             foreach (KeyValuePair<PdfName, IPdfPrimitive> value in printoption.Items)\n        //                             {\n        //                                 if (value.Key.Value.Equals(DictionaryProperties.PrintState))\n        //                                 {\n        //                                     string printState = (value.Value as PdfName).Value;\n        //                                     if (printState.Equals(DictionaryProperties.OCGON))\n        //                                     {\n        //                                         layer.PrintState = PdfPrintState.AlwaysPrint;\n        //                                         break;\n        //                                     }\n        //                                     else\n        //                                     {\n        //                                         layer.PrintState = PdfPrintState.NeverPrint;\n        //                                         break;\n        //                                     }\n        //                                 }\n        //                             }\n        //                         }\n        //                         PdfString layerName = PdfCrossTable.Dereference(Dict[DictionaryProperties.Name]) as PdfString;\n        //                         layer.Name = layerName.Value;\n        //                         List.add(layer);\n        //                         isLayerAdded = true;\n        //                         if(!str.Contains(\"EMC\"))\n        //                         break;\n        //                     }\n        //                 }\n        //                 else\n        //                 {\n        //                     if (str.Contains(Key))\n        //                     {\n        //                         PdfPageLayer layer = new PdfPageLayer(loadedPage, stream);\n        //                         List.add(layer);\n        //                         if(Dict.ContainsKey(DictionaryProperties.Name))\n        //                         {\n        //                         PdfString layerName = PdfCrossTable.Dereference(Dict[DictionaryProperties.Name]) as PdfString;\n        //                         layer.Name = layerName.Value;\n        //                         }\n        //                         isLayerAdded = true;\n        //                         break;\n        //                     }\n        //                 }\n        //             }\n        //         }\n        //     }\n        //     if (!isLayerAdded)\n        //     {\n        //         PdfPageLayer layer = new PdfPageLayer(loadedPage, stream);\n        //         List.add(layer);\n        //     }\n        //     else\n        //         isLayerAdded = false;\n        // }\n        var saveData = [];\n        saveData.push(saveState);\n        saveStream.data = saveData;\n        contents.insert(0, new PdfReferenceHolder(saveStream));\n        saveData = [];\n        saveData.push(restoreState);\n        restoreStream.data = saveData;\n        contents.insert(contents.count, new PdfReferenceHolder(restoreStream));\n    };\n    /**\n     * Returns `index of` the `PdfPageLayer` in the collection if exists, -1 otherwise.\n     * @private\n     */\n    PdfPageLayerCollection.prototype.indexOf = function (layer) {\n        if (layer == null) {\n            throw new Error('ArgumentNullException: layer');\n        }\n        var index = this.list.indexOf(layer);\n        return index;\n    };\n    return PdfPageLayerCollection;\n}(PdfCollection));\nexport { PdfPageLayerCollection };\n"],"mappings":"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AG,IAAIzB,kBAAJ,CAAuBqB,KAAvB,CAAhB;IACA,KAAKjB,IAAL,CAAUsB,QAAV,CAAmBC,MAAnB,CAA0Bd,KAA1B,EAAiCY,SAAjC;EACH,CAND,CAvH0D,CA8H1D;;EACA;AACJ;AACA;AACA;;;EACIvB,sBAAsB,CAACR,SAAvB,CAAiCiB,WAAjC,GAA+C,UAAUqB,UAAV,EAAsB;IACjE;IACA;IACA;IACA,IAAIN,QAAQ,GAAG,KAAKtB,IAAL,CAAUsB,QAAzB;IACA,IAAIO,QAAQ,GAAG,KAAK7B,IAAL,CAAU8B,YAAV,EAAf;IACA,IAAIC,UAAU,GAAG,IAAjB;IACA,IAAIC,YAAY,GAAG,IAAnB;IACA,IAAIC,SAAS,GAAG,IAAhB;IACA,IAAIC,YAAY,GAAG,KAAnB,CATiE,CAUjE;;IACAH,UAAU,GAAGH,UAAU,CAACG,UAAxB,CAXiE,CAYjE;IACA;IACA;IACA;IACA;IACA;;IACA,IAAII,UAAU,GAAG,IAAItC,SAAJ,EAAjB;IACA,IAAIuC,aAAa,GAAG,IAAIvC,SAAJ,EAApB;IACA,IAAIwC,SAAS,GAAG,GAAhB;IACA,IAAIC,OAAO,GAAG,IAAd;IACA,IAAIC,YAAY,GAAG,GAAnB,CAtBiE,CAuBjE;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA,IAAIC,QAAQ,GAAG,EAAf;IACAA,QAAQ,CAACrB,IAAT,CAAckB,SAAd;IACAF,UAAU,CAACM,IAAX,GAAkBD,QAAlB;IACAlB,QAAQ,CAACC,MAAT,CAAgB,CAAhB,EAAmB,IAAI3B,kBAAJ,CAAuBuC,UAAvB,CAAnB;IACAK,QAAQ,GAAG,EAAX;IACAA,QAAQ,CAACrB,IAAT,CAAcoB,YAAd;IACAH,aAAa,CAACK,IAAd,GAAqBD,QAArB;IACAlB,QAAQ,CAACC,MAAT,CAAgBD,QAAQ,CAACoB,KAAzB,EAAgC,IAAI9C,kBAAJ,CAAuBwC,aAAvB,CAAhC;EACH,CAvID;EAwIA;AACJ;AACA;AACA;;;EACItC,sBAAsB,CAACR,SAAvB,CAAiCqD,OAAjC,GAA2C,UAAU1B,KAAV,EAAiB;IACxD,IAAIA,KAAK,IAAI,IAAb,EAAmB;MACf,MAAM,IAAIJ,KAAJ,CAAU,8BAAV,CAAN;IACH;;IACD,IAAIJ,KAAK,GAAG,KAAKG,IAAL,CAAU+B,OAAV,CAAkB1B,KAAlB,CAAZ;IACA,OAAOR,KAAP;EACH,CAND;;EAOA,OAAOX,sBAAP;AACH,CAvR2C,CAuR1CH,aAvR0C,CAA5C;;AAwRA,SAASG,sBAAT"},"metadata":{},"sourceType":"module"}