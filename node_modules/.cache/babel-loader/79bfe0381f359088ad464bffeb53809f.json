{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { TechnicalAnalysis } from './indicator-base';\n/**\n * `AtrIndicator` module is used to render ATR indicator.\n */\n\nvar AtrIndicator =\n/** @class */\nfunction (_super) {\n  __extends(AtrIndicator, _super);\n\n  function AtrIndicator() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  /**\n   * Defines the predictions using Average True Range approach\n   * @private\n   */\n\n\n  AtrIndicator.prototype.initDataSource = function (indicator, chart) {\n    var validData = indicator.points;\n\n    if (validData.length > 0 && validData.length > indicator.period) {\n      this.calculateATRPoints(indicator, validData);\n    }\n  };\n  /**\n   *  To calculate Average True Range indicator points\n   * @private\n   */\n\n\n  AtrIndicator.prototype.calculateATRPoints = function (indicator, validData) {\n    var average = 0;\n    var highLow = 0;\n    var highClose = 0;\n    var lowClose = 0;\n    var trueRange = 0;\n    var points = [];\n    var temp = [];\n    var period = indicator.period;\n    var sum = 0;\n    var y = 'y';\n    var signalSeries = indicator.targetSeries[0];\n\n    for (var i = 0; i < validData.length; i++) {\n      /**\n       * Current High less the current Low\n       * Current High less the previous Close (absolute value)\n       * Current Low less the previous Close (absolute value)\n       */\n      highLow = Number(validData[i].high) - Number(validData[i].low);\n\n      if (i > 0) {\n        //\n        highClose = Math.abs(Number(validData[i].high) - Number(validData[i - 1].close));\n        lowClose = Math.abs(Number(validData[i].low) - Number(validData[i - 1].close));\n      }\n      /**\n       * To find the maximum of highLow, highClose, lowClose\n       */\n\n\n      trueRange = Math.max(highLow, highClose, lowClose);\n      sum = sum + trueRange;\n      /**\n       * Push the x and y values for the Average true range indicator\n       */\n\n      if (i >= period) {\n        average = (Number(temp[i - 1][y]) * (period - 1) + trueRange) / period;\n        points.push(this.getDataPoint(validData[i].x, average, validData[i], signalSeries, points.length));\n      } else {\n        average = sum / period;\n\n        if (i === period - 1) {\n          points.push(this.getDataPoint(validData[i].x, average, validData[i], signalSeries, points.length));\n        }\n      }\n\n      temp[i] = {\n        x: validData[i].x,\n        y: average\n      };\n    }\n\n    this.setSeriesRange(points, indicator);\n  };\n  /**\n   * To destroy the Average true range indicator.\n   * @return {void}\n   * @private\n   */\n\n\n  AtrIndicator.prototype.destroy = function (chart) {\n    /**\n     * Destroy the Average true range indicator\n     */\n  };\n  /**\n   * Get module name.\n   */\n\n\n  AtrIndicator.prototype.getModuleName = function () {\n    /**\n     * Returns the module name of the Indicator\n     */\n    return 'AtrIndicator';\n  };\n\n  return AtrIndicator;\n}(TechnicalAnalysis);\n\nexport { AtrIndicator };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","TechnicalAnalysis","AtrIndicator","_super","apply","arguments","initDataSource","indicator","chart","validData","points","length","period","calculateATRPoints","average","highLow","highClose","lowClose","trueRange","temp","sum","y","signalSeries","targetSeries","i","Number","high","low","Math","abs","close","max","push","getDataPoint","x","setSeriesRange","destroy","getModuleName"],"sources":["D:/Theme/package/node_modules/@syncfusion/ej2-charts/src/chart/technical-indicators/atr-indicator.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { TechnicalAnalysis } from './indicator-base';\n/**\n * `AtrIndicator` module is used to render ATR indicator.\n */\nvar AtrIndicator = /** @class */ (function (_super) {\n    __extends(AtrIndicator, _super);\n    function AtrIndicator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Defines the predictions using Average True Range approach\n     * @private\n     */\n    AtrIndicator.prototype.initDataSource = function (indicator, chart) {\n        var validData = indicator.points;\n        if (validData.length > 0 && validData.length > indicator.period) {\n            this.calculateATRPoints(indicator, validData);\n        }\n    };\n    /**\n     *  To calculate Average True Range indicator points\n     * @private\n     */\n    AtrIndicator.prototype.calculateATRPoints = function (indicator, validData) {\n        var average = 0;\n        var highLow = 0;\n        var highClose = 0;\n        var lowClose = 0;\n        var trueRange = 0;\n        var points = [];\n        var temp = [];\n        var period = indicator.period;\n        var sum = 0;\n        var y = 'y';\n        var signalSeries = indicator.targetSeries[0];\n        for (var i = 0; i < validData.length; i++) {\n            /**\n             * Current High less the current Low\n             * Current High less the previous Close (absolute value)\n             * Current Low less the previous Close (absolute value)\n             */\n            highLow = Number(validData[i].high) - Number(validData[i].low);\n            if (i > 0) {\n                //\n                highClose = Math.abs(Number(validData[i].high) - Number(validData[i - 1].close));\n                lowClose = Math.abs(Number(validData[i].low) - Number(validData[i - 1].close));\n            }\n            /**\n             * To find the maximum of highLow, highClose, lowClose\n             */\n            trueRange = Math.max(highLow, highClose, lowClose);\n            sum = sum + trueRange;\n            /**\n             * Push the x and y values for the Average true range indicator\n             */\n            if (i >= period) {\n                average = (Number(temp[i - 1][y]) * (period - 1) + trueRange) / period;\n                points.push(this.getDataPoint(validData[i].x, average, validData[i], signalSeries, points.length));\n            }\n            else {\n                average = sum / period;\n                if (i === period - 1) {\n                    points.push(this.getDataPoint(validData[i].x, average, validData[i], signalSeries, points.length));\n                }\n            }\n            temp[i] = { x: validData[i].x, y: average };\n        }\n        this.setSeriesRange(points, indicator);\n    };\n    /**\n     * To destroy the Average true range indicator.\n     * @return {void}\n     * @private\n     */\n    AtrIndicator.prototype.destroy = function (chart) {\n        /**\n         * Destroy the Average true range indicator\n         */\n    };\n    /**\n     * Get module name.\n     */\n    AtrIndicator.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the Indicator\n         */\n        return 'AtrIndicator';\n    };\n    return AtrIndicator;\n}(TechnicalAnalysis));\nexport { AtrIndicator };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}