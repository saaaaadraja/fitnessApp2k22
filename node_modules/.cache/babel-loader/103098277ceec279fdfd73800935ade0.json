{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n/**\n * AccumulationChart Tooltip file\n */\n\n\nimport { Browser, remove } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { AccPointData, withInBounds, indexFinder } from '../../common/utils/helper';\nimport { BaseTooltip } from '../../common/user-interaction/tooltip';\nimport { tooltipRender } from '../../common/model/constants';\n/**\n * `AccumulationTooltip` module is used to render tooltip for accumulation chart.\n */\n\nvar AccumulationTooltip =\n/** @class */\nfunction (_super) {\n  __extends(AccumulationTooltip, _super);\n\n  function AccumulationTooltip(accumulation) {\n    var _this = _super.call(this, accumulation) || this;\n\n    _this.accumulation = accumulation;\n\n    _this.addEventListener();\n\n    return _this;\n  }\n  /**\n   * @hidden\n   */\n\n\n  AccumulationTooltip.prototype.addEventListener = function () {\n    if (this.accumulation.isDestroyed) {\n      return;\n    }\n\n    this.accumulation.on(Browser.isPointer ? 'pointerleave' : 'mouseleave', this.mouseLeaveHandler, this);\n    this.accumulation.on(Browser.touchMoveEvent, this.mouseMoveHandler, this);\n    this.accumulation.on(Browser.touchEndEvent, this.mouseUpHandler, this);\n  };\n\n  AccumulationTooltip.prototype.mouseLeaveHandler = function (e) {\n    this.removeTooltip(this.accumulation.tooltip.fadeOutDuration);\n  };\n\n  AccumulationTooltip.prototype.mouseUpHandler = function (e) {\n    var control = this.accumulation;\n\n    if (control.tooltip.enable && control.isTouch && withInBounds(control.mouseX, control.mouseY, control.initialClipRect)) {\n      this.tooltip(e);\n      this.removeTooltip(2000);\n    }\n  };\n\n  AccumulationTooltip.prototype.mouseMoveHandler = function (e) {\n    var control = this.accumulation; // Tooltip for chart series.\n\n    if (control.tooltip.enable && withInBounds(control.mouseX, control.mouseY, control.initialClipRect)) {\n      this.tooltip(e);\n    }\n  };\n  /**\n   * Renders the tooltip.\n   * @param  {PointerEvent} event - Mouse move event.\n   * @return {void}\n   */\n\n\n  AccumulationTooltip.prototype.tooltip = function (event) {\n    var svgElement = this.getElement(this.element.id + '_tooltip_svg');\n    var isTooltip = svgElement && parseInt(svgElement.getAttribute('opacity'), 10) > 0;\n    var tooltipDiv = this.getTooltipElement(isTooltip);\n    this.renderSeriesTooltip(event, this.accumulation, !isTooltip, tooltipDiv);\n  };\n\n  AccumulationTooltip.prototype.renderSeriesTooltip = function (e, chart, isFirst, tooltipDiv) {\n    var data = this.getPieData(e, chart, chart.mouseX, chart.mouseY);\n    var rect = chart.initialClipRect;\n    this.currentPoints = [];\n\n    if (data.point && (!this.previousPoints[0] || this.previousPoints[0].point !== data.point)) {\n      if (this.previousPoints[0] && data.point.index === this.previousPoints[0].point.index && data.series.index === this.previousPoints[0].series.index) {\n        return null;\n      }\n\n      if (this.pushData(data, isFirst, tooltipDiv, false)) {\n        this.triggerTooltipRender(data, isFirst, this.getTooltipText(data, chart.tooltip), this.findHeader(data));\n      }\n    } else {\n      if (!data.point && this.isRemove) {\n        this.removeTooltip(this.accumulation.tooltip.fadeOutDuration);\n        this.isRemove = false;\n      }\n    }\n  };\n\n  AccumulationTooltip.prototype.triggerTooltipRender = function (point, isFirst, textCollection, headerText, firstText) {\n    var _this = this;\n\n    if (firstText === void 0) {\n      firstText = true;\n    }\n\n    var template;\n    var argsData = {\n      cancel: false,\n      name: tooltipRender,\n      text: textCollection,\n      point: point.point,\n      textStyle: this.textStyle,\n      series: this.accumulation.isBlazor ? {} : point.series,\n      headerText: headerText,\n      data: {\n        pointX: point.point.x,\n        pointY: point.point.y,\n        seriesIndex: point.series.index,\n        pointIndex: point.point.index,\n        pointText: point.point.text,\n        seriesName: point.series.name\n      }\n    };\n\n    var tooltipSuccess = function tooltipSuccess(argsData) {\n      if (!argsData.cancel) {\n        _this.formattedText = _this.formattedText.concat(argsData.text);\n        _this.text = _this.formattedText;\n        _this.headerText = argsData.headerText;\n\n        _this.createTooltip(_this.chart, isFirst, point.point.symbolLocation, point.series.clipRect, point.point, ['Circle'], 0, _this.chart.initialClipRect, null, point.point, _this.accumulation.tooltip.template ? argsData.template : '');\n      } else {\n        _this.removeHighlight(_this.control);\n\n        remove(_this.getElement(_this.element.id + '_tooltip'));\n      }\n\n      _this.isRemove = true;\n    };\n\n    tooltipSuccess.bind(this, point);\n    this.chart.trigger(tooltipRender, argsData, tooltipSuccess);\n  };\n\n  AccumulationTooltip.prototype.getPieData = function (e, chart, x, y) {\n    var target = e.target;\n    var id = indexFinder(target.id, true);\n\n    if (!isNaN(id.series)) {\n      var seriesIndex = id.series;\n      var pointIndex = id.point;\n\n      if (!isNullOrUndefined(seriesIndex) && !isNaN(seriesIndex) && !isNullOrUndefined(pointIndex) && !isNaN(pointIndex)) {\n        var series = this.getSeriesFromIndex(seriesIndex, chart.visibleSeries);\n\n        if (series.enableTooltip) {\n          return new AccPointData(series.points[pointIndex], series);\n        }\n      }\n    }\n\n    return new AccPointData(null, null);\n  };\n  /**\n   * To get series from index\n   */\n\n\n  AccumulationTooltip.prototype.getSeriesFromIndex = function (index, visibleSeries) {\n    return visibleSeries[0];\n  };\n\n  AccumulationTooltip.prototype.getTooltipText = function (data, tooltip) {\n    var series = data.series;\n    var format = this.accumulation.useGroupingSeparator ? '${point.x} : <b>${point.separatorY}</b>' : '${point.x} : <b>${point.y}</b>';\n    format = tooltip.format ? tooltip.format : format;\n    return this.parseTemplate(data.point, series, format);\n  };\n\n  AccumulationTooltip.prototype.findHeader = function (data) {\n    if (this.header === '') {\n      return '';\n    }\n\n    this.header = this.parseTemplate(data.point, data.series, this.header);\n\n    if (this.header.replace(/<b>/g, '').replace(/<\\/b>/g, '').trim() !== '') {\n      return this.header;\n    }\n\n    return '';\n  };\n\n  AccumulationTooltip.prototype.parseTemplate = function (point, series, format) {\n    var value;\n    var textValue;\n\n    for (var _i = 0, _a = Object.keys(point); _i < _a.length; _i++) {\n      var dataValue = _a[_i];\n      value = new RegExp('${point' + '.' + dataValue + '}', 'gm');\n      format = format.replace(value.source, point[dataValue]);\n    }\n\n    for (var _b = 0, _c = Object.keys(Object.getPrototypeOf(series)); _b < _c.length; _b++) {\n      var dataValue = _c[_b];\n      value = new RegExp('${series' + '.' + dataValue + '}', 'gm');\n      textValue = series[dataValue];\n      format = format.replace(value.source, textValue);\n    }\n\n    return format;\n  };\n  /**\n   * Get module name\n   */\n\n\n  AccumulationTooltip.prototype.getModuleName = function () {\n    return 'AccumulationTooltip';\n  };\n  /**\n   * To destroy the Tooltip.\n   * @return {void}\n   * @private\n   */\n\n\n  AccumulationTooltip.prototype.destroy = function (chart) {\n    /**\n     * Destroy method calling here\n     */\n  };\n\n  return AccumulationTooltip;\n}(BaseTooltip);\n\nexport { AccumulationTooltip };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","Browser","remove","isNullOrUndefined","AccPointData","withInBounds","indexFinder","BaseTooltip","tooltipRender","AccumulationTooltip","_super","accumulation","_this","call","addEventListener","isDestroyed","on","isPointer","mouseLeaveHandler","touchMoveEvent","mouseMoveHandler","touchEndEvent","mouseUpHandler","e","removeTooltip","tooltip","fadeOutDuration","control","enable","isTouch","mouseX","mouseY","initialClipRect","event","svgElement","getElement","element","id","isTooltip","parseInt","getAttribute","tooltipDiv","getTooltipElement","renderSeriesTooltip","chart","isFirst","data","getPieData","rect","currentPoints","point","previousPoints","index","series","pushData","triggerTooltipRender","getTooltipText","findHeader","isRemove","textCollection","headerText","firstText","template","argsData","cancel","name","text","textStyle","isBlazor","pointX","x","pointY","y","seriesIndex","pointIndex","pointText","seriesName","tooltipSuccess","formattedText","concat","createTooltip","symbolLocation","clipRect","removeHighlight","bind","trigger","target","isNaN","getSeriesFromIndex","visibleSeries","enableTooltip","points","format","useGroupingSeparator","parseTemplate","header","replace","trim","value","textValue","_i","_a","keys","length","dataValue","RegExp","source","_b","_c","getPrototypeOf","getModuleName","destroy"],"sources":["D:/Theme/package/node_modules/@syncfusion/ej2-charts/src/accumulation-chart/user-interaction/tooltip.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * AccumulationChart Tooltip file\n */\nimport { Browser, remove } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { AccPointData, withInBounds, indexFinder } from '../../common/utils/helper';\nimport { BaseTooltip } from '../../common/user-interaction/tooltip';\nimport { tooltipRender } from '../../common/model/constants';\n/**\n * `AccumulationTooltip` module is used to render tooltip for accumulation chart.\n */\nvar AccumulationTooltip = /** @class */ (function (_super) {\n    __extends(AccumulationTooltip, _super);\n    function AccumulationTooltip(accumulation) {\n        var _this = _super.call(this, accumulation) || this;\n        _this.accumulation = accumulation;\n        _this.addEventListener();\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    AccumulationTooltip.prototype.addEventListener = function () {\n        if (this.accumulation.isDestroyed) {\n            return;\n        }\n        this.accumulation.on(Browser.isPointer ? 'pointerleave' : 'mouseleave', this.mouseLeaveHandler, this);\n        this.accumulation.on(Browser.touchMoveEvent, this.mouseMoveHandler, this);\n        this.accumulation.on(Browser.touchEndEvent, this.mouseUpHandler, this);\n    };\n    AccumulationTooltip.prototype.mouseLeaveHandler = function (e) {\n        this.removeTooltip(this.accumulation.tooltip.fadeOutDuration);\n    };\n    AccumulationTooltip.prototype.mouseUpHandler = function (e) {\n        var control = this.accumulation;\n        if (control.tooltip.enable && control.isTouch && withInBounds(control.mouseX, control.mouseY, control.initialClipRect)) {\n            this.tooltip(e);\n            this.removeTooltip(2000);\n        }\n    };\n    AccumulationTooltip.prototype.mouseMoveHandler = function (e) {\n        var control = this.accumulation;\n        // Tooltip for chart series.\n        if (control.tooltip.enable && withInBounds(control.mouseX, control.mouseY, control.initialClipRect)) {\n            this.tooltip(e);\n        }\n    };\n    /**\n     * Renders the tooltip.\n     * @param  {PointerEvent} event - Mouse move event.\n     * @return {void}\n     */\n    AccumulationTooltip.prototype.tooltip = function (event) {\n        var svgElement = this.getElement(this.element.id + '_tooltip_svg');\n        var isTooltip = svgElement && parseInt(svgElement.getAttribute('opacity'), 10) > 0;\n        var tooltipDiv = this.getTooltipElement(isTooltip);\n        this.renderSeriesTooltip(event, this.accumulation, !isTooltip, tooltipDiv);\n    };\n    AccumulationTooltip.prototype.renderSeriesTooltip = function (e, chart, isFirst, tooltipDiv) {\n        var data = this.getPieData(e, chart, chart.mouseX, chart.mouseY);\n        var rect = chart.initialClipRect;\n        this.currentPoints = [];\n        if (data.point && (!this.previousPoints[0] || (this.previousPoints[0].point !== data.point))) {\n            if (this.previousPoints[0] && data.point.index === this.previousPoints[0].point.index\n                && data.series.index === this.previousPoints[0].series.index) {\n                return null;\n            }\n            if (this.pushData(data, isFirst, tooltipDiv, false)) {\n                this.triggerTooltipRender(data, isFirst, this.getTooltipText(data, chart.tooltip), this.findHeader(data));\n            }\n        }\n        else {\n            if (!data.point && this.isRemove) {\n                this.removeTooltip(this.accumulation.tooltip.fadeOutDuration);\n                this.isRemove = false;\n            }\n        }\n    };\n    AccumulationTooltip.prototype.triggerTooltipRender = function (point, isFirst, textCollection, headerText, firstText) {\n        var _this = this;\n        if (firstText === void 0) { firstText = true; }\n        var template;\n        var argsData = {\n            cancel: false, name: tooltipRender, text: textCollection, point: point.point, textStyle: this.textStyle,\n            series: this.accumulation.isBlazor ? {} : point.series, headerText: headerText,\n            data: { pointX: point.point.x, pointY: point.point.y, seriesIndex: point.series.index,\n                pointIndex: point.point.index, pointText: point.point.text, seriesName: point.series.name }\n        };\n        var tooltipSuccess = function (argsData) {\n            if (!argsData.cancel) {\n                _this.formattedText = _this.formattedText.concat(argsData.text);\n                _this.text = _this.formattedText;\n                _this.headerText = argsData.headerText;\n                _this.createTooltip(_this.chart, isFirst, point.point.symbolLocation, point.series.clipRect, point.point, ['Circle'], 0, _this.chart.initialClipRect, null, point.point, _this.accumulation.tooltip.template ? argsData.template : '');\n            }\n            else {\n                _this.removeHighlight(_this.control);\n                remove(_this.getElement(_this.element.id + '_tooltip'));\n            }\n            _this.isRemove = true;\n        };\n        tooltipSuccess.bind(this, point);\n        this.chart.trigger(tooltipRender, argsData, tooltipSuccess);\n    };\n    AccumulationTooltip.prototype.getPieData = function (e, chart, x, y) {\n        var target = e.target;\n        var id = indexFinder(target.id, true);\n        if (!isNaN(id.series)) {\n            var seriesIndex = id.series;\n            var pointIndex = id.point;\n            if (!isNullOrUndefined(seriesIndex) && !isNaN(seriesIndex) && !isNullOrUndefined(pointIndex) && !isNaN(pointIndex)) {\n                var series = this.getSeriesFromIndex(seriesIndex, chart.visibleSeries);\n                if (series.enableTooltip) {\n                    return new AccPointData(series.points[pointIndex], series);\n                }\n            }\n        }\n        return new AccPointData(null, null);\n    };\n    /**\n     * To get series from index\n     */\n    AccumulationTooltip.prototype.getSeriesFromIndex = function (index, visibleSeries) {\n        return visibleSeries[0];\n    };\n    AccumulationTooltip.prototype.getTooltipText = function (data, tooltip) {\n        var series = data.series;\n        var format = this.accumulation.useGroupingSeparator ? '${point.x} : <b>${point.separatorY}</b>'\n            : '${point.x} : <b>${point.y}</b>';\n        format = tooltip.format ? tooltip.format : format;\n        return this.parseTemplate(data.point, series, format);\n    };\n    AccumulationTooltip.prototype.findHeader = function (data) {\n        if (this.header === '') {\n            return '';\n        }\n        this.header = this.parseTemplate(data.point, data.series, this.header);\n        if (this.header.replace(/<b>/g, '').replace(/<\\/b>/g, '').trim() !== '') {\n            return this.header;\n        }\n        return '';\n    };\n    AccumulationTooltip.prototype.parseTemplate = function (point, series, format) {\n        var value;\n        var textValue;\n        for (var _i = 0, _a = Object.keys(point); _i < _a.length; _i++) {\n            var dataValue = _a[_i];\n            value = new RegExp('${point' + '.' + dataValue + '}', 'gm');\n            format = format.replace(value.source, point[dataValue]);\n        }\n        for (var _b = 0, _c = Object.keys(Object.getPrototypeOf(series)); _b < _c.length; _b++) {\n            var dataValue = _c[_b];\n            value = new RegExp('${series' + '.' + dataValue + '}', 'gm');\n            textValue = series[dataValue];\n            format = format.replace(value.source, textValue);\n        }\n        return format;\n    };\n    /**\n     * Get module name\n     */\n    AccumulationTooltip.prototype.getModuleName = function () {\n        return 'AccumulationTooltip';\n    };\n    /**\n     * To destroy the Tooltip.\n     * @return {void}\n     * @private\n     */\n    AccumulationTooltip.prototype.destroy = function (chart) {\n        /**\n         * Destroy method calling here\n         */\n    };\n    return AccumulationTooltip;\n}(BaseTooltip));\nexport { AccumulationTooltip };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}