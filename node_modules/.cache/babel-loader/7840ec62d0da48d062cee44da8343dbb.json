{"ast":null,"code":"/**\n * PdfCacheCollection.ts class for EJ2-PDF\n */\nimport { Dictionary } from './../collections/dictionary';\n/**\n * `Collection of the cached objects`.\n * @private\n */\n\nvar PdfCacheCollection =\n/** @class */\nfunction () {\n  // Constructors\n\n  /**\n   * Initializes a new instance of the `PdfCacheCollection` class.\n   * @private\n   */\n  function PdfCacheCollection() {\n    this.referenceObjects = [];\n    this.pdfFontCollection = new Dictionary();\n  } // Public methods\n\n  /**\n   * `Searches` for the similar cached object. If is not found - adds the object to the cache.\n   * @private\n   */\n\n\n  PdfCacheCollection.prototype.search = function (obj) {\n    var result = null;\n    var group = this.getGroup(obj);\n\n    if (group == null) {\n      group = this.createNewGroup();\n    } else if (group.length > 0) {\n      result = group[0];\n    }\n\n    group.push(obj);\n    return result;\n  }; // Implementation\n\n  /**\n   * `Creates` a new group.\n   * @private\n   */\n\n\n  PdfCacheCollection.prototype.createNewGroup = function () {\n    var group = [];\n    this.referenceObjects.push(group);\n    return group;\n  };\n  /**\n   * `Find and Return` a group.\n   * @private\n   */\n\n\n  PdfCacheCollection.prototype.getGroup = function (result) {\n    var group = null;\n\n    if (result !== null) {\n      var len = this.referenceObjects.length;\n\n      for (var i = 0; i < len; i++) {\n        if (this.referenceObjects.length > 0) {\n          var tGroup = this.referenceObjects[i];\n\n          if (tGroup.length > 0) {\n            var representative = tGroup[0];\n\n            if (result.equalsTo(representative)) {\n              group = tGroup;\n              break;\n            }\n          } else {\n            this.removeGroup(tGroup);\n          }\n        }\n\n        len = this.referenceObjects.length;\n      }\n    }\n\n    return group;\n  };\n  /**\n   * Remove a group from the storage.\n   */\n\n\n  PdfCacheCollection.prototype.removeGroup = function (group) {\n    if (group !== null) {\n      var index = this.referenceObjects.indexOf(group);\n      this.referenceObjects.slice(index, index + 1);\n    }\n  };\n\n  PdfCacheCollection.prototype.destroy = function () {\n    this.pdfFontCollection = undefined;\n    this.referenceObjects = undefined;\n  };\n\n  return PdfCacheCollection;\n}();\n\nexport { PdfCacheCollection };","map":{"version":3,"names":["Dictionary","PdfCacheCollection","referenceObjects","pdfFontCollection","prototype","search","obj","result","group","getGroup","createNewGroup","length","push","len","i","tGroup","representative","equalsTo","removeGroup","index","indexOf","slice","destroy","undefined"],"sources":["D:/Theme/package/node_modules/@syncfusion/ej2-pdf-export/src/implementation/general/pdf-cache-collection.js"],"sourcesContent":["/**\n * PdfCacheCollection.ts class for EJ2-PDF\n */\nimport { Dictionary } from './../collections/dictionary';\n/**\n * `Collection of the cached objects`.\n * @private\n */\nvar PdfCacheCollection = /** @class */ (function () {\n    // Constructors\n    /**\n     * Initializes a new instance of the `PdfCacheCollection` class.\n     * @private\n     */\n    function PdfCacheCollection() {\n        this.referenceObjects = [];\n        this.pdfFontCollection = new Dictionary();\n    }\n    // Public methods\n    /**\n     * `Searches` for the similar cached object. If is not found - adds the object to the cache.\n     * @private\n     */\n    PdfCacheCollection.prototype.search = function (obj) {\n        var result = null;\n        var group = this.getGroup(obj);\n        if (group == null) {\n            group = this.createNewGroup();\n        }\n        else if (group.length > 0) {\n            result = group[0];\n        }\n        group.push(obj);\n        return result;\n    };\n    // Implementation\n    /**\n     * `Creates` a new group.\n     * @private\n     */\n    PdfCacheCollection.prototype.createNewGroup = function () {\n        var group = [];\n        this.referenceObjects.push(group);\n        return group;\n    };\n    /**\n     * `Find and Return` a group.\n     * @private\n     */\n    PdfCacheCollection.prototype.getGroup = function (result) {\n        var group = null;\n        if (result !== null) {\n            var len = this.referenceObjects.length;\n            for (var i = 0; i < len; i++) {\n                if (this.referenceObjects.length > 0) {\n                    var tGroup = this.referenceObjects[i];\n                    if (tGroup.length > 0) {\n                        var representative = tGroup[0];\n                        if (result.equalsTo(representative)) {\n                            group = tGroup;\n                            break;\n                        }\n                    }\n                    else {\n                        this.removeGroup(tGroup);\n                    }\n                }\n                len = this.referenceObjects.length;\n            }\n        }\n        return group;\n    };\n    /**\n     * Remove a group from the storage.\n     */\n    PdfCacheCollection.prototype.removeGroup = function (group) {\n        if (group !== null) {\n            var index = this.referenceObjects.indexOf(group);\n            this.referenceObjects.slice(index, index + 1);\n        }\n    };\n    PdfCacheCollection.prototype.destroy = function () {\n        this.pdfFontCollection = undefined;\n        this.referenceObjects = undefined;\n    };\n    return PdfCacheCollection;\n}());\nexport { PdfCacheCollection };\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,UAAT,QAA2B,6BAA3B;AACA;AACA;AACA;AACA;;AACA,IAAIC,kBAAkB;AAAG;AAAe,YAAY;EAChD;;EACA;AACJ;AACA;AACA;EACI,SAASA,kBAAT,GAA8B;IAC1B,KAAKC,gBAAL,GAAwB,EAAxB;IACA,KAAKC,iBAAL,GAAyB,IAAIH,UAAJ,EAAzB;EACH,CAT+C,CAUhD;;EACA;AACJ;AACA;AACA;;;EACIC,kBAAkB,CAACG,SAAnB,CAA6BC,MAA7B,GAAsC,UAAUC,GAAV,EAAe;IACjD,IAAIC,MAAM,GAAG,IAAb;IACA,IAAIC,KAAK,GAAG,KAAKC,QAAL,CAAcH,GAAd,CAAZ;;IACA,IAAIE,KAAK,IAAI,IAAb,EAAmB;MACfA,KAAK,GAAG,KAAKE,cAAL,EAAR;IACH,CAFD,MAGK,IAAIF,KAAK,CAACG,MAAN,GAAe,CAAnB,EAAsB;MACvBJ,MAAM,GAAGC,KAAK,CAAC,CAAD,CAAd;IACH;;IACDA,KAAK,CAACI,IAAN,CAAWN,GAAX;IACA,OAAOC,MAAP;EACH,CAXD,CAfgD,CA2BhD;;EACA;AACJ;AACA;AACA;;;EACIN,kBAAkB,CAACG,SAAnB,CAA6BM,cAA7B,GAA8C,YAAY;IACtD,IAAIF,KAAK,GAAG,EAAZ;IACA,KAAKN,gBAAL,CAAsBU,IAAtB,CAA2BJ,KAA3B;IACA,OAAOA,KAAP;EACH,CAJD;EAKA;AACJ;AACA;AACA;;;EACIP,kBAAkB,CAACG,SAAnB,CAA6BK,QAA7B,GAAwC,UAAUF,MAAV,EAAkB;IACtD,IAAIC,KAAK,GAAG,IAAZ;;IACA,IAAID,MAAM,KAAK,IAAf,EAAqB;MACjB,IAAIM,GAAG,GAAG,KAAKX,gBAAL,CAAsBS,MAAhC;;MACA,KAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,GAApB,EAAyBC,CAAC,EAA1B,EAA8B;QAC1B,IAAI,KAAKZ,gBAAL,CAAsBS,MAAtB,GAA+B,CAAnC,EAAsC;UAClC,IAAII,MAAM,GAAG,KAAKb,gBAAL,CAAsBY,CAAtB,CAAb;;UACA,IAAIC,MAAM,CAACJ,MAAP,GAAgB,CAApB,EAAuB;YACnB,IAAIK,cAAc,GAAGD,MAAM,CAAC,CAAD,CAA3B;;YACA,IAAIR,MAAM,CAACU,QAAP,CAAgBD,cAAhB,CAAJ,EAAqC;cACjCR,KAAK,GAAGO,MAAR;cACA;YACH;UACJ,CAND,MAOK;YACD,KAAKG,WAAL,CAAiBH,MAAjB;UACH;QACJ;;QACDF,GAAG,GAAG,KAAKX,gBAAL,CAAsBS,MAA5B;MACH;IACJ;;IACD,OAAOH,KAAP;EACH,CAtBD;EAuBA;AACJ;AACA;;;EACIP,kBAAkB,CAACG,SAAnB,CAA6Bc,WAA7B,GAA2C,UAAUV,KAAV,EAAiB;IACxD,IAAIA,KAAK,KAAK,IAAd,EAAoB;MAChB,IAAIW,KAAK,GAAG,KAAKjB,gBAAL,CAAsBkB,OAAtB,CAA8BZ,KAA9B,CAAZ;MACA,KAAKN,gBAAL,CAAsBmB,KAAtB,CAA4BF,KAA5B,EAAmCA,KAAK,GAAG,CAA3C;IACH;EACJ,CALD;;EAMAlB,kBAAkB,CAACG,SAAnB,CAA6BkB,OAA7B,GAAuC,YAAY;IAC/C,KAAKnB,iBAAL,GAAyBoB,SAAzB;IACA,KAAKrB,gBAAL,GAAwBqB,SAAxB;EACH,CAHD;;EAIA,OAAOtB,kBAAP;AACH,CA9EuC,EAAxC;;AA+EA,SAASA,kBAAT"},"metadata":{},"sourceType":"module"}