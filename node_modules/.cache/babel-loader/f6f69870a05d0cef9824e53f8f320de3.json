{"ast":null,"code":"/**\n * PdfTemplate.ts class for EJ2-PDF\n */\nimport { PdfStream } from './../../primitives/pdf-stream';\nimport { DictionaryProperties } from './../../input-output/pdf-dictionary-properties';\nimport { PdfArray } from './../../primitives/pdf-array';\nimport { PdfGraphics } from './../pdf-graphics';\nimport { PdfResources } from './../pdf-resources';\nimport { PdfName } from './../../primitives/pdf-name';\nimport { PointF, SizeF, RectangleF } from './../../drawing/pdf-drawing';\nimport { GetResourceEventHandler } from './../pdf-graphics';\n/**\n * Represents `Pdf Template` object.\n * @private\n */\n\nvar PdfTemplate =\n/** @class */\nfunction () {\n  function PdfTemplate(arg1, arg2) {\n    /**\n     * Initialize an instance for `DictionaryProperties` class.\n     * @private\n     * @hidden\n     */\n    this.dictionaryProperties = new DictionaryProperties();\n    /**\n     * Checks whether the transformation 'is performed'.\n     * @default true\n     * @private\n     */\n\n    this.writeTransformation = true;\n\n    if (typeof arg1 === 'undefined') {//\n    } else if (arg1 instanceof SizeF && typeof arg2 === 'undefined') {\n      this.content = new PdfStream();\n      var tempSize = new SizeF(arg1.width, arg1.height);\n      this.setSize(tempSize);\n      this.initialize();\n    } else {\n      this.content = new PdfStream();\n      this.setSize(new SizeF(arg1, arg2));\n      this.initialize();\n    }\n  }\n\n  Object.defineProperty(PdfTemplate.prototype, \"size\", {\n    //Properties\n\n    /**\n     * Gets the size of the 'PdfTemplate'.\n     */\n    get: function () {\n      return this.templateSize;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PdfTemplate.prototype, \"width\", {\n    /**\n     * Gets the width of the 'PdfTemplate'.\n     */\n    get: function () {\n      return this.size.width;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PdfTemplate.prototype, \"height\", {\n    /**\n     * Gets the height of the 'PdfTemplate'.\n     */\n    get: function () {\n      return this.size.height;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PdfTemplate.prototype, \"graphics\", {\n    /**\n     * Gets the `graphics` of the 'PdfTemplate'.\n     */\n    get: function () {\n      if (this.pdfGraphics == null || typeof this.pdfGraphics === 'undefined') {\n        var gr = new GetResourceEventHandler(this);\n        var g = new PdfGraphics(this.size, gr, this.content);\n        this.pdfGraphics = g; // if(this.writeTransformation) {\n        // Transform co-ordinates to Top/Left.\n\n        this.pdfGraphics.initializeCoordinates(); // }\n      }\n\n      return this.pdfGraphics;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * Gets the resources and modifies the template dictionary.\n   * @private\n   */\n\n  PdfTemplate.prototype.getResources = function () {\n    if (this.resources == null) {\n      this.resources = new PdfResources();\n      this.content.items.setValue(this.dictionaryProperties.resources, this.resources);\n    }\n\n    return this.resources;\n  }; // Public methods\n\n  /**\n   * `Initialize` the type and subtype of the template.\n   * @private\n   */\n\n\n  PdfTemplate.prototype.initialize = function () {\n    this.addType();\n    this.addSubType();\n  };\n  /**\n   * `Adds type key`.\n   * @private\n   */\n\n\n  PdfTemplate.prototype.addType = function () {\n    var value = new PdfName(this.dictionaryProperties.xObject);\n    this.content.items.setValue(this.dictionaryProperties.type, value);\n  };\n  /**\n   * `Adds SubType key`.\n   * @private\n   */\n\n\n  PdfTemplate.prototype.addSubType = function () {\n    var value = new PdfName(this.dictionaryProperties.form);\n    this.content.items.setValue(this.dictionaryProperties.subtype, value);\n  };\n\n  PdfTemplate.prototype.reset = function (size) {\n    if (typeof size === 'undefined') {\n      if (this.resources != null) {\n        this.resources = null;\n        this.content.remove(this.dictionaryProperties.resources);\n      }\n\n      if (this.graphics != null) {\n        this.graphics.reset(this.size);\n      }\n    } else {\n      this.setSize(size);\n      this.reset();\n    }\n  };\n  /**\n   * `Set the size` of the 'PdfTemplate'.\n   * @private\n   */\n\n\n  PdfTemplate.prototype.setSize = function (size) {\n    var rect = new RectangleF(new PointF(0, 0), size);\n    var val = PdfArray.fromRectangle(rect);\n    this.content.items.setValue(this.dictionaryProperties.bBox, val);\n    this.templateSize = size;\n  };\n\n  Object.defineProperty(PdfTemplate.prototype, \"element\", {\n    // /**\n    //  * Returns the value of current graphics.\n    //  * @private\n    //  */\n    // public GetGraphics(g : PdfGraphics) : PdfGraphics {\n    //     if (this.graphics == null || typeof this.graphics === 'undefined') {\n    //         this.graphics = g;\n    //         this.graphics.Size = this.Size;\n    //         this.graphics.StreamWriter = new PdfStreamWriter(this.content)\n    //         this.graphics.Initialize();\n    //         if(this.writeTransformation) {\n    //             this.graphics.InitializeCoordinates();\n    //         }\n    //     }\n    //     return this.graphics;\n    // }\n    // IPdfWrapper Members\n\n    /**\n     * Gets the `content stream` of 'PdfTemplate' class.\n     * @private\n     */\n    get: function () {\n      return this.content;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return PdfTemplate;\n}();\n\nexport { PdfTemplate };","map":{"version":3,"names":["PdfStream","DictionaryProperties","PdfArray","PdfGraphics","PdfResources","PdfName","PointF","SizeF","RectangleF","GetResourceEventHandler","PdfTemplate","arg1","arg2","dictionaryProperties","writeTransformation","content","tempSize","width","height","setSize","initialize","Object","defineProperty","prototype","get","templateSize","enumerable","configurable","size","pdfGraphics","gr","g","initializeCoordinates","getResources","resources","items","setValue","addType","addSubType","value","xObject","type","form","subtype","reset","remove","graphics","rect","val","fromRectangle","bBox"],"sources":["D:/Theme/package/node_modules/@syncfusion/ej2-pdf-export/src/implementation/graphics/figures/pdf-template.js"],"sourcesContent":["/**\n * PdfTemplate.ts class for EJ2-PDF\n */\nimport { PdfStream } from './../../primitives/pdf-stream';\nimport { DictionaryProperties } from './../../input-output/pdf-dictionary-properties';\nimport { PdfArray } from './../../primitives/pdf-array';\nimport { PdfGraphics } from './../pdf-graphics';\nimport { PdfResources } from './../pdf-resources';\nimport { PdfName } from './../../primitives/pdf-name';\nimport { PointF, SizeF, RectangleF } from './../../drawing/pdf-drawing';\nimport { GetResourceEventHandler } from './../pdf-graphics';\n/**\n * Represents `Pdf Template` object.\n * @private\n */\nvar PdfTemplate = /** @class */ (function () {\n    function PdfTemplate(arg1, arg2) {\n        /**\n         * Initialize an instance for `DictionaryProperties` class.\n         * @private\n         * @hidden\n         */\n        this.dictionaryProperties = new DictionaryProperties();\n        /**\n         * Checks whether the transformation 'is performed'.\n         * @default true\n         * @private\n         */\n        this.writeTransformation = true;\n        if (typeof arg1 === 'undefined') {\n            //\n        }\n        else if (arg1 instanceof SizeF && typeof arg2 === 'undefined') {\n            this.content = new PdfStream();\n            var tempSize = new SizeF(arg1.width, arg1.height);\n            this.setSize(tempSize);\n            this.initialize();\n        }\n        else {\n            this.content = new PdfStream();\n            this.setSize(new SizeF(arg1, arg2));\n            this.initialize();\n        }\n    }\n    Object.defineProperty(PdfTemplate.prototype, \"size\", {\n        //Properties\n        /**\n         * Gets the size of the 'PdfTemplate'.\n         */\n        get: function () {\n            return this.templateSize;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTemplate.prototype, \"width\", {\n        /**\n         * Gets the width of the 'PdfTemplate'.\n         */\n        get: function () {\n            return this.size.width;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTemplate.prototype, \"height\", {\n        /**\n         * Gets the height of the 'PdfTemplate'.\n         */\n        get: function () {\n            return this.size.height;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTemplate.prototype, \"graphics\", {\n        /**\n         * Gets the `graphics` of the 'PdfTemplate'.\n         */\n        get: function () {\n            if (this.pdfGraphics == null || typeof this.pdfGraphics === 'undefined') {\n                var gr = new GetResourceEventHandler(this);\n                var g = new PdfGraphics(this.size, gr, this.content);\n                this.pdfGraphics = g;\n                // if(this.writeTransformation) {\n                // Transform co-ordinates to Top/Left.\n                this.pdfGraphics.initializeCoordinates();\n                // }\n            }\n            return this.pdfGraphics;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Gets the resources and modifies the template dictionary.\n     * @private\n     */\n    PdfTemplate.prototype.getResources = function () {\n        if (this.resources == null) {\n            this.resources = new PdfResources();\n            this.content.items.setValue(this.dictionaryProperties.resources, this.resources);\n        }\n        return this.resources;\n    };\n    // Public methods\n    /**\n     * `Initialize` the type and subtype of the template.\n     * @private\n     */\n    PdfTemplate.prototype.initialize = function () {\n        this.addType();\n        this.addSubType();\n    };\n    /**\n     * `Adds type key`.\n     * @private\n     */\n    PdfTemplate.prototype.addType = function () {\n        var value = new PdfName(this.dictionaryProperties.xObject);\n        this.content.items.setValue(this.dictionaryProperties.type, value);\n    };\n    /**\n     * `Adds SubType key`.\n     * @private\n     */\n    PdfTemplate.prototype.addSubType = function () {\n        var value = new PdfName(this.dictionaryProperties.form);\n        this.content.items.setValue(this.dictionaryProperties.subtype, value);\n    };\n    PdfTemplate.prototype.reset = function (size) {\n        if (typeof size === 'undefined') {\n            if (this.resources != null) {\n                this.resources = null;\n                this.content.remove(this.dictionaryProperties.resources);\n            }\n            if (this.graphics != null) {\n                this.graphics.reset(this.size);\n            }\n        }\n        else {\n            this.setSize(size);\n            this.reset();\n        }\n    };\n    /**\n     * `Set the size` of the 'PdfTemplate'.\n     * @private\n     */\n    PdfTemplate.prototype.setSize = function (size) {\n        var rect = new RectangleF(new PointF(0, 0), size);\n        var val = PdfArray.fromRectangle(rect);\n        this.content.items.setValue(this.dictionaryProperties.bBox, val);\n        this.templateSize = size;\n    };\n    Object.defineProperty(PdfTemplate.prototype, \"element\", {\n        // /**\n        //  * Returns the value of current graphics.\n        //  * @private\n        //  */\n        // public GetGraphics(g : PdfGraphics) : PdfGraphics {\n        //     if (this.graphics == null || typeof this.graphics === 'undefined') {\n        //         this.graphics = g;\n        //         this.graphics.Size = this.Size;\n        //         this.graphics.StreamWriter = new PdfStreamWriter(this.content)\n        //         this.graphics.Initialize();\n        //         if(this.writeTransformation) {\n        //             this.graphics.InitializeCoordinates();\n        //         }\n        //     }\n        //     return this.graphics;\n        // }\n        // IPdfWrapper Members\n        /**\n         * Gets the `content stream` of 'PdfTemplate' class.\n         * @private\n         */\n        get: function () {\n            return this.content;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfTemplate;\n}());\nexport { PdfTemplate };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}