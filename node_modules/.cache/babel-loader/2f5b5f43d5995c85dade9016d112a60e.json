{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nimport { Component, EventHandler, Property, Event, KeyboardEvents, rippleEffect } from '@syncfusion/ej2-base';\nimport { getUniqueID, compile as templateCompiler } from '@syncfusion/ej2-base';\nimport { isVisible, closest, attributes, detach, select, addClass, append } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty, Collection, Animation } from '@syncfusion/ej2-base';\nimport { setStyleAttribute as setStyle, Complex } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU, formatUnit, selectAll, SanitizeHtmlHelper, isRippleEnabled } from '@syncfusion/ej2-base';\nvar CLS_ACRDN_ROOT = 'e-acrdn-root';\nvar CLS_ROOT = 'e-accordion';\nvar CLS_ITEM = 'e-acrdn-item';\nvar CLS_ITEMFOCUS = 'e-item-focus';\nvar CLS_ITEMHIDE = 'e-hide';\nvar CLS_HEADER = 'e-acrdn-header';\nvar CLS_HEADERICN = 'e-acrdn-header-icon';\nvar CLS_HEADERCTN = 'e-acrdn-header-content';\nvar CLS_CONTENT = 'e-acrdn-panel';\nvar CLS_CTENT = 'e-acrdn-content';\nvar CLS_TOOGLEICN = 'e-toggle-icon';\nvar CLS_COLLAPSEICN = 'e-tgl-collapse-icon e-icons';\nvar CLS_EXPANDICN = 'e-expand-icon';\nvar CLS_RTL = 'e-rtl';\nvar CLS_CTNHIDE = 'e-content-hide';\nvar CLS_SLCT = 'e-select';\nvar CLS_SLCTED = 'e-selected';\nvar CLS_ACTIVE = 'e-active';\nvar CLS_ANIMATE = 'e-animate';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_TOGANIMATE = 'e-toggle-animation';\nvar CLS_NEST = 'e-nested';\nvar CLS_EXPANDSTATE = 'e-expand-state';\nvar CLS_CONTAINER = 'e-accordion-container';\n/**\n * Objects used for configuring the Accordion expanding item action properties.\n */\n\nvar AccordionActionSettings =\n/** @class */\nfunction (_super) {\n  __extends(AccordionActionSettings, _super);\n\n  function AccordionActionSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate([Property('SlideDown')], AccordionActionSettings.prototype, \"effect\", void 0);\n\n  __decorate([Property(400)], AccordionActionSettings.prototype, \"duration\", void 0);\n\n  __decorate([Property('linear')], AccordionActionSettings.prototype, \"easing\", void 0);\n\n  return AccordionActionSettings;\n}(ChildProperty);\n\nexport { AccordionActionSettings };\n/**\n * Objects used for configuring the Accordion animation properties.\n */\n\nvar AccordionAnimationSettings =\n/** @class */\nfunction (_super) {\n  __extends(AccordionAnimationSettings, _super);\n\n  function AccordionAnimationSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate([Complex({\n    effect: 'SlideUp',\n    duration: 400,\n    easing: 'linear'\n  }, AccordionActionSettings)], AccordionAnimationSettings.prototype, \"collapse\", void 0);\n\n  __decorate([Complex({\n    effect: 'SlideDown',\n    duration: 400,\n    easing: 'linear'\n  }, AccordionActionSettings)], AccordionAnimationSettings.prototype, \"expand\", void 0);\n\n  return AccordionAnimationSettings;\n}(ChildProperty);\n\nexport { AccordionAnimationSettings };\n/**\n * An item object that is used to configure Accordion items.\n */\n\nvar AccordionItem =\n/** @class */\nfunction (_super) {\n  __extends(AccordionItem, _super);\n\n  function AccordionItem() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate([Property(null)], AccordionItem.prototype, \"content\", void 0);\n\n  __decorate([Property(null)], AccordionItem.prototype, \"header\", void 0);\n\n  __decorate([Property(null)], AccordionItem.prototype, \"cssClass\", void 0);\n\n  __decorate([Property(null)], AccordionItem.prototype, \"iconCss\", void 0);\n\n  __decorate([Property(false)], AccordionItem.prototype, \"expanded\", void 0);\n\n  __decorate([Property(true)], AccordionItem.prototype, \"visible\", void 0);\n\n  __decorate([Property(false)], AccordionItem.prototype, \"disabled\", void 0);\n\n  return AccordionItem;\n}(ChildProperty);\n\nexport { AccordionItem };\n/**\n * The Accordion is a vertically collapsible content panel that displays one or more panels at a time within the available space.\n * ```html\n * <div id='accordion'/>\n * <script>\n *   var accordionObj = new Accordion();\n *   accordionObj.appendTo('#accordion');\n * </script>\n * ```\n */\n\nvar Accordion =\n/** @class */\nfunction (_super) {\n  __extends(Accordion, _super);\n  /**\n   * Initializes a new instance of the Accordion class.\n   * @param options  - Specifies Accordion model properties as options.\n   * @param element  - Specifies the element that is rendered as an Accordion.\n   */\n\n\n  function Accordion(options, element) {\n    var _this = _super.call(this, options, element) || this;\n    /**\n     * Contains the keyboard configuration of the Accordion.\n     */\n\n\n    _this.keyConfigs = {\n      moveUp: 'uparrow',\n      moveDown: 'downarrow',\n      enter: 'enter',\n      space: 'space',\n      home: 'home',\n      end: 'end'\n    };\n    return _this;\n  }\n  /**\n   * Removes the control from the DOM and also removes all its related events.\n   * @returns void\n   */\n\n\n  Accordion.prototype.destroy = function () {\n    var _this = this; // tslint:disable-next-line:no-any\n\n\n    if (this.isReact) {\n      this.clearTemplate();\n    }\n\n    var ele = this.element;\n\n    _super.prototype.destroy.call(this);\n\n    this.unwireEvents();\n    this.isDestroy = true;\n    this.restoreContent(null);\n    [].slice.call(ele.children).forEach(function (el) {\n      ele.removeChild(el);\n    });\n\n    if (this.trgtEle) {\n      while (this.ctrlTem.firstElementChild) {\n        ele.appendChild(this.ctrlTem.firstElementChild);\n      }\n    }\n\n    ele.classList.remove(CLS_ACRDN_ROOT);\n    ele.removeAttribute('style');\n    ['aria-disabled', 'aria-multiselectable', 'role', 'data-ripple'].forEach(function (attrb) {\n      _this.element.removeAttribute(attrb);\n    });\n\n    if (!this.isNested && isRippleEnabled) {\n      this.removeRippleEffect();\n    }\n  };\n\n  Accordion.prototype.preRender = function () {\n    var nested = closest(this.element, '.' + CLS_CONTENT);\n    this.isNested = false;\n    this.templateEle = [];\n\n    if (!this.isDestroy) {\n      this.isDestroy = false;\n    }\n\n    if (!isNOU(nested)) {\n      nested.classList.add(CLS_NEST);\n      this.isNested = true;\n    } else {\n      this.element.classList.add(CLS_ACRDN_ROOT);\n    }\n\n    if (this.enableRtl) {\n      this.add(this.element, CLS_RTL);\n    }\n  };\n\n  Accordion.prototype.add = function (ele, val) {\n    ele.classList.add(val);\n  };\n\n  Accordion.prototype.remove = function (ele, val) {\n    ele.classList.remove(val);\n  };\n  /**\n   * To initialize the control rendering\n   * @private\n   */\n\n\n  Accordion.prototype.render = function () {\n    if (!this.isServerRendered) {\n      this.initializeheaderTemplate();\n      this.initializeItemTemplate();\n      this.initialize();\n      this.renderControl();\n    } else {\n      this.wireFocusEvents();\n    }\n\n    this.wireEvents();\n    this.renderComplete();\n  };\n\n  Accordion.prototype.initialize = function () {\n    var width = formatUnit(this.width);\n    var height = formatUnit(this.height);\n    setStyle(this.element, {\n      'width': width,\n      'height': height\n    });\n    var ariaAttr = {\n      'aria-disabled': 'false',\n      'role': 'presentation',\n      'aria-multiselectable': 'true'\n    };\n\n    if (isNOU(this.initExpand)) {\n      this.initExpand = [];\n    }\n\n    if (this.expandedIndices.length > 0) {\n      this.initExpand = this.expandedIndices;\n    }\n\n    attributes(this.element, ariaAttr);\n\n    if (this.expandMode === 'Single') {\n      this.element.setAttribute('aria-multiselectable', 'false');\n    }\n  };\n\n  Accordion.prototype.renderControl = function () {\n    this.trgtEle = this.element.children.length > 0 ? select('div', this.element) : null;\n    this.renderItems();\n    this.initItemExpand();\n  };\n\n  Accordion.prototype.wireFocusEvents = function () {\n    var acrdItem = [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM));\n\n    for (var _i = 0, acrdItem_1 = acrdItem; _i < acrdItem_1.length; _i++) {\n      var item = acrdItem_1[_i];\n      var headerEle = item.querySelector('.' + CLS_HEADER);\n\n      if (item.childElementCount > 0 && headerEle) {\n        EventHandler.clearEvents(headerEle);\n        EventHandler.add(headerEle, 'focus', this.focusIn, this);\n        EventHandler.add(headerEle, 'blur', this.focusOut, this);\n      }\n    }\n  };\n\n  Accordion.prototype.unwireEvents = function () {\n    EventHandler.remove(this.element, 'click', this.clickHandler);\n\n    if (!isNOU(this.keyModule)) {\n      this.keyModule.destroy();\n    }\n  };\n\n  Accordion.prototype.wireEvents = function () {\n    EventHandler.add(this.element, 'click', this.clickHandler, this);\n\n    if (!this.isNested && !this.isDestroy) {\n      this.removeRippleEffect = rippleEffect(this.element, {\n        selector: '.' + CLS_HEADER\n      });\n    }\n\n    if (!this.isNested) {\n      this.keyModule = new KeyboardEvents(this.element, {\n        keyAction: this.keyActionHandler.bind(this),\n        keyConfigs: this.keyConfigs,\n        eventName: 'keydown'\n      });\n    }\n  };\n\n  Accordion.prototype.templateParser = function (template) {\n    if (template) {\n      try {\n        if (document.querySelectorAll(template).length) {\n          return templateCompiler(document.querySelector(template).innerHTML.trim());\n        }\n      } catch (error) {\n        return templateCompiler(template);\n      }\n    }\n\n    return undefined;\n  };\n\n  Accordion.prototype.initializeheaderTemplate = function () {\n    if (this.headerTemplate) {\n      this.headerTemplateFn = this.templateParser(this.headerTemplate);\n    }\n  };\n\n  Accordion.prototype.initializeItemTemplate = function () {\n    if (this.itemTemplate) {\n      this.itemTemplateFn = this.templateParser(this.itemTemplate);\n    }\n  };\n\n  Accordion.prototype.getheaderTemplate = function () {\n    return this.headerTemplateFn;\n  };\n\n  Accordion.prototype.getItemTemplate = function () {\n    return this.itemTemplateFn;\n  };\n\n  Accordion.prototype.focusIn = function (e) {\n    e.target.parentElement.classList.add(CLS_ITEMFOCUS);\n  };\n\n  Accordion.prototype.focusOut = function (e) {\n    e.target.parentElement.classList.remove(CLS_ITEMFOCUS);\n  };\n\n  Accordion.prototype.ctrlTemplate = function () {\n    this.ctrlTem = this.element.cloneNode(true);\n    var innerEles;\n    var rootEle = select('.' + CLS_CONTAINER, this.element);\n\n    if (rootEle) {\n      innerEles = rootEle.children;\n    } else {\n      innerEles = this.element.children;\n    }\n\n    var items = [];\n    /* tslint:disable */\n\n    [].slice.call(innerEles).forEach(function (el) {\n      items.push({\n        header: el.childElementCount > 0 && el.children[0] ? el.children[0] : '',\n        content: el.childElementCount > 1 && el.children[1] ? el.children[1] : ''\n      });\n      el.parentNode.removeChild(el);\n    });\n    /* tslint:enable */\n\n    if (rootEle) {\n      this.element.removeChild(rootEle);\n    }\n\n    this.setProperties({\n      items: items\n    }, true);\n  };\n\n  Accordion.prototype.toggleIconGenerate = function () {\n    var tglIcon = this.createElement('div', {\n      className: CLS_TOOGLEICN\n    });\n    var hdrColIcon = this.createElement('span', {\n      className: CLS_COLLAPSEICN\n    });\n    tglIcon.appendChild(hdrColIcon);\n    return tglIcon;\n  };\n\n  Accordion.prototype.initItemExpand = function () {\n    var len = this.initExpand.length;\n\n    if (len === 0) {\n      return;\n    }\n\n    if (this.expandMode === 'Single') {\n      this.expandItem(true, this.initExpand[len - 1]);\n    } else {\n      for (var i = 0; i < len; i++) {\n        this.expandItem(true, this.initExpand[i]);\n      }\n    } // tslint:disable-next-line:no-any\n\n\n    if (this.isReact) {\n      this.renderReactTemplates();\n    }\n  };\n\n  Accordion.prototype.renderItems = function () {\n    var _this = this;\n\n    var ele = this.element;\n    var innerItem;\n    var innerDataSourceItem;\n\n    if (!isNOU(this.trgtEle)) {\n      this.ctrlTemplate();\n    }\n\n    if (this.dataSource.length > 0) {\n      this.dataSource.forEach(function (item, index) {\n        innerDataSourceItem = _this.renderInnerItem(item, index);\n        ele.appendChild(innerDataSourceItem);\n\n        if (innerDataSourceItem.childElementCount > 0) {\n          EventHandler.add(innerDataSourceItem.querySelector('.' + CLS_HEADER), 'focus', _this.focusIn, _this);\n          EventHandler.add(innerDataSourceItem.querySelector('.' + CLS_HEADER), 'blur', _this.focusOut, _this);\n        }\n      });\n    } else {\n      var items = this.items;\n\n      if (ele && items.length > 0) {\n        items.forEach(function (item, index) {\n          innerItem = _this.renderInnerItem(item, index);\n          ele.appendChild(innerItem);\n\n          if (innerItem.childElementCount > 0) {\n            EventHandler.add(innerItem.querySelector('.' + CLS_HEADER), 'focus', _this.focusIn, _this);\n            EventHandler.add(innerItem.querySelector('.' + CLS_HEADER), 'blur', _this.focusOut, _this);\n          }\n        });\n      }\n    } // tslint:disable-next-line:no-any\n\n\n    if (this.isReact) {\n      this.renderReactTemplates();\n    }\n  };\n\n  Accordion.prototype.clickHandler = function (e) {\n    var _this = this;\n\n    var trgt = e.target;\n    var items = this.getItems();\n    var eventArgs = {};\n    var index;\n    var tglIcon;\n    var acrdEle = closest(trgt, '.' + CLS_ROOT);\n\n    if (acrdEle !== this.element) {\n      return;\n    }\n\n    trgt.classList.add('e-target');\n    var acrdnItem = closest(trgt, '.' + CLS_ITEM);\n    var acrdnHdr = closest(trgt, '.' + CLS_HEADER);\n    var acrdnCtn = closest(trgt, '.' + CLS_CONTENT);\n\n    if (acrdnItem && (isNOU(acrdnHdr) || isNOU(acrdnCtn))) {\n      acrdnHdr = acrdnItem.children[0];\n      acrdnCtn = acrdnItem.children[1];\n    }\n\n    if (acrdnHdr) {\n      tglIcon = select('.' + CLS_TOOGLEICN, acrdnHdr);\n    }\n\n    var acrdnCtnItem;\n\n    if (acrdnHdr) {\n      acrdnCtnItem = closest(acrdnHdr, '.' + CLS_ITEM);\n    } else if (acrdnCtn) {\n      acrdnCtnItem = closest(acrdnCtn, '.' + CLS_ITEM);\n    }\n\n    index = this.getIndexByItem(acrdnItem);\n\n    if (acrdnCtnItem) {\n      eventArgs.item = items[this.getIndexByItem(acrdnCtnItem)];\n    }\n\n    eventArgs.originalEvent = e;\n    var ctnCheck = !isNOU(tglIcon) && acrdnItem.childElementCount <= 1;\n\n    if (ctnCheck && (isNOU(acrdnCtn) || !isNOU(select('.' + CLS_HEADER + ' .' + CLS_TOOGLEICN, acrdnCtnItem)))) {\n      if (!this.isServerRendered) {\n        acrdnItem.appendChild(this.contentRendering(index));\n        this.ariaAttrUpdate(acrdnItem);\n        this.afterContentRender(trgt, eventArgs, acrdnItem, acrdnHdr, acrdnCtn, acrdnCtnItem);\n      } else {\n        var id = acrdnItem.id;\n\n        if (this.items.length > 0) {\n          // tslint:disable-next-line:no-any\n          this.interopAdaptor.invokeMethodAsync('OnItemClick', index).then(function () {\n            if (_this.isDestroyed) {\n              return;\n            }\n\n            _this.afterContentRender(trgt, eventArgs, acrdnItem, acrdnHdr, acrdnCtn, acrdnCtnItem);\n          });\n        } else {\n          // tslint:disable-next-line:no-any\n          this.interopAdaptor.invokeMethodAsync('OnDataClick', id).then(function () {\n            if (_this.isDestroyed) {\n              return;\n            }\n\n            _this.afterContentRender(trgt, eventArgs, acrdnItem, acrdnHdr, acrdnCtn, acrdnCtnItem);\n          });\n        }\n      }\n    } else {\n      this.afterContentRender(trgt, eventArgs, acrdnItem, acrdnHdr, acrdnCtn, acrdnCtnItem);\n    } // tslint:disable-next-line:no-any\n\n\n    if (this.isReact) {\n      this.renderReactTemplates();\n    }\n  };\n\n  Accordion.prototype.afterContentRender = function (trgt, eventArgs, acrdnItem, acrdnHdr, acrdnCtn, acrdnCtnItem) {\n    var _this = this;\n\n    var acrdActive = [];\n    this.trigger('clicked', eventArgs);\n    var cntclkCheck = acrdnCtn && !isNOU(select('.e-target', acrdnCtn));\n    var inlineAcrdnSel = '.' + CLS_CONTENT + ' .' + CLS_ROOT;\n    var inlineEleAcrdn = acrdnCtn && !isNOU(select('.' + CLS_ROOT, acrdnCtn)) && isNOU(closest(trgt, inlineAcrdnSel));\n    var nestContCheck = acrdnCtn && isNOU(select('.' + CLS_ROOT, acrdnCtn)) || !(closest(trgt, '.' + CLS_ROOT) === this.element);\n    cntclkCheck = cntclkCheck && (inlineEleAcrdn || nestContCheck);\n    trgt.classList.remove('e-target');\n\n    if (trgt.classList.contains(CLS_CONTENT) || trgt.classList.contains(CLS_CTENT) || cntclkCheck) {\n      return;\n    }\n\n    var acrdcontainer = this.element.querySelector('.' + CLS_CONTAINER);\n    var acrdnchild = acrdcontainer ? acrdcontainer.children : this.element.children;\n    [].slice.call(acrdnchild).forEach(function (el) {\n      if (el.classList.contains(CLS_ACTIVE)) {\n        acrdActive.push(el);\n      }\n    });\n    var acrdAniEle = [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM + ' [' + CLS_ANIMATE + ']'));\n\n    if (acrdAniEle.length > 0) {\n      for (var _i = 0, acrdAniEle_1 = acrdAniEle; _i < acrdAniEle_1.length; _i++) {\n        var el = acrdAniEle_1[_i];\n        acrdActive.push(el.parentElement);\n      }\n    }\n\n    var sameContentCheck = acrdActive.indexOf(acrdnCtnItem) !== -1 && acrdnCtn.getAttribute('e-animate') === 'true';\n    var sameHeader = false;\n\n    if (!isNOU(acrdnItem) && !isNOU(acrdnHdr)) {\n      var acrdnCtn_1 = select('.' + CLS_CONTENT, acrdnItem);\n      var acrdnRoot = closest(acrdnItem, '.' + CLS_ACRDN_ROOT);\n      var expandState = acrdnRoot.querySelector('.' + CLS_EXPANDSTATE);\n\n      if (isNOU(acrdnCtn_1)) {\n        return;\n      }\n\n      sameHeader = expandState === acrdnItem;\n\n      if (isVisible(acrdnCtn_1) && (!sameContentCheck || acrdnCtnItem.classList.contains(CLS_SLCTED))) {\n        this.collapse(acrdnCtn_1);\n      } else {\n        if (acrdActive.length > 0 && this.expandMode === 'Single' && !sameContentCheck) {\n          acrdActive.forEach(function (el) {\n            _this.collapse(select('.' + CLS_CONTENT, el));\n\n            el.classList.remove(CLS_EXPANDSTATE);\n          });\n        }\n\n        this.expand(acrdnCtn_1);\n      }\n\n      if (!isNOU(expandState) && !sameHeader) {\n        expandState.classList.remove(CLS_EXPANDSTATE);\n      }\n    }\n  };\n\n  Accordion.prototype.eleMoveFocus = function (action, root, trgt) {\n    var clst;\n    var clstItem = closest(trgt, '.' + CLS_ITEM);\n\n    if (trgt === root) {\n      clst = (action === 'moveUp' ? trgt.lastElementChild : trgt).querySelector('.' + CLS_HEADER);\n    } else if (trgt.classList.contains(CLS_HEADER)) {\n      clstItem = action === 'moveUp' ? clstItem.previousElementSibling : clstItem.nextElementSibling;\n\n      if (clstItem) {\n        clst = select('.' + CLS_HEADER, clstItem);\n      }\n    }\n\n    if (clst) {\n      clst.focus();\n    }\n  };\n\n  Accordion.prototype.keyActionHandler = function (e) {\n    var trgt = e.target;\n    var header = closest(e.target, CLS_HEADER);\n\n    if (isNOU(header) && !trgt.classList.contains(CLS_ROOT) && !trgt.classList.contains(CLS_HEADER)) {\n      return;\n    }\n\n    var clst;\n    var root = this.element;\n    var content;\n\n    switch (e.action) {\n      case 'moveUp':\n        this.eleMoveFocus(e.action, root, trgt);\n        break;\n\n      case 'moveDown':\n        this.eleMoveFocus(e.action, root, trgt);\n        break;\n\n      case 'space':\n      case 'enter':\n        content = trgt.nextElementSibling;\n\n        if (!isNOU(content) && content.classList.contains(CLS_CONTENT)) {\n          if (content.getAttribute('e-animate') !== 'true') {\n            trgt.click();\n          }\n        } else {\n          trgt.click();\n        }\n\n        break;\n\n      case 'home':\n      case 'end':\n        clst = e.action === 'home' ? root.firstElementChild.children[0] : root.lastElementChild.children[0];\n        clst.focus();\n        break;\n    }\n  };\n\n  Accordion.prototype.headerEleGenerate = function () {\n    var header = this.createElement('div', {\n      className: CLS_HEADER,\n      id: getUniqueID('acrdn_header')\n    });\n    var items = this.getItems();\n    var ariaAttr = {\n      'tabindex': '0',\n      'role': 'heading',\n      'aria-selected': 'false',\n      'aria-disabled': 'false',\n      'aria-level': items.length.toString()\n    };\n    attributes(header, ariaAttr);\n    return header;\n  };\n\n  Accordion.prototype.renderInnerItem = function (item, index) {\n    var innerEle;\n    innerEle = this.createElement('div', {\n      className: CLS_ITEM\n    });\n    innerEle.id = getUniqueID('acrdn_item');\n    attributes(innerEle, {\n      'aria-expanded': 'false'\n    });\n\n    if (this.headerTemplate) {\n      var ctnEle = this.headerEleGenerate();\n      var hdrEle = this.createElement('div', {\n        className: CLS_HEADERCTN\n      });\n      ctnEle.appendChild(hdrEle);\n      append(this.getheaderTemplate()(item, this, 'headerTemplate', this.element.id + '_headerTemplate', false), hdrEle);\n      innerEle.appendChild(ctnEle);\n      ctnEle.appendChild(this.toggleIconGenerate());\n      this.add(innerEle, CLS_SLCT);\n      return innerEle;\n    }\n\n    if (item.header && this.angularnativeCondiCheck(item, 'header')) {\n      if (this.enableHtmlSanitizer && typeof item.header === 'string') {\n        item.header = SanitizeHtmlHelper.sanitize(item.header);\n      }\n\n      var ctnEle = this.headerEleGenerate();\n      var hdrEle = this.createElement('div', {\n        className: CLS_HEADERCTN\n      });\n      ctnEle.appendChild(hdrEle);\n      ctnEle.appendChild(this.fetchElement(hdrEle, item.header, index, true));\n      innerEle.appendChild(ctnEle);\n    }\n\n    var hdr = select('.' + CLS_HEADER, innerEle);\n\n    if (item.expanded && !isNOU(index) && !this.enablePersistence) {\n      if (this.initExpand.indexOf(index) === -1) {\n        this.initExpand.push(index);\n      }\n    }\n\n    if (item.cssClass) {\n      addClass([innerEle], item.cssClass.split(' '));\n    }\n\n    if (item.disabled) {\n      addClass([innerEle], CLS_DISABLE);\n    }\n\n    if (item.visible === false) {\n      addClass([innerEle], CLS_ITEMHIDE);\n    }\n\n    if (item.iconCss) {\n      var hdrIcnEle = this.createElement('div', {\n        className: CLS_HEADERICN\n      });\n      var icon = this.createElement('span', {\n        className: item.iconCss + ' e-icons'\n      });\n      hdrIcnEle.appendChild(icon);\n\n      if (isNOU(hdr)) {\n        hdr = this.headerEleGenerate();\n        hdr.appendChild(hdrIcnEle);\n        innerEle.appendChild(hdr);\n      } else {\n        hdr.insertBefore(hdrIcnEle, hdr.childNodes[0]);\n      }\n    }\n\n    if (item.content && this.angularnativeCondiCheck(item, 'content')) {\n      var hdrIcon = this.toggleIconGenerate();\n\n      if (isNOU(hdr)) {\n        hdr = this.headerEleGenerate();\n        innerEle.appendChild(hdr);\n      }\n\n      hdr.appendChild(hdrIcon);\n      this.add(innerEle, CLS_SLCT);\n    }\n\n    return innerEle;\n  };\n\n  Accordion.prototype.angularnativeCondiCheck = function (item, prop) {\n    var property = prop === 'content' ? item.content : item.header;\n    var content = property;\n\n    if (this.isAngular && !isNOU(content.elementRef)) {\n      var data = content.elementRef.nativeElement.data;\n\n      if (isNOU(data) || data === '' || data.indexOf('bindings=') === -1) {\n        return true;\n      }\n\n      var parseddata = JSON.parse(content.elementRef.nativeElement.data.replace('bindings=', ''));\n\n      if (!isNOU(parseddata) && parseddata['ng-reflect-ng-if'] === 'false') {\n        return false;\n      } else {\n        return true;\n      }\n    } else {\n      return true;\n    }\n  };\n\n  Accordion.prototype.fetchElement = function (ele, value, index, isHeader) {\n    var templateFn;\n    var temString;\n\n    try {\n      if (document.querySelectorAll(value).length && value !== 'Button') {\n        var eleVal = document.querySelector(value);\n        temString = eleVal.outerHTML.trim();\n        ele.appendChild(eleVal);\n        eleVal.style.display = '';\n      }\n    } catch (e) {\n      if (typeof value === 'string') {\n        ele.innerHTML = SanitizeHtmlHelper.sanitize(value);\n        /* tslint:disable */\n      } else if (!isNOU(this.trgtEle) && value instanceof HTMLElement) {\n        ele.appendChild(value);\n        ele.firstElementChild.style.display = '';\n        /* tslint:enable */\n      } else {\n        templateFn = templateCompiler(value);\n      }\n    }\n\n    var tempArray;\n\n    if (!isNOU(templateFn)) {\n      // tslint:disable-next-line:no-any\n      if (this.isReact) {\n        this.renderReactTemplates();\n      }\n\n      var templateProps = void 0;\n      var templateName = void 0;\n\n      if (ele.classList.contains(CLS_HEADERCTN)) {\n        templateProps = this.element.id + index + '_header';\n        templateName = 'header';\n      } else if (ele.classList.contains(CLS_CTENT)) {\n        templateProps = this.element.id + index + '_content';\n        templateName = 'content';\n      }\n\n      tempArray = templateFn({}, this, templateName, templateProps, this.isStringTemplate);\n    }\n\n    if (!isNOU(tempArray) && tempArray.length > 0 && !(isNOU(tempArray[0].tagName) && tempArray.length === 1)) {\n      [].slice.call(tempArray).forEach(function (el) {\n        if (!isNOU(el.tagName)) {\n          el.style.display = '';\n        }\n\n        ele.appendChild(el);\n      });\n    } else if (ele.childElementCount === 0) {\n      ele.innerHTML = SanitizeHtmlHelper.sanitize(value);\n    }\n\n    if (!isNOU(temString)) {\n      if (this.templateEle.indexOf(value) === -1) {\n        this.templateEle.push(value);\n      }\n    }\n\n    return ele;\n  };\n\n  Accordion.prototype.ariaAttrUpdate = function (itemEle) {\n    var header = select('.' + CLS_HEADER, itemEle);\n    var content = select('.' + CLS_CONTENT, itemEle);\n    header.setAttribute('aria-controls', content.id);\n    content.setAttribute('aria-labelledby', header.id);\n    content.setAttribute('role', 'definition');\n  };\n\n  Accordion.prototype.contentRendering = function (index) {\n    var itemcnt = this.createElement('div', {\n      className: CLS_CONTENT + ' ' + CLS_CTNHIDE,\n      id: getUniqueID('acrdn_panel')\n    });\n    attributes(itemcnt, {\n      'aria-hidden': 'true'\n    });\n    var ctn = this.createElement('div', {\n      className: CLS_CTENT\n    });\n\n    if (this.dataSource.length > 0) {\n      // tslint:disable-next-line:no-any\n      if (this.isReact) {\n        this.renderReactTemplates();\n      }\n\n      append(this.getItemTemplate()(this.dataSource[index], this, 'itemTemplate', this.element.id + '_itemTemplate', false), ctn);\n      itemcnt.appendChild(ctn);\n    } else {\n      if (this.enableHtmlSanitizer && typeof this.items[index].content) {\n        this.items[index].content = SanitizeHtmlHelper.sanitize(this.items[index].content);\n      }\n\n      itemcnt.appendChild(this.fetchElement(ctn, this.items[index].content, index, false));\n    }\n\n    return itemcnt;\n  };\n\n  Accordion.prototype.expand = function (trgt) {\n    var _this = this;\n\n    var eventArgs;\n    var items = this.getItems();\n    var trgtItemEle = closest(trgt, '.' + CLS_ITEM);\n\n    if (isNOU(trgt) || isVisible(trgt) && trgt.getAttribute('e-animate') !== 'true' || trgtItemEle.classList.contains(CLS_DISABLE)) {\n      return;\n    }\n\n    var acrdnRoot = closest(trgtItemEle, '.' + CLS_ACRDN_ROOT);\n    var expandState = acrdnRoot.querySelector('.' + CLS_EXPANDSTATE);\n    var animation = {\n      name: this.animation.expand.effect,\n      duration: this.animation.expand.duration,\n      timingFunction: this.animation.expand.easing\n    };\n    var icon = select('.' + CLS_TOOGLEICN, trgtItemEle).firstElementChild;\n    eventArgs = {\n      element: trgtItemEle,\n      item: items[this.getIndexByItem(trgtItemEle)],\n      index: this.getIndexByItem(trgtItemEle),\n      content: trgtItemEle.querySelector('.' + CLS_CONTENT),\n      isExpanded: true\n    };\n    this.trigger('expanding', eventArgs, function (expandArgs) {\n      if (!expandArgs.cancel) {\n        icon.classList.add(CLS_TOGANIMATE);\n\n        _this.expandedItemsPush(trgtItemEle);\n\n        if (!isNOU(expandState)) {\n          expandState.classList.remove(CLS_EXPANDSTATE);\n        }\n\n        trgtItemEle.classList.add(CLS_EXPANDSTATE);\n\n        if (animation.name === 'None') {\n          _this.expandProgress('begin', icon, trgt, trgtItemEle, expandArgs);\n\n          _this.expandProgress('end', icon, trgt, trgtItemEle, expandArgs);\n        } else {\n          _this.expandAnimation(animation.name, icon, trgt, trgtItemEle, animation, expandArgs);\n        }\n      }\n    });\n  };\n\n  Accordion.prototype.expandAnimation = function (ef, icn, trgt, trgtItemEle, animate, args) {\n    var _this = this;\n\n    var height;\n    this.lastActiveItemId = trgtItemEle.id;\n\n    if (ef === 'SlideDown') {\n      animate.begin = function () {\n        _this.expandProgress('begin', icn, trgt, trgtItemEle, args);\n\n        trgt.style.position = 'absolute';\n        height = trgtItemEle.offsetHeight;\n        trgt.style.maxHeight = trgt.offsetHeight + 'px';\n        trgtItemEle.style.maxHeight = '';\n      };\n\n      animate.progress = function () {\n        trgtItemEle.style.minHeight = height + trgt.offsetHeight + 'px';\n      };\n\n      animate.end = function () {\n        setStyle(trgt, {\n          'position': '',\n          'maxHeight': ''\n        });\n        trgtItemEle.style.minHeight = '';\n\n        _this.expandProgress('end', icn, trgt, trgtItemEle, args);\n      };\n    } else {\n      animate.begin = function () {\n        _this.expandProgress('begin', icn, trgt, trgtItemEle, args);\n      };\n\n      animate.end = function () {\n        _this.expandProgress('end', icn, trgt, trgtItemEle, args);\n      };\n    }\n\n    new Animation(animate).animate(trgt);\n  };\n\n  Accordion.prototype.expandProgress = function (progress, icon, trgt, trgtItemEle, eventArgs) {\n    this.remove(trgt, CLS_CTNHIDE);\n    this.add(trgtItemEle, CLS_SLCTED);\n    this.add(icon, CLS_EXPANDICN);\n\n    if (progress === 'end') {\n      this.add(trgtItemEle, CLS_ACTIVE);\n      trgt.setAttribute('aria-hidden', 'false');\n      attributes(trgtItemEle, {\n        'aria-expanded': 'true'\n      });\n      attributes(trgt.previousElementSibling, {\n        'aria-selected': 'true'\n      });\n      icon.classList.remove(CLS_TOGANIMATE);\n      this.trigger('expanded', eventArgs);\n    }\n  };\n\n  Accordion.prototype.expandedItemsPush = function (item) {\n    var index = this.getIndexByItem(item);\n\n    if (this.expandedIndices.indexOf(index) === -1) {\n      var temp = [].slice.call(this.expandedIndices);\n      temp.push(index);\n      this.setProperties({\n        expandedIndices: temp\n      }, true);\n    }\n  };\n\n  Accordion.prototype.getIndexByItem = function (item) {\n    var itemEle = this.getItemElements();\n    return [].slice.call(itemEle).indexOf(item);\n  };\n\n  Accordion.prototype.getItemElements = function () {\n    var itemEle = [];\n    var itemCollection = this.element.children;\n    [].slice.call(itemCollection).forEach(function (el) {\n      if (el.classList.contains(CLS_ITEM)) {\n        itemEle.push(el);\n      }\n    });\n    return itemEle;\n  };\n\n  Accordion.prototype.expandedItemsPop = function (item) {\n    var index = this.getIndexByItem(item);\n    var temp = [].slice.call(this.expandedIndices);\n    temp.splice(temp.indexOf(index), 1);\n    this.setProperties({\n      expandedIndices: temp\n    }, true);\n  };\n\n  Accordion.prototype.collapse = function (trgt) {\n    var _this = this;\n\n    var eventArgs;\n    var items = this.getItems();\n    var trgtItemEle = closest(trgt, '.' + CLS_ITEM);\n\n    if (isNOU(trgt) || !isVisible(trgt) || trgtItemEle.classList.contains(CLS_DISABLE)) {\n      return;\n    }\n\n    var animation = {\n      name: this.animation.collapse.effect,\n      duration: this.animation.collapse.duration,\n      timingFunction: this.animation.collapse.easing\n    };\n    var icon = select('.' + CLS_TOOGLEICN, trgtItemEle).firstElementChild;\n    eventArgs = {\n      element: trgtItemEle,\n      item: items[this.getIndexByItem(trgtItemEle)],\n      index: this.getIndexByItem(trgtItemEle),\n      content: trgtItemEle.querySelector('.' + CLS_CONTENT),\n      isExpanded: false\n    };\n    this.trigger('expanding', eventArgs, function (expandArgs) {\n      if (!expandArgs.cancel) {\n        _this.expandedItemsPop(trgtItemEle);\n\n        trgtItemEle.classList.add(CLS_EXPANDSTATE);\n        icon.classList.add(CLS_TOGANIMATE);\n\n        if (animation.name === 'None') {\n          _this.collapseProgress('begin', icon, trgt, trgtItemEle, expandArgs);\n\n          _this.collapseProgress('end', icon, trgt, trgtItemEle, expandArgs);\n        } else {\n          _this.collapseAnimation(animation.name, trgt, trgtItemEle, icon, animation, expandArgs);\n        }\n      }\n    });\n  };\n\n  Accordion.prototype.collapseAnimation = function (ef, trgt, trgtItEl, icn, animate, args) {\n    var _this = this;\n\n    var height;\n    var trgtHeight;\n    var itemHeight;\n    var remain;\n    this.lastActiveItemId = trgtItEl.id;\n\n    if (ef === 'SlideUp') {\n      animate.begin = function () {\n        itemHeight = trgtItEl.offsetHeight;\n        trgtItEl.style.minHeight = itemHeight + 'px';\n        trgt.style.position = 'absolute';\n        height = trgtItEl.offsetHeight;\n        trgtHeight = trgt.offsetHeight;\n        trgt.style.maxHeight = trgtHeight + 'px';\n\n        _this.collapseProgress('begin', icn, trgt, trgtItEl, args);\n      };\n\n      animate.progress = function () {\n        remain = height - (trgtHeight - trgt.offsetHeight);\n\n        if (remain < itemHeight) {\n          trgtItEl.style.minHeight = remain + 'px';\n        }\n      };\n\n      animate.end = function () {\n        trgt.style.display = 'none';\n\n        _this.collapseProgress('end', icn, trgt, trgtItEl, args);\n\n        trgtItEl.style.minHeight = '';\n        setStyle(trgt, {\n          'position': '',\n          'maxHeight': '',\n          'display': ''\n        });\n      };\n    } else {\n      animate.begin = function () {\n        _this.collapseProgress('begin', icn, trgt, trgtItEl, args);\n      };\n\n      animate.end = function () {\n        _this.collapseProgress('end', icn, trgt, trgtItEl, args);\n      };\n    }\n\n    new Animation(animate).animate(trgt);\n  };\n\n  Accordion.prototype.collapseProgress = function (progress, icon, trgt, trgtItemEle, eventArgs) {\n    this.remove(icon, CLS_EXPANDICN);\n    this.remove(trgtItemEle, CLS_SLCTED);\n\n    if (progress === 'end') {\n      this.add(trgt, CLS_CTNHIDE);\n      icon.classList.remove(CLS_TOGANIMATE);\n      this.remove(trgtItemEle, CLS_ACTIVE);\n      trgt.setAttribute('aria-hidden', 'true');\n      attributes(trgtItemEle, {\n        'aria-expanded': 'false'\n      });\n      attributes(trgt.previousElementSibling, {\n        'aria-selected': 'false'\n      });\n      this.trigger('expanded', eventArgs);\n    }\n  };\n  /**\n   * Returns the current module name.\n   * @returns string\n   * @private\n   */\n\n\n  Accordion.prototype.getModuleName = function () {\n    return 'accordion';\n  };\n\n  Accordion.prototype.itemAttribUpdate = function () {\n    var items = this.getItems();\n    var itemEle = this.getItemElements();\n    var itemLen = items.length;\n    itemEle.forEach(function (ele) {\n      select('.' + CLS_HEADER, ele).setAttribute('aria-level', '' + itemLen);\n    });\n  };\n\n  Accordion.prototype.getItems = function () {\n    var items;\n\n    if (this.itemTemplate && this.headerTemplate) {\n      items = this.dataSource;\n    } else {\n      items = this.items;\n    }\n\n    return items;\n  };\n  /**\n   * Adds new item to the Accordion with the specified index of the Accordion.\n   * @param  {AccordionItemModel | AccordionItemModel[] | Object | Object[]} item - Item array that is to be added to the Accordion.\n   * @param  {number} index - Number value that determines where the item should be added.\n   * By default, item is added at the last index if the index is not specified.\n   * @returns void\n   */\n\n\n  Accordion.prototype.addItem = function (item, index) {\n    var _this = this;\n\n    var ele = this.element;\n    var itemEle = this.getItemElements();\n    var items = this.getItems();\n\n    if (isNOU(index)) {\n      index = items.length;\n    }\n\n    if (ele.childElementCount >= index) {\n      var addItems = item instanceof Array ? item : [item];\n      addItems.forEach(function (addItem, i) {\n        var itemIndex = index + i;\n        items.splice(itemIndex, 0, addItem);\n\n        var innerItemEle = _this.renderInnerItem(addItem, itemIndex);\n\n        if (ele.childElementCount === itemIndex) {\n          ele.appendChild(innerItemEle);\n        } else {\n          ele.insertBefore(innerItemEle, itemEle[itemIndex]);\n        }\n\n        EventHandler.add(innerItemEle.querySelector('.' + CLS_HEADER), 'focus', _this.focusIn, _this);\n        EventHandler.add(innerItemEle.querySelector('.' + CLS_HEADER), 'blur', _this.focusOut, _this);\n\n        _this.itemAttribUpdate();\n\n        _this.expandedIndices = [];\n\n        _this.expandedItemRefresh(ele);\n\n        if (addItem && addItem.expanded) {\n          _this.expandItem(true, itemIndex);\n        }\n      });\n    } // tslint:disable-next-line:no-any\n\n\n    if (this.isReact) {\n      this.renderReactTemplates();\n    }\n  };\n\n  Accordion.prototype.expandedItemRefresh = function (ele) {\n    var _this = this;\n\n    var itemEle = this.getItemElements();\n    [].slice.call(itemEle).forEach(function (el) {\n      if (el.classList.contains(CLS_SLCTED)) {\n        _this.expandedItemsPush(el);\n      }\n    });\n  };\n  /**\n   * Dynamically removes item from Accordion.\n   * @param  {number} index - Number value that determines which item should be removed.\n   * @returns void.\n   */\n\n\n  Accordion.prototype.removeItem = function (index) {\n    // tslint:disable-next-line:no-any\n    if (this.isReact) {\n      this.clearTemplate(['headerTemplate', 'itemTemplate'], index);\n    }\n\n    var itemEle = this.getItemElements();\n    var ele = itemEle[index];\n    var items = this.getItems();\n\n    if (isNOU(ele)) {\n      return;\n    }\n\n    this.restoreContent(index);\n    detach(ele);\n    items.splice(index, 1);\n    this.itemAttribUpdate();\n    this.expandedIndices = [];\n    this.expandedItemRefresh(this.element);\n  };\n  /**\n   * Sets focus to the specified index item header in Accordion.\n   * @param  {number} index - Number value that determines which item should be focused.\n   * @returns void.\n   */\n\n\n  Accordion.prototype.select = function (index) {\n    var itemEle = this.getItemElements();\n    var ele = itemEle[index];\n\n    if (isNOU(ele) || isNOU(select('.' + CLS_HEADER, ele))) {\n      return;\n    }\n\n    ele.children[0].focus();\n  };\n  /**\n   * Shows or hides the specified item from Accordion.\n   * @param  {number} index - Number value that determines which item should be hidden/shown.\n   * @param  {Boolean} isHidden - Boolean value that determines the action either hide (true) or show (false). Default value is false.\n   *  If the `isHidden` value is false, the item is shown or else item it is hidden.\n   * @returns void.\n   */\n\n\n  Accordion.prototype.hideItem = function (index, isHidden) {\n    var itemEle = this.getItemElements();\n    var ele = itemEle[index];\n\n    if (isNOU(ele)) {\n      return;\n    }\n\n    if (isNOU(isHidden)) {\n      isHidden = true;\n    }\n\n    isHidden ? this.add(ele, CLS_ITEMHIDE) : this.remove(ele, CLS_ITEMHIDE);\n  };\n  /**\n   * Enables/Disables the specified Accordion item.\n   * @param  {number} index - Number value that determines which item should be enabled/disabled.\n   * @param  {boolean} isEnable - Boolean value that determines the action as enable (true) or disable (false).\n   * If the `isEnable` value is true, the item is enabled or else it is disabled.\n   * @returns void.\n   */\n\n\n  Accordion.prototype.enableItem = function (index, isEnable) {\n    var itemEle = this.getItemElements();\n    var ele = itemEle[index];\n\n    if (isNOU(ele)) {\n      return;\n    }\n\n    var eleHeader = ele.firstElementChild;\n\n    if (isEnable) {\n      this.remove(ele, CLS_DISABLE);\n      attributes(eleHeader, {\n        'tabindex': '0',\n        'aria-disabled': 'false'\n      });\n      eleHeader.focus();\n    } else {\n      if (ele.classList.contains(CLS_ACTIVE)) {\n        this.expandItem(false, index);\n        this.eleMoveFocus('movedown', this.element, eleHeader);\n      }\n\n      this.add(ele, CLS_DISABLE);\n      eleHeader.setAttribute('aria-disabled', 'true');\n      eleHeader.removeAttribute('tabindex');\n    }\n  };\n  /**\n   * Refresh the Accordion component.\n   * @returns void.\n   */\n\n\n  Accordion.prototype.refresh = function () {\n    if (!this.isServerRendered) {\n      _super.prototype.refresh.call(this);\n    }\n  };\n  /**\n   * Expands/Collapses the specified Accordion item.\n   * @param  {boolean} isExpand - Boolean value that determines the action as expand or collapse.\n   * @param  {number} index - Number value that determines which item should be expanded/collapsed.`index` is optional parameter.\n   *  Without Specifying index, based on the `isExpand` value all Accordion item can be expanded or collapsed.\n   * @returns void.\n   */\n\n\n  Accordion.prototype.expandItem = function (isExpand, index) {\n    var _this = this;\n\n    var itemEle = this.getItemElements();\n\n    if (isNOU(index)) {\n      if (this.expandMode === 'Single' && isExpand) {\n        var ele = itemEle[itemEle.length - 1];\n        this.itemExpand(isExpand, ele, this.getIndexByItem(ele));\n      } else {\n        var item = select('#' + this.lastActiveItemId, this.element);\n        [].slice.call(itemEle).forEach(function (el) {\n          _this.itemExpand(isExpand, el, _this.getIndexByItem(el));\n\n          el.classList.remove(CLS_EXPANDSTATE);\n        });\n        var expandedItem = select('.' + CLS_EXPANDSTATE, this.element);\n\n        if (expandedItem) {\n          expandedItem.classList.remove(CLS_EXPANDSTATE);\n        }\n\n        if (item) {\n          item.classList.add(CLS_EXPANDSTATE);\n        }\n      }\n    } else {\n      var ele = itemEle[index];\n\n      if (isNOU(ele) || !ele.classList.contains(CLS_SLCT) || ele.classList.contains(CLS_ACTIVE) && isExpand) {\n        return;\n      } else {\n        if (this.expandMode === 'Single') {\n          this.expandItem(false);\n        }\n\n        this.itemExpand(isExpand, ele, index);\n      }\n    }\n  };\n\n  Accordion.prototype.itemExpand = function (isExpand, ele, index) {\n    var _this = this;\n\n    var ctn = ele.children[1];\n\n    if (ele.classList.contains(CLS_DISABLE)) {\n      return;\n    }\n\n    if (isNOU(ctn) && isExpand) {\n      if (!this.isServerRendered) {\n        ctn = this.contentRendering(index);\n        ele.appendChild(ctn);\n        this.ariaAttrUpdate(ele);\n        this.expand(ctn);\n      } else {\n        var id = ele.id;\n\n        if (this.items.length > 0) {\n          // tslint:disable-next-line:no-any\n          this.interopAdaptor.invokeMethodAsync('OnItemClick', index).then(function () {\n            if (_this.isDestroyed) {\n              return;\n            }\n\n            ctn = ele.children[1];\n\n            _this.expand(ctn);\n          });\n        } else {\n          // tslint:disable-next-line:no-any\n          this.interopAdaptor.invokeMethodAsync('OnDataClick', id).then(function () {\n            if (_this.isDestroyed) {\n              return;\n            }\n\n            ctn = ele.children[1];\n\n            _this.expand(ctn);\n          });\n        }\n      }\n    } else if (!isNOU(ctn)) {\n      isExpand ? this.expand(ctn) : this.collapse(ctn);\n    } // tslint:disable-next-line:no-any\n\n\n    if (this.isReact) {\n      this.renderReactTemplates();\n    }\n  };\n\n  Accordion.prototype.destroyItems = function () {\n    this.restoreContent(null); // tslint:disable-next-line:no-any\n\n    if (this.isReact) {\n      this.clearTemplate();\n    }\n\n    [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM)).forEach(function (el) {\n      detach(el);\n    });\n  };\n\n  Accordion.prototype.restoreContent = function (index) {\n    var ctnElePos;\n\n    if (isNOU(index)) {\n      ctnElePos = this.element;\n    } else {\n      ctnElePos = this.element.querySelectorAll('.' + CLS_ITEM)[index];\n    }\n\n    this.templateEle.forEach(function (eleStr) {\n      if (!isNOU(ctnElePos.querySelector(eleStr))) {\n        document.body.appendChild(ctnElePos.querySelector(eleStr)).style.display = 'none';\n      }\n    });\n  };\n\n  Accordion.prototype.updateItem = function (item, index) {\n    if (!isNOU(item)) {\n      var items = this.getItems();\n      var itemObj = items[index];\n      items.splice(index, 1);\n      this.restoreContent(index);\n      detach(item);\n      this.addItem(itemObj, index);\n    }\n  };\n\n  Accordion.prototype.setTemplate = function (template, toElement, index) {\n    toElement.innerHTML = '';\n    this.templateCompile(toElement, template, index); // tslint:disable-next-line:no-any\n\n    if (this.isReact) {\n      this.renderReactTemplates();\n    }\n  }; // tslint:disable-next-line\n\n\n  Accordion.prototype.templateCompile = function (ele, cnt, index) {\n    var tempEle = this.createElement('div');\n    this.fetchElement(tempEle, cnt, index, false);\n\n    if (tempEle.childNodes.length !== 0) {\n      [].slice.call(tempEle.childNodes).forEach(function (childEle) {\n        ele.appendChild(childEle);\n      });\n    }\n  };\n\n  Accordion.prototype.getPersistData = function () {\n    var keyEntity = ['expandedIndices'];\n    return this.addOnPersist(keyEntity);\n  };\n  /**\n   * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n   * @param  {AccordionModel} newProp\n   * @param  {AccordionModel} oldProp\n   * @returns void\n   * @private\n   */\n\n\n  Accordion.prototype.onPropertyChanged = function (newProp, oldProp) {\n    var acrdn = this.element;\n    var isRefresh = false;\n\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'items':\n          if (this.isServerRendered) {\n            this.wireFocusEvents();\n            break;\n          }\n\n          if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n            var changedProp = Object.keys(newProp.items);\n\n            for (var j = 0; j < changedProp.length; j++) {\n              var index = parseInt(Object.keys(newProp.items)[j], 10);\n              var property = Object.keys(newProp.items[index])[0];\n              var item = selectAll('.' + CLS_ITEM, this.element)[index];\n              var oldVal = Object(oldProp.items[index])[property];\n              var newVal = Object(newProp.items[index])[property];\n              var temp = property;\n\n              if (temp === 'header' || temp === 'iconCss' || temp === 'expanded' || temp === 'content' && oldVal === '') {\n                this.updateItem(item, index);\n              }\n\n              if (property === 'cssClass' && !isNOU(item)) {\n                item.classList.remove(oldVal);\n                item.classList.add(newVal);\n              }\n\n              if (property === 'visible' && !isNOU(item)) {\n                Object(newProp.items[index])[property] === false ? item.classList.add(CLS_ITEMHIDE) : item.classList.remove(CLS_ITEMHIDE);\n              }\n\n              if (property === 'disabled' && !isNOU(item)) {\n                this.enableItem(index, !newVal);\n              }\n\n              if (property === 'content' && !isNOU(item) && item.children.length === 2) {\n                if (typeof newVal === 'function') {\n                  var activeContent = item.querySelector('.' + CLS_CTENT);\n                  activeContent.innerHTML = '';\n                  this.setTemplate(newVal, activeContent, index);\n                } else {\n                  if (item.classList.contains(CLS_SLCTED)) {\n                    this.expandItem(false, index);\n                  }\n\n                  detach(item.querySelector('.' + CLS_CONTENT));\n                }\n              }\n            }\n          } else {\n            isRefresh = true;\n          }\n\n          break;\n\n        case 'dataSource':\n        case 'expandedIndices':\n          if (this.expandedIndices === null) {\n            this.expandedIndices = [];\n          }\n\n          isRefresh = true;\n          break;\n\n        case 'headerTemplate':\n          this.initializeheaderTemplate();\n          isRefresh = true;\n          break;\n\n        case 'itemTemplate':\n          this.initializeItemTemplate();\n          isRefresh = true;\n          break;\n\n        case 'enableRtl':\n          newProp.enableRtl ? this.add(acrdn, CLS_RTL) : this.remove(acrdn, CLS_RTL);\n          break;\n\n        case 'height':\n          setStyle(this.element, {\n            'height': formatUnit(newProp.height)\n          });\n          break;\n\n        case 'width':\n          setStyle(this.element, {\n            'width': formatUnit(newProp.width)\n          });\n          break;\n\n        case 'expandMode':\n          if (newProp.expandMode === 'Single') {\n            this.element.setAttribute('aria-multiselectable', 'false');\n\n            if (this.expandedIndices.length > 1) {\n              this.expandItem(false);\n            }\n          } else {\n            this.element.setAttribute('aria-multiselectable', 'true');\n          }\n\n          break;\n      }\n    }\n\n    if (isRefresh && !this.isServerRendered) {\n      this.initExpand = [];\n\n      if (this.expandedIndices.length > 0) {\n        this.initExpand = this.expandedIndices;\n      }\n\n      this.destroyItems();\n      this.renderItems();\n      this.initItemExpand();\n    }\n  };\n\n  __decorate([Collection([], AccordionItem)], Accordion.prototype, \"items\", void 0);\n\n  __decorate([Property([])], Accordion.prototype, \"dataSource\", void 0);\n\n  __decorate([Property()], Accordion.prototype, \"itemTemplate\", void 0);\n\n  __decorate([Property()], Accordion.prototype, \"headerTemplate\", void 0);\n\n  __decorate([Property('100%')], Accordion.prototype, \"width\", void 0);\n\n  __decorate([Property('auto')], Accordion.prototype, \"height\", void 0);\n\n  __decorate([Property([])], Accordion.prototype, \"expandedIndices\", void 0);\n\n  __decorate([Property('Multiple')], Accordion.prototype, \"expandMode\", void 0);\n\n  __decorate([Property(false)], Accordion.prototype, \"enableHtmlSanitizer\", void 0);\n\n  __decorate([Complex({}, AccordionAnimationSettings)], Accordion.prototype, \"animation\", void 0);\n\n  __decorate([Event()], Accordion.prototype, \"clicked\", void 0);\n\n  __decorate([Event()], Accordion.prototype, \"expanding\", void 0);\n\n  __decorate([Event()], Accordion.prototype, \"expanded\", void 0);\n\n  __decorate([Event()], Accordion.prototype, \"created\", void 0);\n\n  __decorate([Event()], Accordion.prototype, \"destroyed\", void 0);\n\n  Accordion = __decorate([NotifyPropertyChanges], Accordion);\n  return Accordion;\n}(Component);\n\nexport { Accordion };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","Component","EventHandler","Property","Event","KeyboardEvents","rippleEffect","getUniqueID","compile","templateCompiler","isVisible","closest","attributes","detach","select","addClass","append","NotifyPropertyChanges","ChildProperty","Collection","Animation","setStyleAttribute","setStyle","Complex","isNullOrUndefined","isNOU","formatUnit","selectAll","SanitizeHtmlHelper","isRippleEnabled","CLS_ACRDN_ROOT","CLS_ROOT","CLS_ITEM","CLS_ITEMFOCUS","CLS_ITEMHIDE","CLS_HEADER","CLS_HEADERICN","CLS_HEADERCTN","CLS_CONTENT","CLS_CTENT","CLS_TOOGLEICN","CLS_COLLAPSEICN","CLS_EXPANDICN","CLS_RTL","CLS_CTNHIDE","CLS_SLCT","CLS_SLCTED","CLS_ACTIVE","CLS_ANIMATE","CLS_DISABLE","CLS_TOGANIMATE","CLS_NEST","CLS_EXPANDSTATE","CLS_CONTAINER","AccordionActionSettings","_super","apply","AccordionAnimationSettings","effect","duration","easing","AccordionItem","Accordion","options","element","_this","call","keyConfigs","moveUp","moveDown","enter","space","home","end","destroy","isReact","clearTemplate","ele","unwireEvents","isDestroy","restoreContent","slice","children","forEach","el","removeChild","trgtEle","ctrlTem","firstElementChild","appendChild","classList","remove","removeAttribute","attrb","isNested","removeRippleEffect","preRender","nested","templateEle","add","enableRtl","val","render","isServerRendered","initializeheaderTemplate","initializeItemTemplate","initialize","renderControl","wireFocusEvents","wireEvents","renderComplete","width","height","ariaAttr","initExpand","expandedIndices","expandMode","setAttribute","renderItems","initItemExpand","acrdItem","querySelectorAll","_i","acrdItem_1","item","headerEle","querySelector","childElementCount","clearEvents","focusIn","focusOut","clickHandler","keyModule","selector","keyAction","keyActionHandler","bind","eventName","templateParser","template","document","innerHTML","trim","error","undefined","headerTemplate","headerTemplateFn","itemTemplate","itemTemplateFn","getheaderTemplate","getItemTemplate","e","parentElement","ctrlTemplate","cloneNode","innerEles","rootEle","items","push","header","content","parentNode","setProperties","toggleIconGenerate","tglIcon","createElement","className","hdrColIcon","len","expandItem","renderReactTemplates","innerItem","innerDataSourceItem","dataSource","index","renderInnerItem","trgt","getItems","eventArgs","acrdEle","acrdnItem","acrdnHdr","acrdnCtn","acrdnCtnItem","getIndexByItem","originalEvent","ctnCheck","contentRendering","ariaAttrUpdate","afterContentRender","id","interopAdaptor","invokeMethodAsync","then","isDestroyed","acrdActive","trigger","cntclkCheck","inlineAcrdnSel","inlineEleAcrdn","nestContCheck","contains","acrdcontainer","acrdnchild","acrdAniEle","acrdAniEle_1","sameContentCheck","indexOf","getAttribute","sameHeader","acrdnCtn_1","acrdnRoot","expandState","collapse","expand","eleMoveFocus","action","root","clst","clstItem","lastElementChild","previousElementSibling","nextElementSibling","focus","click","headerEleGenerate","toString","innerEle","ctnEle","hdrEle","angularnativeCondiCheck","enableHtmlSanitizer","sanitize","fetchElement","hdr","expanded","enablePersistence","cssClass","split","disabled","visible","iconCss","hdrIcnEle","icon","insertBefore","childNodes","hdrIcon","prop","property","isAngular","elementRef","data","nativeElement","parseddata","JSON","parse","replace","value","isHeader","templateFn","temString","eleVal","outerHTML","style","display","HTMLElement","tempArray","templateProps","templateName","isStringTemplate","tagName","itemEle","itemcnt","ctn","trgtItemEle","animation","name","timingFunction","isExpanded","expandArgs","cancel","expandedItemsPush","expandProgress","expandAnimation","ef","icn","animate","args","lastActiveItemId","begin","position","offsetHeight","maxHeight","progress","minHeight","temp","getItemElements","itemCollection","expandedItemsPop","splice","collapseProgress","collapseAnimation","trgtItEl","trgtHeight","itemHeight","remain","getModuleName","itemAttribUpdate","itemLen","addItem","addItems","itemIndex","innerItemEle","expandedItemRefresh","removeItem","hideItem","isHidden","enableItem","isEnable","eleHeader","refresh","isExpand","itemExpand","expandedItem","destroyItems","ctnElePos","eleStr","body","updateItem","itemObj","setTemplate","toElement","templateCompile","cnt","tempEle","childEle","getPersistData","keyEntity","addOnPersist","onPropertyChanged","newProp","oldProp","acrdn","isRefresh","_a","keys","changedProp","j","parseInt","oldVal","newVal","activeContent"],"sources":["D:/Theme/package/node_modules/@syncfusion/ej2-navigations/src/accordion/accordion.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, Property, Event, KeyboardEvents, rippleEffect } from '@syncfusion/ej2-base';\nimport { getUniqueID, compile as templateCompiler } from '@syncfusion/ej2-base';\nimport { isVisible, closest, attributes, detach, select, addClass, append } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty, Collection, Animation } from '@syncfusion/ej2-base';\nimport { setStyleAttribute as setStyle, Complex } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU, formatUnit, selectAll, SanitizeHtmlHelper, isRippleEnabled } from '@syncfusion/ej2-base';\nvar CLS_ACRDN_ROOT = 'e-acrdn-root';\nvar CLS_ROOT = 'e-accordion';\nvar CLS_ITEM = 'e-acrdn-item';\nvar CLS_ITEMFOCUS = 'e-item-focus';\nvar CLS_ITEMHIDE = 'e-hide';\nvar CLS_HEADER = 'e-acrdn-header';\nvar CLS_HEADERICN = 'e-acrdn-header-icon';\nvar CLS_HEADERCTN = 'e-acrdn-header-content';\nvar CLS_CONTENT = 'e-acrdn-panel';\nvar CLS_CTENT = 'e-acrdn-content';\nvar CLS_TOOGLEICN = 'e-toggle-icon';\nvar CLS_COLLAPSEICN = 'e-tgl-collapse-icon e-icons';\nvar CLS_EXPANDICN = 'e-expand-icon';\nvar CLS_RTL = 'e-rtl';\nvar CLS_CTNHIDE = 'e-content-hide';\nvar CLS_SLCT = 'e-select';\nvar CLS_SLCTED = 'e-selected';\nvar CLS_ACTIVE = 'e-active';\nvar CLS_ANIMATE = 'e-animate';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_TOGANIMATE = 'e-toggle-animation';\nvar CLS_NEST = 'e-nested';\nvar CLS_EXPANDSTATE = 'e-expand-state';\nvar CLS_CONTAINER = 'e-accordion-container';\n/**\n * Objects used for configuring the Accordion expanding item action properties.\n */\nvar AccordionActionSettings = /** @class */ (function (_super) {\n    __extends(AccordionActionSettings, _super);\n    function AccordionActionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('SlideDown')\n    ], AccordionActionSettings.prototype, \"effect\", void 0);\n    __decorate([\n        Property(400)\n    ], AccordionActionSettings.prototype, \"duration\", void 0);\n    __decorate([\n        Property('linear')\n    ], AccordionActionSettings.prototype, \"easing\", void 0);\n    return AccordionActionSettings;\n}(ChildProperty));\nexport { AccordionActionSettings };\n/**\n * Objects used for configuring the Accordion animation properties.\n */\nvar AccordionAnimationSettings = /** @class */ (function (_super) {\n    __extends(AccordionAnimationSettings, _super);\n    function AccordionAnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Complex({ effect: 'SlideUp', duration: 400, easing: 'linear' }, AccordionActionSettings)\n    ], AccordionAnimationSettings.prototype, \"collapse\", void 0);\n    __decorate([\n        Complex({ effect: 'SlideDown', duration: 400, easing: 'linear' }, AccordionActionSettings)\n    ], AccordionAnimationSettings.prototype, \"expand\", void 0);\n    return AccordionAnimationSettings;\n}(ChildProperty));\nexport { AccordionAnimationSettings };\n/**\n * An item object that is used to configure Accordion items.\n */\nvar AccordionItem = /** @class */ (function (_super) {\n    __extends(AccordionItem, _super);\n    function AccordionItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], AccordionItem.prototype, \"content\", void 0);\n    __decorate([\n        Property(null)\n    ], AccordionItem.prototype, \"header\", void 0);\n    __decorate([\n        Property(null)\n    ], AccordionItem.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(null)\n    ], AccordionItem.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property(false)\n    ], AccordionItem.prototype, \"expanded\", void 0);\n    __decorate([\n        Property(true)\n    ], AccordionItem.prototype, \"visible\", void 0);\n    __decorate([\n        Property(false)\n    ], AccordionItem.prototype, \"disabled\", void 0);\n    return AccordionItem;\n}(ChildProperty));\nexport { AccordionItem };\n/**\n * The Accordion is a vertically collapsible content panel that displays one or more panels at a time within the available space.\n * ```html\n * <div id='accordion'/>\n * <script>\n *   var accordionObj = new Accordion();\n *   accordionObj.appendTo('#accordion');\n * </script>\n * ```\n */\nvar Accordion = /** @class */ (function (_super) {\n    __extends(Accordion, _super);\n    /**\n     * Initializes a new instance of the Accordion class.\n     * @param options  - Specifies Accordion model properties as options.\n     * @param element  - Specifies the element that is rendered as an Accordion.\n     */\n    function Accordion(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        /**\n         * Contains the keyboard configuration of the Accordion.\n         */\n        _this.keyConfigs = {\n            moveUp: 'uparrow',\n            moveDown: 'downarrow',\n            enter: 'enter',\n            space: 'space',\n            home: 'home',\n            end: 'end',\n        };\n        return _this;\n    }\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     * @returns void\n     */\n    Accordion.prototype.destroy = function () {\n        var _this = this;\n        // tslint:disable-next-line:no-any\n        if (this.isReact) {\n            this.clearTemplate();\n        }\n        var ele = this.element;\n        _super.prototype.destroy.call(this);\n        this.unwireEvents();\n        this.isDestroy = true;\n        this.restoreContent(null);\n        [].slice.call(ele.children).forEach(function (el) {\n            ele.removeChild(el);\n        });\n        if (this.trgtEle) {\n            while (this.ctrlTem.firstElementChild) {\n                ele.appendChild(this.ctrlTem.firstElementChild);\n            }\n        }\n        ele.classList.remove(CLS_ACRDN_ROOT);\n        ele.removeAttribute('style');\n        ['aria-disabled', 'aria-multiselectable', 'role', 'data-ripple'].forEach(function (attrb) {\n            _this.element.removeAttribute(attrb);\n        });\n        if (!this.isNested && isRippleEnabled) {\n            this.removeRippleEffect();\n        }\n    };\n    Accordion.prototype.preRender = function () {\n        var nested = closest(this.element, '.' + CLS_CONTENT);\n        this.isNested = false;\n        this.templateEle = [];\n        if (!this.isDestroy) {\n            this.isDestroy = false;\n        }\n        if (!isNOU(nested)) {\n            nested.classList.add(CLS_NEST);\n            this.isNested = true;\n        }\n        else {\n            this.element.classList.add(CLS_ACRDN_ROOT);\n        }\n        if (this.enableRtl) {\n            this.add(this.element, CLS_RTL);\n        }\n    };\n    Accordion.prototype.add = function (ele, val) {\n        ele.classList.add(val);\n    };\n    Accordion.prototype.remove = function (ele, val) {\n        ele.classList.remove(val);\n    };\n    /**\n     * To initialize the control rendering\n     * @private\n     */\n    Accordion.prototype.render = function () {\n        if (!this.isServerRendered) {\n            this.initializeheaderTemplate();\n            this.initializeItemTemplate();\n            this.initialize();\n            this.renderControl();\n        }\n        else {\n            this.wireFocusEvents();\n        }\n        this.wireEvents();\n        this.renderComplete();\n    };\n    Accordion.prototype.initialize = function () {\n        var width = formatUnit(this.width);\n        var height = formatUnit(this.height);\n        setStyle(this.element, { 'width': width, 'height': height });\n        var ariaAttr = {\n            'aria-disabled': 'false', 'role': 'presentation', 'aria-multiselectable': 'true'\n        };\n        if (isNOU(this.initExpand)) {\n            this.initExpand = [];\n        }\n        if (this.expandedIndices.length > 0) {\n            this.initExpand = this.expandedIndices;\n        }\n        attributes(this.element, ariaAttr);\n        if (this.expandMode === 'Single') {\n            this.element.setAttribute('aria-multiselectable', 'false');\n        }\n    };\n    Accordion.prototype.renderControl = function () {\n        this.trgtEle = (this.element.children.length > 0) ? select('div', this.element) : null;\n        this.renderItems();\n        this.initItemExpand();\n    };\n    Accordion.prototype.wireFocusEvents = function () {\n        var acrdItem = [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM));\n        for (var _i = 0, acrdItem_1 = acrdItem; _i < acrdItem_1.length; _i++) {\n            var item = acrdItem_1[_i];\n            var headerEle = item.querySelector('.' + CLS_HEADER);\n            if (item.childElementCount > 0 && headerEle) {\n                EventHandler.clearEvents(headerEle);\n                EventHandler.add(headerEle, 'focus', this.focusIn, this);\n                EventHandler.add(headerEle, 'blur', this.focusOut, this);\n            }\n        }\n    };\n    Accordion.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        if (!isNOU(this.keyModule)) {\n            this.keyModule.destroy();\n        }\n    };\n    Accordion.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        if (!this.isNested && !this.isDestroy) {\n            this.removeRippleEffect = rippleEffect(this.element, { selector: '.' + CLS_HEADER });\n        }\n        if (!this.isNested) {\n            this.keyModule = new KeyboardEvents(this.element, {\n                keyAction: this.keyActionHandler.bind(this),\n                keyConfigs: this.keyConfigs,\n                eventName: 'keydown'\n            });\n        }\n    };\n    Accordion.prototype.templateParser = function (template) {\n        if (template) {\n            try {\n                if (document.querySelectorAll(template).length) {\n                    return templateCompiler(document.querySelector(template).innerHTML.trim());\n                }\n            }\n            catch (error) {\n                return templateCompiler(template);\n            }\n        }\n        return undefined;\n    };\n    Accordion.prototype.initializeheaderTemplate = function () {\n        if (this.headerTemplate) {\n            this.headerTemplateFn = this.templateParser(this.headerTemplate);\n        }\n    };\n    Accordion.prototype.initializeItemTemplate = function () {\n        if (this.itemTemplate) {\n            this.itemTemplateFn = this.templateParser(this.itemTemplate);\n        }\n    };\n    Accordion.prototype.getheaderTemplate = function () {\n        return this.headerTemplateFn;\n    };\n    Accordion.prototype.getItemTemplate = function () {\n        return this.itemTemplateFn;\n    };\n    Accordion.prototype.focusIn = function (e) {\n        e.target.parentElement.classList.add(CLS_ITEMFOCUS);\n    };\n    Accordion.prototype.focusOut = function (e) {\n        e.target.parentElement.classList.remove(CLS_ITEMFOCUS);\n    };\n    Accordion.prototype.ctrlTemplate = function () {\n        this.ctrlTem = this.element.cloneNode(true);\n        var innerEles;\n        var rootEle = select('.' + CLS_CONTAINER, this.element);\n        if (rootEle) {\n            innerEles = rootEle.children;\n        }\n        else {\n            innerEles = this.element.children;\n        }\n        var items = [];\n        /* tslint:disable */\n        [].slice.call(innerEles).forEach(function (el) {\n            items.push({\n                header: (el.childElementCount > 0 && el.children[0]) ? (el.children[0]) : '',\n                content: (el.childElementCount > 1 && el.children[1]) ? (el.children[1]) : ''\n            });\n            el.parentNode.removeChild(el);\n        });\n        /* tslint:enable */\n        if (rootEle) {\n            this.element.removeChild(rootEle);\n        }\n        this.setProperties({ items: items }, true);\n    };\n    Accordion.prototype.toggleIconGenerate = function () {\n        var tglIcon = this.createElement('div', { className: CLS_TOOGLEICN });\n        var hdrColIcon = this.createElement('span', { className: CLS_COLLAPSEICN });\n        tglIcon.appendChild(hdrColIcon);\n        return tglIcon;\n    };\n    Accordion.prototype.initItemExpand = function () {\n        var len = this.initExpand.length;\n        if (len === 0) {\n            return;\n        }\n        if (this.expandMode === 'Single') {\n            this.expandItem(true, this.initExpand[len - 1]);\n        }\n        else {\n            for (var i = 0; i < len; i++) {\n                this.expandItem(true, this.initExpand[i]);\n            }\n        }\n        // tslint:disable-next-line:no-any\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    Accordion.prototype.renderItems = function () {\n        var _this = this;\n        var ele = this.element;\n        var innerItem;\n        var innerDataSourceItem;\n        if (!isNOU(this.trgtEle)) {\n            this.ctrlTemplate();\n        }\n        if (this.dataSource.length > 0) {\n            this.dataSource.forEach(function (item, index) {\n                innerDataSourceItem = _this.renderInnerItem(item, index);\n                ele.appendChild(innerDataSourceItem);\n                if (innerDataSourceItem.childElementCount > 0) {\n                    EventHandler.add(innerDataSourceItem.querySelector('.' + CLS_HEADER), 'focus', _this.focusIn, _this);\n                    EventHandler.add(innerDataSourceItem.querySelector('.' + CLS_HEADER), 'blur', _this.focusOut, _this);\n                }\n            });\n        }\n        else {\n            var items = this.items;\n            if (ele && items.length > 0) {\n                items.forEach(function (item, index) {\n                    innerItem = _this.renderInnerItem(item, index);\n                    ele.appendChild(innerItem);\n                    if (innerItem.childElementCount > 0) {\n                        EventHandler.add(innerItem.querySelector('.' + CLS_HEADER), 'focus', _this.focusIn, _this);\n                        EventHandler.add(innerItem.querySelector('.' + CLS_HEADER), 'blur', _this.focusOut, _this);\n                    }\n                });\n            }\n        }\n        // tslint:disable-next-line:no-any\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    Accordion.prototype.clickHandler = function (e) {\n        var _this = this;\n        var trgt = e.target;\n        var items = this.getItems();\n        var eventArgs = {};\n        var index;\n        var tglIcon;\n        var acrdEle = closest(trgt, '.' + CLS_ROOT);\n        if (acrdEle !== this.element) {\n            return;\n        }\n        trgt.classList.add('e-target');\n        var acrdnItem = closest(trgt, '.' + CLS_ITEM);\n        var acrdnHdr = closest(trgt, '.' + CLS_HEADER);\n        var acrdnCtn = closest(trgt, '.' + CLS_CONTENT);\n        if (acrdnItem && (isNOU(acrdnHdr) || isNOU(acrdnCtn))) {\n            acrdnHdr = acrdnItem.children[0];\n            acrdnCtn = acrdnItem.children[1];\n        }\n        if (acrdnHdr) {\n            tglIcon = select('.' + CLS_TOOGLEICN, acrdnHdr);\n        }\n        var acrdnCtnItem;\n        if (acrdnHdr) {\n            acrdnCtnItem = closest(acrdnHdr, '.' + CLS_ITEM);\n        }\n        else if (acrdnCtn) {\n            acrdnCtnItem = closest(acrdnCtn, '.' + CLS_ITEM);\n        }\n        index = this.getIndexByItem(acrdnItem);\n        if (acrdnCtnItem) {\n            eventArgs.item = items[this.getIndexByItem(acrdnCtnItem)];\n        }\n        eventArgs.originalEvent = e;\n        var ctnCheck = !isNOU(tglIcon) && acrdnItem.childElementCount <= 1;\n        if (ctnCheck && (isNOU(acrdnCtn) || !isNOU(select('.' + CLS_HEADER + ' .' + CLS_TOOGLEICN, acrdnCtnItem)))) {\n            if (!this.isServerRendered) {\n                acrdnItem.appendChild(this.contentRendering(index));\n                this.ariaAttrUpdate(acrdnItem);\n                this.afterContentRender(trgt, eventArgs, acrdnItem, acrdnHdr, acrdnCtn, acrdnCtnItem);\n            }\n            else {\n                var id = acrdnItem.id;\n                if (this.items.length > 0) {\n                    // tslint:disable-next-line:no-any\n                    this.interopAdaptor.invokeMethodAsync('OnItemClick', index).then(function () {\n                        if (_this.isDestroyed) {\n                            return;\n                        }\n                        _this.afterContentRender(trgt, eventArgs, acrdnItem, acrdnHdr, acrdnCtn, acrdnCtnItem);\n                    });\n                }\n                else {\n                    // tslint:disable-next-line:no-any\n                    this.interopAdaptor.invokeMethodAsync('OnDataClick', id).then(function () {\n                        if (_this.isDestroyed) {\n                            return;\n                        }\n                        _this.afterContentRender(trgt, eventArgs, acrdnItem, acrdnHdr, acrdnCtn, acrdnCtnItem);\n                    });\n                }\n            }\n        }\n        else {\n            this.afterContentRender(trgt, eventArgs, acrdnItem, acrdnHdr, acrdnCtn, acrdnCtnItem);\n        }\n        // tslint:disable-next-line:no-any\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    Accordion.prototype.afterContentRender = function (trgt, eventArgs, acrdnItem, acrdnHdr, acrdnCtn, acrdnCtnItem) {\n        var _this = this;\n        var acrdActive = [];\n        this.trigger('clicked', eventArgs);\n        var cntclkCheck = (acrdnCtn && !isNOU(select('.e-target', acrdnCtn)));\n        var inlineAcrdnSel = '.' + CLS_CONTENT + ' .' + CLS_ROOT;\n        var inlineEleAcrdn = acrdnCtn && !isNOU(select('.' + CLS_ROOT, acrdnCtn)) && isNOU(closest(trgt, inlineAcrdnSel));\n        var nestContCheck = acrdnCtn && isNOU(select('.' + CLS_ROOT, acrdnCtn)) || !(closest(trgt, '.' + CLS_ROOT) === this.element);\n        cntclkCheck = cntclkCheck && (inlineEleAcrdn || nestContCheck);\n        trgt.classList.remove('e-target');\n        if (trgt.classList.contains(CLS_CONTENT) || trgt.classList.contains(CLS_CTENT) || cntclkCheck) {\n            return;\n        }\n        var acrdcontainer = this.element.querySelector('.' + CLS_CONTAINER);\n        var acrdnchild = (acrdcontainer) ? acrdcontainer.children : this.element.children;\n        [].slice.call(acrdnchild).forEach(function (el) {\n            if (el.classList.contains(CLS_ACTIVE)) {\n                acrdActive.push(el);\n            }\n        });\n        var acrdAniEle = [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM + ' [' + CLS_ANIMATE + ']'));\n        if (acrdAniEle.length > 0) {\n            for (var _i = 0, acrdAniEle_1 = acrdAniEle; _i < acrdAniEle_1.length; _i++) {\n                var el = acrdAniEle_1[_i];\n                acrdActive.push(el.parentElement);\n            }\n        }\n        var sameContentCheck = acrdActive.indexOf(acrdnCtnItem) !== -1 && acrdnCtn.getAttribute('e-animate') === 'true';\n        var sameHeader = false;\n        if (!isNOU(acrdnItem) && !isNOU(acrdnHdr)) {\n            var acrdnCtn_1 = select('.' + CLS_CONTENT, acrdnItem);\n            var acrdnRoot = closest(acrdnItem, '.' + CLS_ACRDN_ROOT);\n            var expandState = acrdnRoot.querySelector('.' + CLS_EXPANDSTATE);\n            if (isNOU(acrdnCtn_1)) {\n                return;\n            }\n            sameHeader = (expandState === acrdnItem);\n            if (isVisible(acrdnCtn_1) && (!sameContentCheck || acrdnCtnItem.classList.contains(CLS_SLCTED))) {\n                this.collapse(acrdnCtn_1);\n            }\n            else {\n                if ((acrdActive.length > 0) && this.expandMode === 'Single' && !sameContentCheck) {\n                    acrdActive.forEach(function (el) {\n                        _this.collapse(select('.' + CLS_CONTENT, el));\n                        el.classList.remove(CLS_EXPANDSTATE);\n                    });\n                }\n                this.expand(acrdnCtn_1);\n            }\n            if (!isNOU(expandState) && !sameHeader) {\n                expandState.classList.remove(CLS_EXPANDSTATE);\n            }\n        }\n    };\n    Accordion.prototype.eleMoveFocus = function (action, root, trgt) {\n        var clst;\n        var clstItem = closest(trgt, '.' + CLS_ITEM);\n        if (trgt === root) {\n            clst = ((action === 'moveUp' ? trgt.lastElementChild : trgt).querySelector('.' + CLS_HEADER));\n        }\n        else if (trgt.classList.contains(CLS_HEADER)) {\n            clstItem = (action === 'moveUp' ? clstItem.previousElementSibling : clstItem.nextElementSibling);\n            if (clstItem) {\n                clst = select('.' + CLS_HEADER, clstItem);\n            }\n        }\n        if (clst) {\n            clst.focus();\n        }\n    };\n    Accordion.prototype.keyActionHandler = function (e) {\n        var trgt = e.target;\n        var header = closest(e.target, CLS_HEADER);\n        if (isNOU(header) && !trgt.classList.contains(CLS_ROOT) && !trgt.classList.contains(CLS_HEADER)) {\n            return;\n        }\n        var clst;\n        var root = this.element;\n        var content;\n        switch (e.action) {\n            case 'moveUp':\n                this.eleMoveFocus(e.action, root, trgt);\n                break;\n            case 'moveDown':\n                this.eleMoveFocus(e.action, root, trgt);\n                break;\n            case 'space':\n            case 'enter':\n                content = trgt.nextElementSibling;\n                if (!isNOU(content) && content.classList.contains(CLS_CONTENT)) {\n                    if (content.getAttribute('e-animate') !== 'true') {\n                        trgt.click();\n                    }\n                }\n                else {\n                    trgt.click();\n                }\n                break;\n            case 'home':\n            case 'end':\n                clst = e.action === 'home' ? root.firstElementChild.children[0] : root.lastElementChild.children[0];\n                clst.focus();\n                break;\n        }\n    };\n    Accordion.prototype.headerEleGenerate = function () {\n        var header = this.createElement('div', { className: CLS_HEADER, id: getUniqueID('acrdn_header') });\n        var items = this.getItems();\n        var ariaAttr = {\n            'tabindex': '0', 'role': 'heading', 'aria-selected': 'false',\n            'aria-disabled': 'false', 'aria-level': items.length.toString()\n        };\n        attributes(header, ariaAttr);\n        return header;\n    };\n    Accordion.prototype.renderInnerItem = function (item, index) {\n        var innerEle;\n        innerEle = this.createElement('div', { className: CLS_ITEM });\n        innerEle.id = getUniqueID('acrdn_item');\n        attributes(innerEle, { 'aria-expanded': 'false' });\n        if (this.headerTemplate) {\n            var ctnEle = this.headerEleGenerate();\n            var hdrEle = this.createElement('div', { className: CLS_HEADERCTN });\n            ctnEle.appendChild(hdrEle);\n            append(this.getheaderTemplate()(item, this, 'headerTemplate', this.element.id + '_headerTemplate', false), hdrEle);\n            innerEle.appendChild(ctnEle);\n            ctnEle.appendChild(this.toggleIconGenerate());\n            this.add(innerEle, CLS_SLCT);\n            return innerEle;\n        }\n        if (item.header && this.angularnativeCondiCheck(item, 'header')) {\n            if (this.enableHtmlSanitizer && typeof (item.header) === 'string') {\n                item.header = SanitizeHtmlHelper.sanitize(item.header);\n            }\n            var ctnEle = this.headerEleGenerate();\n            var hdrEle = this.createElement('div', { className: CLS_HEADERCTN });\n            ctnEle.appendChild(hdrEle);\n            ctnEle.appendChild(this.fetchElement(hdrEle, item.header, index, true));\n            innerEle.appendChild(ctnEle);\n        }\n        var hdr = select('.' + CLS_HEADER, innerEle);\n        if (item.expanded && !isNOU(index) && (!this.enablePersistence)) {\n            if (this.initExpand.indexOf(index) === -1) {\n                this.initExpand.push(index);\n            }\n        }\n        if (item.cssClass) {\n            addClass([innerEle], item.cssClass.split(' '));\n        }\n        if (item.disabled) {\n            addClass([innerEle], CLS_DISABLE);\n        }\n        if (item.visible === false) {\n            addClass([innerEle], CLS_ITEMHIDE);\n        }\n        if (item.iconCss) {\n            var hdrIcnEle = this.createElement('div', { className: CLS_HEADERICN });\n            var icon = this.createElement('span', { className: item.iconCss + ' e-icons' });\n            hdrIcnEle.appendChild(icon);\n            if (isNOU(hdr)) {\n                hdr = this.headerEleGenerate();\n                hdr.appendChild(hdrIcnEle);\n                innerEle.appendChild(hdr);\n            }\n            else {\n                hdr.insertBefore(hdrIcnEle, hdr.childNodes[0]);\n            }\n        }\n        if (item.content && this.angularnativeCondiCheck(item, 'content')) {\n            var hdrIcon = this.toggleIconGenerate();\n            if (isNOU(hdr)) {\n                hdr = this.headerEleGenerate();\n                innerEle.appendChild(hdr);\n            }\n            hdr.appendChild(hdrIcon);\n            this.add(innerEle, CLS_SLCT);\n        }\n        return innerEle;\n    };\n    Accordion.prototype.angularnativeCondiCheck = function (item, prop) {\n        var property = prop === 'content' ? item.content : item.header;\n        var content = property;\n        if (this.isAngular && !isNOU(content.elementRef)) {\n            var data = content.elementRef.nativeElement.data;\n            if (isNOU(data) || data === '' || (data.indexOf('bindings=') === -1)) {\n                return true;\n            }\n            var parseddata = JSON.parse(content.elementRef.nativeElement.data.replace('bindings=', ''));\n            if (!isNOU(parseddata) && parseddata['ng-reflect-ng-if'] === 'false') {\n                return false;\n            }\n            else {\n                return true;\n            }\n        }\n        else {\n            return true;\n        }\n    };\n    Accordion.prototype.fetchElement = function (ele, value, index, isHeader) {\n        var templateFn;\n        var temString;\n        try {\n            if (document.querySelectorAll(value).length && value !== 'Button') {\n                var eleVal = document.querySelector(value);\n                temString = eleVal.outerHTML.trim();\n                ele.appendChild(eleVal);\n                eleVal.style.display = '';\n            }\n        }\n        catch (e) {\n            if (typeof (value) === 'string') {\n                ele.innerHTML = SanitizeHtmlHelper.sanitize(value);\n                /* tslint:disable */\n            }\n            else if (!isNOU(this.trgtEle) && (value instanceof (HTMLElement))) {\n                ele.appendChild(value);\n                ele.firstElementChild.style.display = '';\n                /* tslint:enable */\n            }\n            else {\n                templateFn = templateCompiler(value);\n            }\n        }\n        var tempArray;\n        if (!isNOU(templateFn)) {\n            // tslint:disable-next-line:no-any\n            if (this.isReact) {\n                this.renderReactTemplates();\n            }\n            var templateProps = void 0;\n            var templateName = void 0;\n            if (ele.classList.contains(CLS_HEADERCTN)) {\n                templateProps = this.element.id + index + '_header';\n                templateName = 'header';\n            }\n            else if (ele.classList.contains(CLS_CTENT)) {\n                templateProps = this.element.id + index + '_content';\n                templateName = 'content';\n            }\n            tempArray = templateFn({}, this, templateName, templateProps, this.isStringTemplate);\n        }\n        if (!isNOU(tempArray) && tempArray.length > 0 && !(isNOU(tempArray[0].tagName) && tempArray.length === 1)) {\n            [].slice.call(tempArray).forEach(function (el) {\n                if (!isNOU(el.tagName)) {\n                    el.style.display = '';\n                }\n                ele.appendChild(el);\n            });\n        }\n        else if (ele.childElementCount === 0) {\n            ele.innerHTML = SanitizeHtmlHelper.sanitize(value);\n        }\n        if (!isNOU(temString)) {\n            if (this.templateEle.indexOf(value) === -1) {\n                this.templateEle.push(value);\n            }\n        }\n        return ele;\n    };\n    Accordion.prototype.ariaAttrUpdate = function (itemEle) {\n        var header = select('.' + CLS_HEADER, itemEle);\n        var content = select('.' + CLS_CONTENT, itemEle);\n        header.setAttribute('aria-controls', content.id);\n        content.setAttribute('aria-labelledby', header.id);\n        content.setAttribute('role', 'definition');\n    };\n    Accordion.prototype.contentRendering = function (index) {\n        var itemcnt = this.createElement('div', { className: CLS_CONTENT + ' ' + CLS_CTNHIDE, id: getUniqueID('acrdn_panel') });\n        attributes(itemcnt, { 'aria-hidden': 'true' });\n        var ctn = this.createElement('div', { className: CLS_CTENT });\n        if (this.dataSource.length > 0) {\n            // tslint:disable-next-line:no-any\n            if (this.isReact) {\n                this.renderReactTemplates();\n            }\n            append(this.getItemTemplate()(this.dataSource[index], this, 'itemTemplate', this.element.id + '_itemTemplate', false), ctn);\n            itemcnt.appendChild(ctn);\n        }\n        else {\n            if (this.enableHtmlSanitizer && typeof (this.items[index].content)) {\n                this.items[index].content = SanitizeHtmlHelper.sanitize(this.items[index].content);\n            }\n            itemcnt.appendChild(this.fetchElement(ctn, this.items[index].content, index, false));\n        }\n        return itemcnt;\n    };\n    Accordion.prototype.expand = function (trgt) {\n        var _this = this;\n        var eventArgs;\n        var items = this.getItems();\n        var trgtItemEle = closest(trgt, '.' + CLS_ITEM);\n        if (isNOU(trgt) || (isVisible(trgt) && trgt.getAttribute('e-animate') !== 'true') || trgtItemEle.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        var acrdnRoot = closest(trgtItemEle, '.' + CLS_ACRDN_ROOT);\n        var expandState = acrdnRoot.querySelector('.' + CLS_EXPANDSTATE);\n        var animation = {\n            name: this.animation.expand.effect,\n            duration: this.animation.expand.duration,\n            timingFunction: this.animation.expand.easing\n        };\n        var icon = select('.' + CLS_TOOGLEICN, trgtItemEle).firstElementChild;\n        eventArgs = {\n            element: trgtItemEle,\n            item: items[this.getIndexByItem(trgtItemEle)],\n            index: this.getIndexByItem(trgtItemEle),\n            content: trgtItemEle.querySelector('.' + CLS_CONTENT),\n            isExpanded: true\n        };\n        this.trigger('expanding', eventArgs, function (expandArgs) {\n            if (!expandArgs.cancel) {\n                icon.classList.add(CLS_TOGANIMATE);\n                _this.expandedItemsPush(trgtItemEle);\n                if (!isNOU(expandState)) {\n                    expandState.classList.remove(CLS_EXPANDSTATE);\n                }\n                trgtItemEle.classList.add(CLS_EXPANDSTATE);\n                if ((animation.name === 'None')) {\n                    _this.expandProgress('begin', icon, trgt, trgtItemEle, expandArgs);\n                    _this.expandProgress('end', icon, trgt, trgtItemEle, expandArgs);\n                }\n                else {\n                    _this.expandAnimation(animation.name, icon, trgt, trgtItemEle, animation, expandArgs);\n                }\n            }\n        });\n    };\n    Accordion.prototype.expandAnimation = function (ef, icn, trgt, trgtItemEle, animate, args) {\n        var _this = this;\n        var height;\n        this.lastActiveItemId = trgtItemEle.id;\n        if (ef === 'SlideDown') {\n            animate.begin = function () {\n                _this.expandProgress('begin', icn, trgt, trgtItemEle, args);\n                trgt.style.position = 'absolute';\n                height = trgtItemEle.offsetHeight;\n                trgt.style.maxHeight = (trgt.offsetHeight) + 'px';\n                trgtItemEle.style.maxHeight = '';\n            };\n            animate.progress = function () {\n                trgtItemEle.style.minHeight = (height + trgt.offsetHeight) + 'px';\n            };\n            animate.end = function () {\n                setStyle(trgt, { 'position': '', 'maxHeight': '' });\n                trgtItemEle.style.minHeight = '';\n                _this.expandProgress('end', icn, trgt, trgtItemEle, args);\n            };\n        }\n        else {\n            animate.begin = function () {\n                _this.expandProgress('begin', icn, trgt, trgtItemEle, args);\n            };\n            animate.end = function () {\n                _this.expandProgress('end', icn, trgt, trgtItemEle, args);\n            };\n        }\n        new Animation(animate).animate(trgt);\n    };\n    Accordion.prototype.expandProgress = function (progress, icon, trgt, trgtItemEle, eventArgs) {\n        this.remove(trgt, CLS_CTNHIDE);\n        this.add(trgtItemEle, CLS_SLCTED);\n        this.add(icon, CLS_EXPANDICN);\n        if (progress === 'end') {\n            this.add(trgtItemEle, CLS_ACTIVE);\n            trgt.setAttribute('aria-hidden', 'false');\n            attributes(trgtItemEle, { 'aria-expanded': 'true' });\n            attributes(trgt.previousElementSibling, { 'aria-selected': 'true' });\n            icon.classList.remove(CLS_TOGANIMATE);\n            this.trigger('expanded', eventArgs);\n        }\n    };\n    Accordion.prototype.expandedItemsPush = function (item) {\n        var index = this.getIndexByItem(item);\n        if (this.expandedIndices.indexOf(index) === -1) {\n            var temp = [].slice.call(this.expandedIndices);\n            temp.push(index);\n            this.setProperties({ expandedIndices: temp }, true);\n        }\n    };\n    Accordion.prototype.getIndexByItem = function (item) {\n        var itemEle = this.getItemElements();\n        return [].slice.call(itemEle).indexOf(item);\n    };\n    Accordion.prototype.getItemElements = function () {\n        var itemEle = [];\n        var itemCollection = this.element.children;\n        [].slice.call(itemCollection).forEach(function (el) {\n            if (el.classList.contains(CLS_ITEM)) {\n                itemEle.push(el);\n            }\n        });\n        return itemEle;\n    };\n    Accordion.prototype.expandedItemsPop = function (item) {\n        var index = this.getIndexByItem(item);\n        var temp = [].slice.call(this.expandedIndices);\n        temp.splice(temp.indexOf(index), 1);\n        this.setProperties({ expandedIndices: temp }, true);\n    };\n    Accordion.prototype.collapse = function (trgt) {\n        var _this = this;\n        var eventArgs;\n        var items = this.getItems();\n        var trgtItemEle = closest(trgt, '.' + CLS_ITEM);\n        if (isNOU(trgt) || !isVisible(trgt) || trgtItemEle.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        var animation = {\n            name: this.animation.collapse.effect,\n            duration: this.animation.collapse.duration,\n            timingFunction: this.animation.collapse.easing,\n        };\n        var icon = select('.' + CLS_TOOGLEICN, trgtItemEle).firstElementChild;\n        eventArgs = {\n            element: trgtItemEle,\n            item: items[this.getIndexByItem(trgtItemEle)],\n            index: this.getIndexByItem(trgtItemEle),\n            content: trgtItemEle.querySelector('.' + CLS_CONTENT),\n            isExpanded: false\n        };\n        this.trigger('expanding', eventArgs, function (expandArgs) {\n            if (!expandArgs.cancel) {\n                _this.expandedItemsPop(trgtItemEle);\n                trgtItemEle.classList.add(CLS_EXPANDSTATE);\n                icon.classList.add(CLS_TOGANIMATE);\n                if ((animation.name === 'None')) {\n                    _this.collapseProgress('begin', icon, trgt, trgtItemEle, expandArgs);\n                    _this.collapseProgress('end', icon, trgt, trgtItemEle, expandArgs);\n                }\n                else {\n                    _this.collapseAnimation(animation.name, trgt, trgtItemEle, icon, animation, expandArgs);\n                }\n            }\n        });\n    };\n    Accordion.prototype.collapseAnimation = function (ef, trgt, trgtItEl, icn, animate, args) {\n        var _this = this;\n        var height;\n        var trgtHeight;\n        var itemHeight;\n        var remain;\n        this.lastActiveItemId = trgtItEl.id;\n        if (ef === 'SlideUp') {\n            animate.begin = function () {\n                itemHeight = trgtItEl.offsetHeight;\n                trgtItEl.style.minHeight = itemHeight + 'px';\n                trgt.style.position = 'absolute';\n                height = trgtItEl.offsetHeight;\n                trgtHeight = trgt.offsetHeight;\n                trgt.style.maxHeight = trgtHeight + 'px';\n                _this.collapseProgress('begin', icn, trgt, trgtItEl, args);\n            };\n            animate.progress = function () {\n                remain = ((height - (trgtHeight - trgt.offsetHeight)));\n                if (remain < itemHeight) {\n                    trgtItEl.style.minHeight = remain + 'px';\n                }\n            };\n            animate.end = function () {\n                trgt.style.display = 'none';\n                _this.collapseProgress('end', icn, trgt, trgtItEl, args);\n                trgtItEl.style.minHeight = '';\n                setStyle(trgt, { 'position': '', 'maxHeight': '', 'display': '' });\n            };\n        }\n        else {\n            animate.begin = function () {\n                _this.collapseProgress('begin', icn, trgt, trgtItEl, args);\n            };\n            animate.end = function () {\n                _this.collapseProgress('end', icn, trgt, trgtItEl, args);\n            };\n        }\n        new Animation(animate).animate(trgt);\n    };\n    Accordion.prototype.collapseProgress = function (progress, icon, trgt, trgtItemEle, eventArgs) {\n        this.remove(icon, CLS_EXPANDICN);\n        this.remove(trgtItemEle, CLS_SLCTED);\n        if (progress === 'end') {\n            this.add(trgt, CLS_CTNHIDE);\n            icon.classList.remove(CLS_TOGANIMATE);\n            this.remove(trgtItemEle, CLS_ACTIVE);\n            trgt.setAttribute('aria-hidden', 'true');\n            attributes(trgtItemEle, { 'aria-expanded': 'false' });\n            attributes(trgt.previousElementSibling, { 'aria-selected': 'false' });\n            this.trigger('expanded', eventArgs);\n        }\n    };\n    /**\n     * Returns the current module name.\n     * @returns string\n     * @private\n     */\n    Accordion.prototype.getModuleName = function () {\n        return 'accordion';\n    };\n    Accordion.prototype.itemAttribUpdate = function () {\n        var items = this.getItems();\n        var itemEle = this.getItemElements();\n        var itemLen = items.length;\n        itemEle.forEach(function (ele) {\n            select('.' + CLS_HEADER, ele).setAttribute('aria-level', '' + itemLen);\n        });\n    };\n    Accordion.prototype.getItems = function () {\n        var items;\n        if (this.itemTemplate && this.headerTemplate) {\n            items = this.dataSource;\n        }\n        else {\n            items = this.items;\n        }\n        return items;\n    };\n    /**\n     * Adds new item to the Accordion with the specified index of the Accordion.\n     * @param  {AccordionItemModel | AccordionItemModel[] | Object | Object[]} item - Item array that is to be added to the Accordion.\n     * @param  {number} index - Number value that determines where the item should be added.\n     * By default, item is added at the last index if the index is not specified.\n     * @returns void\n     */\n    Accordion.prototype.addItem = function (item, index) {\n        var _this = this;\n        var ele = this.element;\n        var itemEle = this.getItemElements();\n        var items = this.getItems();\n        if (isNOU(index)) {\n            index = items.length;\n        }\n        if (ele.childElementCount >= index) {\n            var addItems = (item instanceof Array) ? item : [item];\n            addItems.forEach(function (addItem, i) {\n                var itemIndex = index + i;\n                items.splice(itemIndex, 0, addItem);\n                var innerItemEle = _this.renderInnerItem(addItem, itemIndex);\n                if (ele.childElementCount === itemIndex) {\n                    ele.appendChild(innerItemEle);\n                }\n                else {\n                    ele.insertBefore(innerItemEle, itemEle[itemIndex]);\n                }\n                EventHandler.add(innerItemEle.querySelector('.' + CLS_HEADER), 'focus', _this.focusIn, _this);\n                EventHandler.add(innerItemEle.querySelector('.' + CLS_HEADER), 'blur', _this.focusOut, _this);\n                _this.itemAttribUpdate();\n                _this.expandedIndices = [];\n                _this.expandedItemRefresh(ele);\n                if (addItem && addItem.expanded) {\n                    _this.expandItem(true, itemIndex);\n                }\n            });\n        }\n        // tslint:disable-next-line:no-any\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    Accordion.prototype.expandedItemRefresh = function (ele) {\n        var _this = this;\n        var itemEle = this.getItemElements();\n        [].slice.call(itemEle).forEach(function (el) {\n            if (el.classList.contains(CLS_SLCTED)) {\n                _this.expandedItemsPush(el);\n            }\n        });\n    };\n    /**\n     * Dynamically removes item from Accordion.\n     * @param  {number} index - Number value that determines which item should be removed.\n     * @returns void.\n     */\n    Accordion.prototype.removeItem = function (index) {\n        // tslint:disable-next-line:no-any\n        if (this.isReact) {\n            this.clearTemplate(['headerTemplate', 'itemTemplate'], index);\n        }\n        var itemEle = this.getItemElements();\n        var ele = itemEle[index];\n        var items = this.getItems();\n        if (isNOU(ele)) {\n            return;\n        }\n        this.restoreContent(index);\n        detach(ele);\n        items.splice(index, 1);\n        this.itemAttribUpdate();\n        this.expandedIndices = [];\n        this.expandedItemRefresh(this.element);\n    };\n    /**\n     * Sets focus to the specified index item header in Accordion.\n     * @param  {number} index - Number value that determines which item should be focused.\n     * @returns void.\n     */\n    Accordion.prototype.select = function (index) {\n        var itemEle = this.getItemElements();\n        var ele = itemEle[index];\n        if (isNOU(ele) || isNOU(select('.' + CLS_HEADER, ele))) {\n            return;\n        }\n        ele.children[0].focus();\n    };\n    /**\n     * Shows or hides the specified item from Accordion.\n     * @param  {number} index - Number value that determines which item should be hidden/shown.\n     * @param  {Boolean} isHidden - Boolean value that determines the action either hide (true) or show (false). Default value is false.\n     *  If the `isHidden` value is false, the item is shown or else item it is hidden.\n     * @returns void.\n     */\n    Accordion.prototype.hideItem = function (index, isHidden) {\n        var itemEle = this.getItemElements();\n        var ele = itemEle[index];\n        if (isNOU(ele)) {\n            return;\n        }\n        if (isNOU(isHidden)) {\n            isHidden = true;\n        }\n        isHidden ? this.add(ele, CLS_ITEMHIDE) : this.remove(ele, CLS_ITEMHIDE);\n    };\n    /**\n     * Enables/Disables the specified Accordion item.\n     * @param  {number} index - Number value that determines which item should be enabled/disabled.\n     * @param  {boolean} isEnable - Boolean value that determines the action as enable (true) or disable (false).\n     * If the `isEnable` value is true, the item is enabled or else it is disabled.\n     * @returns void.\n     */\n    Accordion.prototype.enableItem = function (index, isEnable) {\n        var itemEle = this.getItemElements();\n        var ele = itemEle[index];\n        if (isNOU(ele)) {\n            return;\n        }\n        var eleHeader = ele.firstElementChild;\n        if (isEnable) {\n            this.remove(ele, CLS_DISABLE);\n            attributes(eleHeader, { 'tabindex': '0', 'aria-disabled': 'false' });\n            eleHeader.focus();\n        }\n        else {\n            if (ele.classList.contains(CLS_ACTIVE)) {\n                this.expandItem(false, index);\n                this.eleMoveFocus('movedown', this.element, eleHeader);\n            }\n            this.add(ele, CLS_DISABLE);\n            eleHeader.setAttribute('aria-disabled', 'true');\n            eleHeader.removeAttribute('tabindex');\n        }\n    };\n    /**\n     * Refresh the Accordion component.\n     * @returns void.\n     */\n    Accordion.prototype.refresh = function () {\n        if (!this.isServerRendered) {\n            _super.prototype.refresh.call(this);\n        }\n    };\n    /**\n     * Expands/Collapses the specified Accordion item.\n     * @param  {boolean} isExpand - Boolean value that determines the action as expand or collapse.\n     * @param  {number} index - Number value that determines which item should be expanded/collapsed.`index` is optional parameter.\n     *  Without Specifying index, based on the `isExpand` value all Accordion item can be expanded or collapsed.\n     * @returns void.\n     */\n    Accordion.prototype.expandItem = function (isExpand, index) {\n        var _this = this;\n        var itemEle = this.getItemElements();\n        if (isNOU(index)) {\n            if (this.expandMode === 'Single' && isExpand) {\n                var ele = itemEle[itemEle.length - 1];\n                this.itemExpand(isExpand, ele, this.getIndexByItem(ele));\n            }\n            else {\n                var item = select('#' + this.lastActiveItemId, this.element);\n                [].slice.call(itemEle).forEach(function (el) {\n                    _this.itemExpand(isExpand, el, _this.getIndexByItem(el));\n                    el.classList.remove(CLS_EXPANDSTATE);\n                });\n                var expandedItem = select('.' + CLS_EXPANDSTATE, this.element);\n                if (expandedItem) {\n                    expandedItem.classList.remove(CLS_EXPANDSTATE);\n                }\n                if (item) {\n                    item.classList.add(CLS_EXPANDSTATE);\n                }\n            }\n        }\n        else {\n            var ele = itemEle[index];\n            if (isNOU(ele) || !ele.classList.contains(CLS_SLCT) || (ele.classList.contains(CLS_ACTIVE) && isExpand)) {\n                return;\n            }\n            else {\n                if (this.expandMode === 'Single') {\n                    this.expandItem(false);\n                }\n                this.itemExpand(isExpand, ele, index);\n            }\n        }\n    };\n    Accordion.prototype.itemExpand = function (isExpand, ele, index) {\n        var _this = this;\n        var ctn = ele.children[1];\n        if (ele.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        if (isNOU(ctn) && isExpand) {\n            if (!this.isServerRendered) {\n                ctn = this.contentRendering(index);\n                ele.appendChild(ctn);\n                this.ariaAttrUpdate(ele);\n                this.expand(ctn);\n            }\n            else {\n                var id = ele.id;\n                if (this.items.length > 0) {\n                    // tslint:disable-next-line:no-any\n                    this.interopAdaptor.invokeMethodAsync('OnItemClick', index).then(function () {\n                        if (_this.isDestroyed) {\n                            return;\n                        }\n                        ctn = ele.children[1];\n                        _this.expand(ctn);\n                    });\n                }\n                else {\n                    // tslint:disable-next-line:no-any\n                    this.interopAdaptor.invokeMethodAsync('OnDataClick', id).then(function () {\n                        if (_this.isDestroyed) {\n                            return;\n                        }\n                        ctn = ele.children[1];\n                        _this.expand(ctn);\n                    });\n                }\n            }\n        }\n        else if (!isNOU(ctn)) {\n            isExpand ? this.expand(ctn) : this.collapse(ctn);\n        }\n        // tslint:disable-next-line:no-any\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    Accordion.prototype.destroyItems = function () {\n        this.restoreContent(null);\n        // tslint:disable-next-line:no-any\n        if (this.isReact) {\n            this.clearTemplate();\n        }\n        [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM)).forEach(function (el) { detach(el); });\n    };\n    Accordion.prototype.restoreContent = function (index) {\n        var ctnElePos;\n        if (isNOU(index)) {\n            ctnElePos = this.element;\n        }\n        else {\n            ctnElePos = this.element.querySelectorAll('.' + CLS_ITEM)[index];\n        }\n        this.templateEle.forEach(function (eleStr) {\n            if (!isNOU(ctnElePos.querySelector(eleStr))) {\n                document.body.appendChild(ctnElePos.querySelector(eleStr)).style.display = 'none';\n            }\n        });\n    };\n    Accordion.prototype.updateItem = function (item, index) {\n        if (!isNOU(item)) {\n            var items = this.getItems();\n            var itemObj = items[index];\n            items.splice(index, 1);\n            this.restoreContent(index);\n            detach(item);\n            this.addItem(itemObj, index);\n        }\n    };\n    Accordion.prototype.setTemplate = function (template, toElement, index) {\n        toElement.innerHTML = '';\n        this.templateCompile(toElement, template, index);\n        // tslint:disable-next-line:no-any\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    // tslint:disable-next-line\n    Accordion.prototype.templateCompile = function (ele, cnt, index) {\n        var tempEle = this.createElement('div');\n        this.fetchElement(tempEle, cnt, index, false);\n        if (tempEle.childNodes.length !== 0) {\n            [].slice.call(tempEle.childNodes).forEach(function (childEle) {\n                ele.appendChild(childEle);\n            });\n        }\n    };\n    Accordion.prototype.getPersistData = function () {\n        var keyEntity = ['expandedIndices'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n     * @param  {AccordionModel} newProp\n     * @param  {AccordionModel} oldProp\n     * @returns void\n     * @private\n     */\n    Accordion.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var acrdn = this.element;\n        var isRefresh = false;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'items':\n                    if (this.isServerRendered) {\n                        this.wireFocusEvents();\n                        break;\n                    }\n                    if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n                        var changedProp = Object.keys(newProp.items);\n                        for (var j = 0; j < changedProp.length; j++) {\n                            var index = parseInt(Object.keys(newProp.items)[j], 10);\n                            var property = Object.keys(newProp.items[index])[0];\n                            var item = selectAll('.' + CLS_ITEM, this.element)[index];\n                            var oldVal = Object(oldProp.items[index])[property];\n                            var newVal = Object(newProp.items[index])[property];\n                            var temp = property;\n                            if (temp === 'header' || temp === 'iconCss' || temp === 'expanded' || ((temp === 'content') && (oldVal === ''))) {\n                                this.updateItem(item, index);\n                            }\n                            if (property === 'cssClass' && !isNOU(item)) {\n                                item.classList.remove(oldVal);\n                                item.classList.add(newVal);\n                            }\n                            if (property === 'visible' && !isNOU(item)) {\n                                (Object(newProp.items[index])[property] === false) ? item.classList.add(CLS_ITEMHIDE) : item.classList.remove(CLS_ITEMHIDE);\n                            }\n                            if (property === 'disabled' && !isNOU(item)) {\n                                this.enableItem(index, !newVal);\n                            }\n                            if (property === 'content' && !isNOU(item) && item.children.length === 2) {\n                                if (typeof newVal === 'function') {\n                                    var activeContent = item.querySelector('.' + CLS_CTENT);\n                                    activeContent.innerHTML = '';\n                                    this.setTemplate(newVal, activeContent, index);\n                                }\n                                else {\n                                    if (item.classList.contains(CLS_SLCTED)) {\n                                        this.expandItem(false, index);\n                                    }\n                                    detach(item.querySelector('.' + CLS_CONTENT));\n                                }\n                            }\n                        }\n                    }\n                    else {\n                        isRefresh = true;\n                    }\n                    break;\n                case 'dataSource':\n                case 'expandedIndices':\n                    if (this.expandedIndices === null) {\n                        this.expandedIndices = [];\n                    }\n                    isRefresh = true;\n                    break;\n                case 'headerTemplate':\n                    this.initializeheaderTemplate();\n                    isRefresh = true;\n                    break;\n                case 'itemTemplate':\n                    this.initializeItemTemplate();\n                    isRefresh = true;\n                    break;\n                case 'enableRtl':\n                    newProp.enableRtl ? this.add(acrdn, CLS_RTL) : this.remove(acrdn, CLS_RTL);\n                    break;\n                case 'height':\n                    setStyle(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'width':\n                    setStyle(this.element, { 'width': formatUnit(newProp.width) });\n                    break;\n                case 'expandMode':\n                    if (newProp.expandMode === 'Single') {\n                        this.element.setAttribute('aria-multiselectable', 'false');\n                        if (this.expandedIndices.length > 1) {\n                            this.expandItem(false);\n                        }\n                    }\n                    else {\n                        this.element.setAttribute('aria-multiselectable', 'true');\n                    }\n                    break;\n            }\n        }\n        if (isRefresh && !this.isServerRendered) {\n            this.initExpand = [];\n            if (this.expandedIndices.length > 0) {\n                this.initExpand = this.expandedIndices;\n            }\n            this.destroyItems();\n            this.renderItems();\n            this.initItemExpand();\n        }\n    };\n    __decorate([\n        Collection([], AccordionItem)\n    ], Accordion.prototype, \"items\", void 0);\n    __decorate([\n        Property([])\n    ], Accordion.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property()\n    ], Accordion.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property()\n    ], Accordion.prototype, \"headerTemplate\", void 0);\n    __decorate([\n        Property('100%')\n    ], Accordion.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], Accordion.prototype, \"height\", void 0);\n    __decorate([\n        Property([])\n    ], Accordion.prototype, \"expandedIndices\", void 0);\n    __decorate([\n        Property('Multiple')\n    ], Accordion.prototype, \"expandMode\", void 0);\n    __decorate([\n        Property(false)\n    ], Accordion.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Complex({}, AccordionAnimationSettings)\n    ], Accordion.prototype, \"animation\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"clicked\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"expanding\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"expanded\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"destroyed\", void 0);\n    Accordion = __decorate([\n        NotifyPropertyChanges\n    ], Accordion);\n    return Accordion;\n}(Component));\nexport { Accordion };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}