{"ast":null,"code":"/**\n * PdfMainObjectCollection.ts class for EJ2-PDF\n */\nimport { Dictionary } from './../collections/dictionary';\nimport { ObjectStatus } from './enum';\n/**\n * The collection of all `objects` within a PDF document.\n * @private\n */\n\nvar PdfMainObjectCollection =\n/** @class */\nfunction () {\n  function PdfMainObjectCollection() {\n    //Fields\n\n    /**\n     * The collection of the `indirect objects`.\n     * @default []\n     * @private\n     */\n    this.objectCollections = [];\n    /**\n     * The collection of the `Indirect objects`.\n     * @default new Dictionary<number, ObjectInfo>()\n     * @private\n     */\n\n    this.mainObjectCollection = new Dictionary();\n    /**\n     * The collection of `primitive objects`.\n     * @private\n     */\n\n    this.primitiveObjectCollection = new Dictionary();\n  }\n\n  Object.defineProperty(PdfMainObjectCollection.prototype, \"count\", {\n    //Properties\n\n    /**\n     * Gets the `count`.\n     * @private\n     */\n    get: function () {\n      return this.objectCollections.length;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * Gets the value of `ObjectInfo` from object collection.\n   * @private\n   */\n\n  PdfMainObjectCollection.prototype.items = function (index) {\n    return this.objectCollections[index];\n  };\n\n  Object.defineProperty(PdfMainObjectCollection.prototype, \"outIsNew\", {\n    //Methods\n\n    /**\n     * Specifies the value of `IsNew`.\n     * @private\n     */\n    get: function () {\n      return this.isNew;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * `Adds` the specified element.\n   * @private\n   */\n\n  PdfMainObjectCollection.prototype.add = function (element) {\n    var objInfo = new ObjectInfo(element);\n    this.objectCollections.push(objInfo);\n\n    if (!this.primitiveObjectCollection.containsKey(element)) {\n      this.primitiveObjectCollection.setValue(element, this.objectCollections.length - 1);\n    }\n\n    element.position = this.index = this.objectCollections.length - 1;\n    element.status = ObjectStatus.Registered;\n  };\n  /**\n   * `Looks` through the collection for the object specified.\n   * @private\n   */\n\n\n  PdfMainObjectCollection.prototype.lookFor = function (obj) {\n    var index = -1;\n\n    if (obj.position !== -1) {\n      return obj.position;\n    }\n\n    if (this.primitiveObjectCollection.containsKey(obj) && this.count === this.primitiveObjectCollection.size()) {\n      index = this.primitiveObjectCollection.getValue(obj);\n    } else {\n      for (var i = this.count - 1; i >= 0; i--) {\n        var oi = this.objectCollections[i];\n\n        if (oi.object === obj) {\n          index = i;\n          break;\n        }\n      }\n    }\n\n    return index;\n  };\n  /**\n   * Gets the `reference of the object`.\n   * @private\n   */\n\n\n  PdfMainObjectCollection.prototype.getReference = function (index, isNew) {\n    this.index = this.lookFor(index);\n    var reference;\n    this.isNew = false;\n    var oi = this.objectCollections[this.index];\n    reference = oi.reference;\n    var obj = {\n      reference: reference,\n      wasNew: isNew\n    };\n    return obj;\n  };\n  /**\n   * Tries to set the `reference to the object`.\n   * @private\n   */\n\n\n  PdfMainObjectCollection.prototype.trySetReference = function (obj, reference, found) {\n    var result = true;\n    found = true;\n    this.index = this.lookFor(obj);\n    var oi = this.objectCollections[this.index];\n    oi.setReference(reference);\n    return result;\n  };\n\n  PdfMainObjectCollection.prototype.destroy = function () {\n    for (var _i = 0, _a = this.objectCollections; _i < _a.length; _i++) {\n      var obj = _a[_i];\n\n      if (obj !== undefined) {\n        obj.pdfObject.position = -1;\n        obj.pdfObject.isSaving = undefined;\n        obj.pdfObject.objectCollectionIndex = undefined;\n        obj.pdfObject.position = undefined;\n      }\n    }\n\n    this.objectCollections = [];\n    this.mainObjectCollection = new Dictionary();\n    this.primitiveObjectCollection = new Dictionary();\n  };\n\n  return PdfMainObjectCollection;\n}();\n\nexport { PdfMainObjectCollection };\n\nvar ObjectInfo =\n/** @class */\nfunction () {\n  function ObjectInfo(obj, reference) {\n    this.pdfObject = obj;\n    this.pdfReference = reference;\n  }\n\n  Object.defineProperty(ObjectInfo.prototype, \"object\", {\n    //Properties\n\n    /**\n     * Gets the `object`.\n     * @private\n     */\n    get: function () {\n      return this.pdfObject;\n    },\n    set: function (value) {\n      this.pdfObject = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ObjectInfo.prototype, \"reference\", {\n    /**\n     * Gets the `reference`.\n     * @private\n     */\n    get: function () {\n      return this.pdfReference;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * Sets the `reference`.\n   * @private\n   */\n\n  ObjectInfo.prototype.setReference = function (reference) {\n    this.pdfReference = reference;\n  };\n\n  return ObjectInfo;\n}();\n\nexport { ObjectInfo };","map":{"version":3,"names":["Dictionary","ObjectStatus","PdfMainObjectCollection","objectCollections","mainObjectCollection","primitiveObjectCollection","Object","defineProperty","prototype","get","length","enumerable","configurable","items","index","isNew","add","element","objInfo","ObjectInfo","push","containsKey","setValue","position","status","Registered","lookFor","obj","count","size","getValue","i","oi","object","getReference","reference","wasNew","trySetReference","found","result","setReference","destroy","_i","_a","undefined","pdfObject","isSaving","objectCollectionIndex","pdfReference","set","value"],"sources":["D:/Theme/package/node_modules/@syncfusion/ej2-pdf-export/src/implementation/input-output/pdf-main-object-collection.js"],"sourcesContent":["/**\n * PdfMainObjectCollection.ts class for EJ2-PDF\n */\nimport { Dictionary } from './../collections/dictionary';\nimport { ObjectStatus } from './enum';\n/**\n * The collection of all `objects` within a PDF document.\n * @private\n */\nvar PdfMainObjectCollection = /** @class */ (function () {\n    function PdfMainObjectCollection() {\n        //Fields\n        /**\n         * The collection of the `indirect objects`.\n         * @default []\n         * @private\n         */\n        this.objectCollections = [];\n        /**\n         * The collection of the `Indirect objects`.\n         * @default new Dictionary<number, ObjectInfo>()\n         * @private\n         */\n        this.mainObjectCollection = new Dictionary();\n        /**\n         * The collection of `primitive objects`.\n         * @private\n         */\n        this.primitiveObjectCollection = new Dictionary();\n    }\n    Object.defineProperty(PdfMainObjectCollection.prototype, \"count\", {\n        //Properties\n        /**\n         * Gets the `count`.\n         * @private\n         */\n        get: function () {\n            return this.objectCollections.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Gets the value of `ObjectInfo` from object collection.\n     * @private\n     */\n    PdfMainObjectCollection.prototype.items = function (index) {\n        return this.objectCollections[index];\n    };\n    Object.defineProperty(PdfMainObjectCollection.prototype, \"outIsNew\", {\n        //Methods\n        /**\n         * Specifies the value of `IsNew`.\n         * @private\n         */\n        get: function () {\n            return this.isNew;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * `Adds` the specified element.\n     * @private\n     */\n    PdfMainObjectCollection.prototype.add = function (element) {\n        var objInfo = new ObjectInfo(element);\n        this.objectCollections.push(objInfo);\n        if (!this.primitiveObjectCollection.containsKey(element)) {\n            this.primitiveObjectCollection.setValue(element, this.objectCollections.length - 1);\n        }\n        element.position = this.index = this.objectCollections.length - 1;\n        element.status = ObjectStatus.Registered;\n    };\n    /**\n     * `Looks` through the collection for the object specified.\n     * @private\n     */\n    PdfMainObjectCollection.prototype.lookFor = function (obj) {\n        var index = -1;\n        if (obj.position !== -1) {\n            return obj.position;\n        }\n        if (this.primitiveObjectCollection.containsKey(obj) && this.count === this.primitiveObjectCollection.size()) {\n            index = this.primitiveObjectCollection.getValue(obj);\n        }\n        else {\n            for (var i = this.count - 1; i >= 0; i--) {\n                var oi = this.objectCollections[i];\n                if (oi.object === obj) {\n                    index = i;\n                    break;\n                }\n            }\n        }\n        return index;\n    };\n    /**\n     * Gets the `reference of the object`.\n     * @private\n     */\n    PdfMainObjectCollection.prototype.getReference = function (index, isNew) {\n        this.index = this.lookFor(index);\n        var reference;\n        this.isNew = false;\n        var oi = this.objectCollections[this.index];\n        reference = oi.reference;\n        var obj = { reference: reference, wasNew: isNew };\n        return obj;\n    };\n    /**\n     * Tries to set the `reference to the object`.\n     * @private\n     */\n    PdfMainObjectCollection.prototype.trySetReference = function (obj, reference, found) {\n        var result = true;\n        found = true;\n        this.index = this.lookFor(obj);\n        var oi = this.objectCollections[this.index];\n        oi.setReference(reference);\n        return result;\n    };\n    PdfMainObjectCollection.prototype.destroy = function () {\n        for (var _i = 0, _a = this.objectCollections; _i < _a.length; _i++) {\n            var obj = _a[_i];\n            if (obj !== undefined) {\n                obj.pdfObject.position = -1;\n                obj.pdfObject.isSaving = undefined;\n                obj.pdfObject.objectCollectionIndex = undefined;\n                obj.pdfObject.position = undefined;\n            }\n        }\n        this.objectCollections = [];\n        this.mainObjectCollection = new Dictionary();\n        this.primitiveObjectCollection = new Dictionary();\n    };\n    return PdfMainObjectCollection;\n}());\nexport { PdfMainObjectCollection };\nvar ObjectInfo = /** @class */ (function () {\n    function ObjectInfo(obj, reference) {\n        this.pdfObject = obj;\n        this.pdfReference = reference;\n    }\n    Object.defineProperty(ObjectInfo.prototype, \"object\", {\n        //Properties\n        /**\n         * Gets the `object`.\n         * @private\n         */\n        get: function () {\n            return this.pdfObject;\n        },\n        set: function (value) {\n            this.pdfObject = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ObjectInfo.prototype, \"reference\", {\n        /**\n         * Gets the `reference`.\n         * @private\n         */\n        get: function () {\n            return this.pdfReference;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Sets the `reference`.\n     * @private\n     */\n    ObjectInfo.prototype.setReference = function (reference) {\n        this.pdfReference = reference;\n    };\n    return ObjectInfo;\n}());\nexport { ObjectInfo };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}