{"ast":null,"code":"import{formatError,login,runLogoutTimer,saveTokenInLocalStorage,signUp}from'../../services/AuthService';export var SIGNUP_CONFIRMED_ACTION='[signup action] confirmed signup';export var SIGNUP_FAILED_ACTION='[signup action] failed signup';export var LOGIN_CONFIRMED_ACTION='[login action] confirmed login';export var LOGIN_FAILED_ACTION='[login action] failed login';export var LOADING_TOGGLE_ACTION='[Loading action] toggle loading';export var LOGOUT_ACTION='[Logout action] logout action';export function signupAction(email,password,history){return function(dispatch){signUp(email,password).then(function(response){saveTokenInLocalStorage(response.data);runLogoutTimer(dispatch,response.data.expiresIn*1000,history);dispatch(confirmedSignupAction(response.data));history.push('/');}).catch(function(error){var errorMessage=formatError(error.response.data);dispatch(signupFailedAction(errorMessage));});};}export function logout(history){localStorage.removeItem('userDetails');history.push('/login');return{type:LOGOUT_ACTION};}export function loginAction(email,password,history){return function(dispatch){login(email,password).then(function(response){saveTokenInLocalStorage(response.data);runLogoutTimer(dispatch,response.data.expiresIn*1000,history);dispatch(loginConfirmedAction(response.data));history.push('/dashboard');//window.location.reload();\n//history.pushState('/index');\n}).catch(function(error){var errorMessage=formatError(error.response.data);dispatch(loginFailedAction(errorMessage));});};}export function loginFailedAction(data){return{type:LOGIN_FAILED_ACTION,payload:data};}export function loginConfirmedAction(data){return{type:LOGIN_CONFIRMED_ACTION,payload:data};}export function confirmedSignupAction(payload){return{type:SIGNUP_CONFIRMED_ACTION,payload:payload};}export function signupFailedAction(message){return{type:SIGNUP_FAILED_ACTION,payload:message};}export function loadingToggleAction(status){return{type:LOADING_TOGGLE_ACTION,payload:status};}","map":{"version":3,"names":["formatError","login","runLogoutTimer","saveTokenInLocalStorage","signUp","SIGNUP_CONFIRMED_ACTION","SIGNUP_FAILED_ACTION","LOGIN_CONFIRMED_ACTION","LOGIN_FAILED_ACTION","LOADING_TOGGLE_ACTION","LOGOUT_ACTION","signupAction","email","password","history","dispatch","then","response","data","expiresIn","confirmedSignupAction","push","catch","error","errorMessage","signupFailedAction","logout","localStorage","removeItem","type","loginAction","loginConfirmedAction","loginFailedAction","payload","message","loadingToggleAction","status"],"sources":["D:/Theme/package/src/store/actions/AuthActions.js"],"sourcesContent":["import {\n    formatError,\n    login,\n    runLogoutTimer,\n    saveTokenInLocalStorage,\n    signUp,\n} from '../../services/AuthService';\n\nexport const SIGNUP_CONFIRMED_ACTION = '[signup action] confirmed signup';\nexport const SIGNUP_FAILED_ACTION = '[signup action] failed signup';\nexport const LOGIN_CONFIRMED_ACTION = '[login action] confirmed login';\nexport const LOGIN_FAILED_ACTION = '[login action] failed login';\nexport const LOADING_TOGGLE_ACTION = '[Loading action] toggle loading';\nexport const LOGOUT_ACTION = '[Logout action] logout action';\n\nexport function signupAction(email, password, history) {\n    return (dispatch) => {\n        signUp(email, password)\n        .then((response) => {\n            saveTokenInLocalStorage(response.data);\n            runLogoutTimer(\n                dispatch,\n                response.data.expiresIn * 1000,\n                history,\n            );\n            dispatch(confirmedSignupAction(response.data));\n            history.push('/');\n        })\n        .catch((error) => {\n            const errorMessage = formatError(error.response.data);\n            dispatch(signupFailedAction(errorMessage));\n        });\n    };\n}\n\nexport function logout(history) {\n    localStorage.removeItem('userDetails');\n    history.push('/login');\n    return {\n        type: LOGOUT_ACTION,\n    };\n}\n\nexport function loginAction(email, password, history) {\n    return (dispatch) => {\n        login(email, password)\n            .then((response) => {\n                saveTokenInLocalStorage(response.data);\n                runLogoutTimer(\n                    dispatch,\n                    response.data.expiresIn * 1000,\n                    history,\n                );\n                dispatch(loginConfirmedAction(response.data));\n\t\t\t\thistory.push('/dashboard');\n\t\t\t\t//window.location.reload();\n                \n\t\t\t\t//history.pushState('/index');\n                \n            })\n            .catch((error) => {\n                const errorMessage = formatError(error.response.data);\n                dispatch(loginFailedAction(errorMessage));\n            });\n    };\n}\n\nexport function loginFailedAction(data) {\n    return {\n        type: LOGIN_FAILED_ACTION,\n        payload: data,\n    };\n}\n\nexport function loginConfirmedAction(data) {\n    return {\n        type: LOGIN_CONFIRMED_ACTION,\n        payload: data,\n    };\n}\n\nexport function confirmedSignupAction(payload) {\n    return {\n        type: SIGNUP_CONFIRMED_ACTION,\n        payload,\n    };\n}\n\nexport function signupFailedAction(message) {\n    return {\n        type: SIGNUP_FAILED_ACTION,\n        payload: message,\n    };\n}\n\nexport function loadingToggleAction(status) {\n    return {\n        type: LOADING_TOGGLE_ACTION,\n        payload: status,\n    };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}