{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { Series } from '../series/chart-series';\nimport { TechnicalAnalysis } from './indicator-base';\n/**\n * `BollingerBands` module is used to render bollinger band indicator.\n */\n\nvar BollingerBands =\n/** @class */\nfunction (_super) {\n  __extends(BollingerBands, _super);\n\n  function BollingerBands() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  /**\n   * Initializes the series collection to represent bollinger band\n   */\n\n\n  BollingerBands.prototype.initSeriesCollection = function (indicator, chart) {\n    indicator.targetSeries = [];\n    var rangeArea = new Series(indicator, 'targetSeries', {}, true);\n    rangeArea.type = 'RangeArea';\n\n    if (indicator.bandColor !== 'transparent' && indicator.bandColor !== 'none') {\n      this.setSeriesProperties(rangeArea, indicator, 'BollingerBand', indicator.bandColor, 0, chart);\n    }\n\n    var signalLine = new Series(indicator, 'targetSeries', {}, true);\n    this.setSeriesProperties(signalLine, indicator, 'BollingerBand', indicator.fill, indicator.width, chart);\n    var upperLine = new Series(indicator, 'targetSeries', {}, true);\n    this.setSeriesProperties(upperLine, indicator, 'UpperLine', indicator.upperLine.color, indicator.upperLine.width, chart);\n    var lowerLine = new Series(indicator, 'targetSeries', {}, true);\n    this.setSeriesProperties(lowerLine, indicator, 'LowerLine', indicator.lowerLine.color, indicator.lowerLine.width, chart);\n  };\n  /**\n   * Defines the predictions using Bollinger Band Approach\n   * @private\n   */\n\n\n  BollingerBands.prototype.initDataSource = function (indicator, chart) {\n    var enableBand = indicator.bandColor !== 'transparent' && indicator.bandColor !== 'none';\n    var start = enableBand ? 1 : 0;\n    var signalCollection = [];\n    var upperCollection = [];\n    var lowerCollection = [];\n    var bandCollection = [];\n    var upperSeries = indicator.targetSeries[start + 1];\n    var lowerSeries = indicator.targetSeries[start + 2];\n    var signalSeries = indicator.targetSeries[start];\n    var rangeAreaSeries = enableBand ? indicator.targetSeries[0] : null; //prepare data\n\n    var validData = indicator.points;\n\n    if (validData.length && validData.length >= indicator.period) {\n      var sum = 0;\n      var deviationSum = 0;\n      var multiplier = indicator.standardDeviation;\n      var limit = validData.length;\n      var length_1 = Math.round(indicator.period);\n      var smaPoints = [];\n      var deviations = [];\n      var bollingerPoints = [];\n\n      for (var i_1 = 0; i_1 < length_1; i_1++) {\n        sum += Number(validData[i_1].close);\n      }\n\n      var sma = sum / indicator.period;\n\n      for (var i_2 = 0; i_2 < limit; i_2++) {\n        var y = Number(validData[i_2].close);\n\n        if (i_2 >= length_1 - 1 && i_2 < limit) {\n          if (i_2 - indicator.period >= 0) {\n            var diff = y - Number(validData[i_2 - length_1].close);\n            sum = sum + diff;\n            sma = sum / indicator.period;\n            smaPoints[i_2] = sma;\n            deviations[i_2] = Math.pow(y - sma, 2);\n            deviationSum += deviations[i_2] - deviations[i_2 - length_1];\n          } else {\n            smaPoints[i_2] = sma;\n            deviations[i_2] = Math.pow(y - sma, 2);\n            deviationSum += deviations[i_2];\n          }\n\n          var range = Math.sqrt(deviationSum / indicator.period);\n          var lowerBand = smaPoints[i_2] - multiplier * range;\n          var upperBand = smaPoints[i_2] + multiplier * range;\n\n          if (i_2 + 1 === length_1) {\n            for (var j_1 = 0; j_1 < length_1 - 1; j_1++) {\n              bollingerPoints[j_1] = {\n                'X': validData[j_1].x,\n                'mb': smaPoints[i_2],\n                'lb': lowerBand,\n                'ub': upperBand,\n                visible: true\n              };\n            }\n          }\n\n          bollingerPoints[i_2] = {\n            'X': validData[i_2].x,\n            'mb': smaPoints[i_2],\n            'lb': lowerBand,\n            'ub': upperBand,\n            visible: true\n          };\n        } else {\n          if (i_2 < indicator.period - 1) {\n            smaPoints[i_2] = sma;\n            deviations[i_2] = Math.pow(y - sma, 2);\n            deviationSum += deviations[i_2];\n          }\n        }\n      }\n\n      var i = -1;\n      var j = -1;\n\n      for (var k = 0; k < limit; k++) {\n        if (k >= length_1 - 1) {\n          var ub = 'ub';\n          var lb = 'lb';\n          var mb = 'mb';\n          upperCollection.push(this.getDataPoint(validData[k].x, bollingerPoints[k][ub], validData[k], upperSeries, upperCollection.length));\n          lowerCollection.push(this.getDataPoint(validData[k].x, bollingerPoints[k][lb], validData[k], lowerSeries, lowerCollection.length));\n          signalCollection.push(this.getDataPoint(validData[k].x, bollingerPoints[k][mb], validData[k], signalSeries, signalCollection.length));\n\n          if (enableBand) {\n            bandCollection.push(this.getRangePoint(validData[k].x, upperCollection[++i].y, lowerCollection[++j].y, validData[k], rangeAreaSeries, bandCollection.length));\n          }\n        }\n      }\n    }\n\n    if (enableBand) {\n      this.setSeriesRange(bandCollection, indicator, indicator.targetSeries[0]);\n    }\n\n    this.setSeriesRange(signalCollection, indicator, indicator.targetSeries[start]);\n    this.setSeriesRange(upperCollection, indicator, indicator.targetSeries[start + 1]);\n    this.setSeriesRange(lowerCollection, indicator, indicator.targetSeries[start + 2]);\n  };\n  /**\n   * To destroy the Bollinger Band.\n   * @return {void}\n   * @private\n   */\n\n\n  BollingerBands.prototype.destroy = function (chart) {\n    /**\n     * Destroys the bollinger band\n     */\n  };\n  /**\n   * Get module name.\n   */\n\n\n  BollingerBands.prototype.getModuleName = function () {\n    /**\n     * Returns the module name of the series\n     */\n    return 'BollingerBandsIndicator';\n  };\n\n  return BollingerBands;\n}(TechnicalAnalysis);\n\nexport { BollingerBands };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","Series","TechnicalAnalysis","BollingerBands","_super","apply","arguments","initSeriesCollection","indicator","chart","targetSeries","rangeArea","type","bandColor","setSeriesProperties","signalLine","fill","width","upperLine","color","lowerLine","initDataSource","enableBand","start","signalCollection","upperCollection","lowerCollection","bandCollection","upperSeries","lowerSeries","signalSeries","rangeAreaSeries","validData","points","length","period","sum","deviationSum","multiplier","standardDeviation","limit","length_1","Math","round","smaPoints","deviations","bollingerPoints","i_1","Number","close","sma","i_2","y","diff","pow","range","sqrt","lowerBand","upperBand","j_1","x","visible","i","j","k","ub","lb","mb","push","getDataPoint","getRangePoint","setSeriesRange","destroy","getModuleName"],"sources":["D:/Theme/package/node_modules/@syncfusion/ej2-charts/src/chart/technical-indicators/bollinger-bands.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Series } from '../series/chart-series';\nimport { TechnicalAnalysis } from './indicator-base';\n/**\n * `BollingerBands` module is used to render bollinger band indicator.\n */\nvar BollingerBands = /** @class */ (function (_super) {\n    __extends(BollingerBands, _super);\n    function BollingerBands() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Initializes the series collection to represent bollinger band\n     */\n    BollingerBands.prototype.initSeriesCollection = function (indicator, chart) {\n        indicator.targetSeries = [];\n        var rangeArea = new Series(indicator, 'targetSeries', {}, true);\n        rangeArea.type = 'RangeArea';\n        if (indicator.bandColor !== 'transparent' && indicator.bandColor !== 'none') {\n            this.setSeriesProperties(rangeArea, indicator, 'BollingerBand', indicator.bandColor, 0, chart);\n        }\n        var signalLine = new Series(indicator, 'targetSeries', {}, true);\n        this.setSeriesProperties(signalLine, indicator, 'BollingerBand', indicator.fill, indicator.width, chart);\n        var upperLine = new Series(indicator, 'targetSeries', {}, true);\n        this.setSeriesProperties(upperLine, indicator, 'UpperLine', indicator.upperLine.color, indicator.upperLine.width, chart);\n        var lowerLine = new Series(indicator, 'targetSeries', {}, true);\n        this.setSeriesProperties(lowerLine, indicator, 'LowerLine', indicator.lowerLine.color, indicator.lowerLine.width, chart);\n    };\n    /**\n     * Defines the predictions using Bollinger Band Approach\n     * @private\n     */\n    BollingerBands.prototype.initDataSource = function (indicator, chart) {\n        var enableBand = indicator.bandColor !== 'transparent' && indicator.bandColor !== 'none';\n        var start = enableBand ? 1 : 0;\n        var signalCollection = [];\n        var upperCollection = [];\n        var lowerCollection = [];\n        var bandCollection = [];\n        var upperSeries = indicator.targetSeries[start + 1];\n        var lowerSeries = indicator.targetSeries[start + 2];\n        var signalSeries = indicator.targetSeries[start];\n        var rangeAreaSeries = enableBand ? indicator.targetSeries[0] : null;\n        //prepare data\n        var validData = indicator.points;\n        if (validData.length && validData.length >= indicator.period) {\n            var sum = 0;\n            var deviationSum = 0;\n            var multiplier = indicator.standardDeviation;\n            var limit = validData.length;\n            var length_1 = Math.round(indicator.period);\n            var smaPoints = [];\n            var deviations = [];\n            var bollingerPoints = [];\n            for (var i_1 = 0; i_1 < length_1; i_1++) {\n                sum += Number(validData[i_1].close);\n            }\n            var sma = sum / indicator.period;\n            for (var i_2 = 0; i_2 < limit; i_2++) {\n                var y = Number(validData[i_2].close);\n                if (i_2 >= length_1 - 1 && i_2 < limit) {\n                    if (i_2 - indicator.period >= 0) {\n                        var diff = y - Number(validData[i_2 - length_1].close);\n                        sum = sum + diff;\n                        sma = sum / (indicator.period);\n                        smaPoints[i_2] = sma;\n                        deviations[i_2] = Math.pow(y - sma, 2);\n                        deviationSum += deviations[i_2] - deviations[i_2 - length_1];\n                    }\n                    else {\n                        smaPoints[i_2] = sma;\n                        deviations[i_2] = Math.pow(y - sma, 2);\n                        deviationSum += deviations[i_2];\n                    }\n                    var range = Math.sqrt(deviationSum / (indicator.period));\n                    var lowerBand = smaPoints[i_2] - (multiplier * range);\n                    var upperBand = smaPoints[i_2] + (multiplier * range);\n                    if (i_2 + 1 === length_1) {\n                        for (var j_1 = 0; j_1 < length_1 - 1; j_1++) {\n                            bollingerPoints[j_1] = {\n                                'X': validData[j_1].x, 'mb': smaPoints[i_2],\n                                'lb': lowerBand, 'ub': upperBand, visible: true\n                            };\n                        }\n                    }\n                    bollingerPoints[i_2] = {\n                        'X': validData[i_2].x, 'mb': smaPoints[i_2],\n                        'lb': lowerBand, 'ub': upperBand, visible: true\n                    };\n                }\n                else {\n                    if (i_2 < indicator.period - 1) {\n                        smaPoints[i_2] = sma;\n                        deviations[i_2] = Math.pow(y - sma, 2);\n                        deviationSum += deviations[i_2];\n                    }\n                }\n            }\n            var i = -1;\n            var j = -1;\n            for (var k = 0; k < limit; k++) {\n                if (k >= (length_1 - 1)) {\n                    var ub = 'ub';\n                    var lb = 'lb';\n                    var mb = 'mb';\n                    upperCollection.push(this.getDataPoint(validData[k].x, bollingerPoints[k][ub], validData[k], upperSeries, upperCollection.length));\n                    lowerCollection.push(this.getDataPoint(validData[k].x, bollingerPoints[k][lb], validData[k], lowerSeries, lowerCollection.length));\n                    signalCollection.push(this.getDataPoint(validData[k].x, bollingerPoints[k][mb], validData[k], signalSeries, signalCollection.length));\n                    if (enableBand) {\n                        bandCollection.push(this.getRangePoint(validData[k].x, upperCollection[++i].y, lowerCollection[++j].y, validData[k], rangeAreaSeries, bandCollection.length));\n                    }\n                }\n            }\n        }\n        if (enableBand) {\n            this.setSeriesRange(bandCollection, indicator, indicator.targetSeries[0]);\n        }\n        this.setSeriesRange(signalCollection, indicator, indicator.targetSeries[start]);\n        this.setSeriesRange(upperCollection, indicator, indicator.targetSeries[start + 1]);\n        this.setSeriesRange(lowerCollection, indicator, indicator.targetSeries[start + 2]);\n    };\n    /**\n     * To destroy the Bollinger Band.\n     * @return {void}\n     * @private\n     */\n    BollingerBands.prototype.destroy = function (chart) {\n        /**\n         * Destroys the bollinger band\n         */\n    };\n    /**\n     * Get module name.\n     */\n    BollingerBands.prototype.getModuleName = function () {\n        /**\n         * Returns the module name of the series\n         */\n        return 'BollingerBandsIndicator';\n    };\n    return BollingerBands;\n}(TechnicalAnalysis));\nexport { BollingerBands };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}