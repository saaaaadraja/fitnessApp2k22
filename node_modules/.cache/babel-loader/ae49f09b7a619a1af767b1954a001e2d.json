{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nimport { EventHandler, Property, Internationalization, NotifyPropertyChanges, isBlazor } from '@syncfusion/ej2-base';\nimport { KeyboardEvents, Animation, Browser } from '@syncfusion/ej2-base';\nimport { cldrData, L10n, Component, getDefaultDateObject, rippleEffect, Event } from '@syncfusion/ej2-base';\nimport { remove, addClass, detach, removeClass, closest, append, attributes, setStyleAttribute } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, formatUnit, getValue, extend, getUniqueID, blazorCultureFormats } from '@syncfusion/ej2-base';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { ListBase } from '@syncfusion/ej2-lists';\nvar WRAPPERCLASS = 'e-time-wrapper';\nvar POPUP = 'e-popup';\nvar ERROR = 'e-error';\nvar POPUPDIMENSION = '240px';\nvar DAY = new Date().getDate();\nvar MONTH = new Date().getMonth();\nvar YEAR = new Date().getFullYear();\nvar ROOT = 'e-timepicker';\nvar LIBRARY = 'e-lib';\nvar CONTROL = 'e-control';\nvar RTL = 'e-rtl';\nvar CONTENT = 'e-content';\nvar SELECTED = 'e-active';\nvar HOVER = 'e-hover';\nvar NAVIGATION = 'e-navigation';\nvar DISABLED = 'e-disabled';\nvar ICONANIMATION = 'e-icon-anim';\nvar TIMEICON = 'e-time-icon';\nvar CLEARICON = 'e-clear-icon';\nvar FOCUS = 'e-input-focus';\nvar DEVICE = 'e-device';\nvar LISTCLASS = 'e-list-item';\nvar HALFPOSITION = 2;\nvar ANIMATIONDURATION = 50;\nvar OVERFLOW = 'e-time-overflow';\nvar OFFSETVAL = 4;\nvar EDITABLE = 'e-non-edit';\nvar wrapperAttributes = ['title', 'class', 'style'];\nexport var TimePickerBase;\n\n(function (TimePickerBase) {\n  // tslint:disable-next-line\n  function createListItems(createdEl, min, max, globalize, timeFormat, step) {\n    var formatOptions;\n\n    if (this.calendarMode === 'Gregorian') {\n      formatOptions = {\n        format: timeFormat,\n        type: 'time'\n      };\n    } else {\n      formatOptions = {\n        format: timeFormat,\n        type: 'time',\n        calendar: 'islamic'\n      };\n    }\n\n    var start;\n    var end;\n    var interval = step * 60000;\n    var listItems = [];\n    var timeCollections = [];\n    start = +min.setMilliseconds(0);\n    end = +max.setMilliseconds(0);\n\n    while (end >= start) {\n      timeCollections.push(start);\n      listItems.push(globalize.formatDate(new Date(start), {\n        format: timeFormat,\n        type: 'time'\n      }));\n      start += interval;\n    }\n\n    var listTag = ListBase.createList(createdEl, listItems, null, true);\n    return {\n      collection: timeCollections,\n      list: listTag\n    };\n  }\n\n  TimePickerBase.createListItems = createListItems;\n})(TimePickerBase || (TimePickerBase = {}));\n/**\n * TimePicker is an intuitive interface component which provides an options to select a time value\n * from popup list or to set a desired time value.\n * ```\n * <input id='timepicker' type='text'/>\n * <script>\n *   var timePickerObj = new TimePicker({ value: new Date() });\n *   timePickerObj.appendTo('#timepicker');\n * </script>\n * ```\n */\n\n\nvar TimePicker =\n/** @class */\nfunction (_super) {\n  __extends(TimePicker, _super);\n  /**\n   * Constructor for creating the widget\n   */\n\n\n  function TimePicker(options, element) {\n    var _this = _super.call(this, options, element) || this;\n\n    _this.liCollections = [];\n    _this.timeCollections = [];\n    _this.blazorTimeCollections = [];\n    _this.disableItemCollection = [];\n    _this.invalidValueString = null;\n    _this.isBlazorServer = false;\n    _this.isAngular = false;\n    _this.preventChange = false;\n    _this.timeOptions = options;\n    return _this;\n  }\n  /**\n   * Initialize the event handler\n   * @private\n   */\n\n\n  TimePicker.prototype.preRender = function () {\n    this.keyConfigure = {\n      enter: 'enter',\n      escape: 'escape',\n      end: 'end',\n      tab: 'tab',\n      home: 'home',\n      down: 'downarrow',\n      up: 'uparrow',\n      left: 'leftarrow',\n      right: 'rightarrow',\n      open: 'alt+downarrow',\n      close: 'alt+uparrow'\n    };\n    this.cloneElement = this.element.cloneNode(true);\n    removeClass([this.cloneElement], [ROOT, CONTROL, LIBRARY]);\n    this.inputElement = this.element;\n    this.angularTag = null;\n    this.formElement = closest(this.element, 'form');\n    this.isBlazorServer = isBlazor() && this.isServerRendered && this.getModuleName() === 'timepicker' ? true : false;\n\n    if (!this.isBlazorServer) {\n      if (this.element.tagName === 'EJS-TIMEPICKER') {\n        this.angularTag = this.element.tagName;\n        this.inputElement = this.createElement('input');\n        this.element.appendChild(this.inputElement);\n      }\n\n      this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n      this.element.removeAttribute('tabindex');\n      this.openPopupEventArgs = {\n        appendTo: document.body\n      };\n    }\n  }; // element creation\n\n\n  TimePicker.prototype.render = function () {\n    if (!this.isBlazorServer) {\n      this.initialize();\n      this.createInputElement();\n      this.updateHtmlAttributeToWrapper();\n      this.setTimeAllowEdit();\n      this.setEnable();\n      this.validateInterval();\n    } else {\n      this.globalize = new Internationalization(this.locale);\n      this.defaultCulture = new Internationalization('en');\n      this.checkTimeFormat();\n      var parentElement = this.element.parentElement;\n      this.inputWrapper = {\n        container: parentElement,\n        clearButton: parentElement.querySelector('.' + CLEARICON),\n        buttons: [parentElement.querySelector('.' + TIMEICON)]\n      };\n      Input.bindInitialEvent({\n        element: this.inputElement,\n        floatLabelType: this.floatLabelType\n      });\n\n      if (this.showClearButton && this.inputWrapper.clearButton) {\n        Input.wireClearBtnEvents(this.inputElement, this.inputWrapper.clearButton, this.inputWrapper.container);\n      }\n    }\n\n    this.bindEvents();\n\n    if (!this.isBlazorServer) {\n      this.validateDisable();\n      this.setValue(this.getFormattedValue(this.value));\n    }\n\n    this.anchor = this.inputElement;\n    this.inputElement.setAttribute('value', this.inputElement.value);\n\n    if (!this.isBlazorServer) {\n      this.inputEleValue = this.getDateObject(this.inputElement.value);\n    }\n\n    this.renderComplete();\n  };\n\n  TimePicker.prototype.setTimeAllowEdit = function () {\n    if (this.allowEdit) {\n      if (!this.readonly) {\n        this.inputElement.removeAttribute('readonly');\n      }\n    } else {\n      attributes(this.inputElement, {\n        'readonly': ''\n      });\n    }\n\n    this.clearIconState();\n  };\n\n  TimePicker.prototype.clearIconState = function () {\n    if (!this.allowEdit && this.inputWrapper && !this.readonly) {\n      if (this.inputElement.value === '') {\n        removeClass([this.inputWrapper.container], [EDITABLE]);\n      } else {\n        addClass([this.inputWrapper.container], [EDITABLE]);\n      }\n    } else if (this.inputWrapper) {\n      removeClass([this.inputWrapper.container], [EDITABLE]);\n    }\n  };\n\n  TimePicker.prototype.validateDisable = function () {\n    this.setMinMax(this.initMin, this.initMax);\n    this.popupCreation();\n    this.popupObj.destroy();\n    this.popupWrapper = this.popupObj = null;\n\n    if (!isNaN(+this.value) && this.value !== null) {\n      if (!this.valueIsDisable(this.value)) {\n        //disable value given in value property so reset the date based on current date\n        if (this.strictMode) {\n          this.resetState();\n        }\n\n        this.initValue = null;\n        this.initMax = this.getDateObject(this.initMax);\n        this.initMin = this.getDateObject(this.initMin);\n        this.timeCollections = this.liCollections = [];\n        this.setMinMax(this.initMin, this.initMax);\n      }\n    }\n  };\n\n  TimePicker.prototype.validationAttribute = function (target, input) {\n    var name = target.getAttribute('name') ? target.getAttribute('name') : target.getAttribute('id');\n    input.setAttribute('name', name);\n    target.removeAttribute('name');\n    var attributes = ['required', 'aria-required', 'form'];\n\n    for (var i = 0; i < attributes.length; i++) {\n      if (isNullOrUndefined(target.getAttribute(attributes[i]))) {\n        continue;\n      }\n\n      var attr = target.getAttribute(attributes[i]);\n      input.setAttribute(attributes[i], attr);\n      target.removeAttribute(attributes[i]);\n    }\n  };\n\n  TimePicker.prototype.initialize = function () {\n    this.globalize = new Internationalization(this.locale);\n    this.defaultCulture = new Internationalization('en');\n    this.checkTimeFormat();\n    this.checkInvalidValue(this.value); // persist the value property.\n\n    this.setProperties({\n      value: this.checkDateValue(new Date(this.checkInValue(this.value)))\n    }, true);\n    this.setProperties({\n      min: this.checkDateValue(new Date(this.checkInValue(this.min)))\n    }, true);\n    this.setProperties({\n      max: this.checkDateValue(new Date(this.checkInValue(this.max)))\n    }, true);\n    this.setProperties({\n      scrollTo: this.checkDateValue(new Date(this.checkInValue(this.scrollTo)))\n    }, true);\n\n    if (this.angularTag !== null) {\n      this.validationAttribute(this.element, this.inputElement);\n    }\n\n    this.updateHtmlAttributeToElement();\n    this.checkAttributes(false); //check the input element attributes\n\n    var localeText = {\n      placeholder: this.placeholder\n    };\n    this.l10n = new L10n('timepicker', localeText, this.locale);\n    this.setProperties({\n      placeholder: this.placeholder || this.l10n.getConstant('placeholder')\n    }, true);\n    this.initValue = this.checkDateValue(this.value);\n    this.initMin = this.checkDateValue(this.min);\n    this.initMax = this.checkDateValue(this.max);\n    this.isNavigate = this.isPreventBlur = this.isTextSelected = false;\n    this.activeIndex = this.valueWithMinutes = this.prevDate = null;\n\n    if (!isNullOrUndefined(this.element.getAttribute('id'))) {\n      if (this.angularTag !== null) {\n        this.inputElement.id = this.element.getAttribute('id') + '_input';\n      }\n    } else {\n      //for angular case\n      this.element.id = getUniqueID('ej2_timepicker');\n\n      if (this.angularTag !== null) {\n        attributes(this.inputElement, {\n          'id': this.element.id + '_input'\n        });\n      }\n    }\n\n    if (isNullOrUndefined(this.inputElement.getAttribute('name'))) {\n      attributes(this.inputElement, {\n        'name': this.element.id\n      });\n    }\n  };\n\n  TimePicker.prototype.checkTimeFormat = function () {\n    if (this.format) {\n      if (typeof this.format === 'string') {\n        this.formatString = this.format;\n      } else if (!isNullOrUndefined(this.format.skeleton) && this.format.skeleton !== '') {\n        var skeletonString = this.format.skeleton;\n        this.formatString = this.globalize.getDatePattern({\n          type: 'time',\n          skeleton: skeletonString\n        });\n      } else {\n        this.formatString = this.globalize.getDatePattern({\n          type: 'time',\n          skeleton: 'short'\n        });\n      }\n    } else {\n      this.formatString = null;\n    }\n  };\n\n  TimePicker.prototype.checkDateValue = function (value) {\n    return !isNullOrUndefined(value) && value instanceof Date && !isNaN(+value) ? value : null;\n  };\n\n  TimePicker.prototype.createInputElement = function () {\n    var updatedCssClassesValue = this.cssClass;\n\n    if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n      updatedCssClassesValue = this.cssClass.replace(/\\s+/g, ' ').trim();\n    }\n\n    this.inputWrapper = Input.createInput({\n      element: this.inputElement,\n      floatLabelType: this.floatLabelType,\n      properties: {\n        readonly: this.readonly,\n        placeholder: this.placeholder,\n        cssClass: updatedCssClassesValue,\n        enabled: this.enabled,\n        enableRtl: this.enableRtl,\n        showClearButton: this.showClearButton\n      },\n      buttons: [' e-input-group-icon e-time-icon e-icons']\n    }, this.createElement);\n    this.inputWrapper.container.style.width = this.setWidth(this.width);\n    attributes(this.inputElement, {\n      'aria-haspopup': 'true',\n      'aria-autocomplete': 'list',\n      'tabindex': '0',\n      'aria-activedescendant': 'null',\n      'aria-owns': this.element.id + '_options',\n      'aria-expanded': 'false',\n      'role': 'combobox',\n      'autocomplete': 'off',\n      'autocorrect': 'off',\n      'autocapitalize': 'off',\n      'spellcheck': 'false',\n      'aria-disabled': 'false',\n      'aria-invalid': 'false'\n    });\n\n    if (!this.isNullOrEmpty(this.inputStyle)) {\n      Input.addAttributes({\n        'style': this.inputStyle\n      }, this.inputElement);\n    }\n\n    addClass([this.inputWrapper.container], WRAPPERCLASS);\n  };\n\n  TimePicker.prototype.getCldrDateTimeFormat = function () {\n    var culture = new Internationalization(this.locale);\n    var cldrTime;\n    var dateFormat = culture.getDatePattern({\n      skeleton: isBlazor() ? 'd' : 'yMd'\n    });\n\n    if (this.isNullOrEmpty(this.formatString)) {\n      cldrTime = dateFormat + ' ' + this.CldrFormat('time');\n    } else {\n      cldrTime = this.formatString;\n    }\n\n    return cldrTime;\n  };\n\n  TimePicker.prototype.checkInvalidValue = function (value) {\n    var isInvalid = false;\n\n    if (typeof value !== 'object' && !isNullOrUndefined(value)) {\n      var valueString = value;\n\n      if (typeof valueString === 'string') {\n        valueString = valueString.trim();\n      }\n\n      var valueExpression = null;\n      var valueExp = null;\n\n      if (typeof value === 'number') {\n        valueString = value.toString();\n      } else if (typeof value === 'string') {\n        if (!/^[a-zA-Z0-9- ]*$/.test(value)) {\n          valueExpression = this.setCurrentDate(this.getDateObject(value));\n\n          if (isNullOrUndefined(valueExpression)) {\n            valueExpression = this.checkDateValue(this.globalize.parseDate(valueString, {\n              format: this.getCldrDateTimeFormat(),\n              type: 'datetime'\n            }));\n\n            if (isNullOrUndefined(valueExpression)) {\n              valueExpression = this.checkDateValue(this.globalize.parseDate(valueString, {\n                format: this.formatString,\n                type: 'dateTime',\n                skeleton: isBlazor() ? 'd' : 'yMd'\n              }));\n            }\n          }\n        }\n      }\n\n      valueExp = this.globalize.parseDate(valueString, {\n        format: this.getCldrDateTimeFormat(),\n        type: 'datetime'\n      });\n      valueExpression = !isNullOrUndefined(valueExp) && valueExp instanceof Date && !isNaN(+valueExp) ? valueExp : null;\n\n      if (isNullOrUndefined(valueExpression) && valueString.replace(/\\s/g, '').length) {\n        var extISOString = null;\n        var basicISOString = null; // tslint:disable-next-line\n\n        extISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/; // tslint:disable-next-line\n\n        basicISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n\n        if (!extISOString.test(valueString) && !basicISOString.test(valueString) || /^[a-zA-Z0-9- ]*$/.test(value) || isNaN(+new Date('' + valueString))) {\n          isInvalid = true;\n        } else {\n          valueExpression = new Date('' + valueString);\n        }\n      }\n\n      if (isInvalid) {\n        if (!this.strictMode) {\n          this.invalidValueString = valueString;\n        }\n\n        this.setProperties({\n          value: null\n        }, true);\n        this.initValue = null;\n      } else {\n        this.setProperties({\n          value: valueExpression\n        }, true);\n        this.initValue = this.value;\n      }\n    }\n  };\n\n  TimePicker.prototype.CldrFormat = function (type) {\n    var cldrDateTimeString;\n\n    if (this.locale === 'en' || this.locale === 'en-US') {\n      cldrDateTimeString = isBlazor() ? this.getBlazorCultureFormat('t') : getValue('timeFormats.short', getDefaultDateObject());\n    } else {\n      cldrDateTimeString = this.getCultureTimeObject(cldrData, '' + this.locale);\n    }\n\n    return cldrDateTimeString;\n  }; // destroy function\n\n\n  TimePicker.prototype.destroy = function () {\n    if (this.isBlazorServer) {\n      this.unBindEvents();\n    } else {\n      this.hide();\n      this.unBindEvents();\n      var ariaAttribute = {\n        'aria-haspopup': 'true',\n        'aria-autocomplete': 'list',\n        'tabindex': '0',\n        'aria-activedescendant': 'null',\n        'aria-owns': this.element.id + '_options',\n        'aria-expanded': 'false',\n        'role': 'combobox',\n        'autocomplete': 'off',\n        'autocorrect': 'off',\n        'autocapitalize': 'off',\n        'spellcheck': 'false',\n        'aria-disabled': 'true',\n        'aria-invalid': 'false'\n      };\n\n      if (this.inputElement) {\n        Input.removeAttributes(ariaAttribute, this.inputElement);\n\n        if (this.angularTag === null) {\n          this.inputWrapper.container.parentElement.appendChild(this.inputElement);\n        }\n\n        !isNullOrUndefined(this.cloneElement.getAttribute('tabindex')) ? this.inputElement.setAttribute('tabindex', this.tabIndex) : this.inputElement.removeAttribute('tabindex');\n        this.ensureInputAttribute();\n        this.enableElement([this.inputElement]);\n        this.inputElement.classList.remove('e-input');\n\n        if (isNullOrUndefined(this.cloneElement.getAttribute('disabled'))) {\n          Input.setEnabled(true, this.inputElement, this.floatLabelType);\n        }\n      }\n\n      if (this.inputWrapper.container) {\n        detach(this.inputWrapper.container);\n      }\n\n      this.inputWrapper = this.popupWrapper = this.cloneElement = undefined;\n      this.liCollections = this.timeCollections = this.disableItemCollection = [];\n\n      if (!isNullOrUndefined(this.rippleFn)) {\n        this.rippleFn();\n      }\n\n      _super.prototype.destroy.call(this);\n\n      if (this.formElement) {\n        EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n      }\n    }\n  };\n\n  TimePicker.prototype.ensureInputAttribute = function () {\n    var propertyList = [];\n\n    for (var i = 0; i < this.inputElement.attributes.length; i++) {\n      propertyList[i] = this.inputElement.attributes[i].name;\n    }\n\n    for (var i = 0; i < propertyList.length; i++) {\n      if (!isNullOrUndefined(this.cloneElement.getAttribute(propertyList[i]))) {\n        this.inputElement.setAttribute(propertyList[i], this.cloneElement.getAttribute(propertyList[i]));\n\n        if (propertyList[i].toLowerCase() === 'value') {\n          this.inputElement.value = this.cloneElement.getAttribute(propertyList[i]);\n        }\n      } else {\n        this.inputElement.removeAttribute(propertyList[i]);\n\n        if (propertyList[i].toLowerCase() === 'value') {\n          this.inputElement.value = '';\n        }\n      }\n    }\n  }; //popup creation\n\n\n  TimePicker.prototype.popupCreation = function () {\n    if (!this.isBlazorServer) {\n      this.popupWrapper = this.createElement('div', {\n        className: ROOT + ' ' + POPUP,\n        attrs: {\n          'id': this.element.id + '_popup',\n          'style': 'visibility:hidden'\n        }\n      });\n\n      if (!isNullOrUndefined(this.cssClass)) {\n        this.popupWrapper.className += ' ' + this.cssClass;\n      }\n\n      if (!isNullOrUndefined(this.step) && this.step > 0) {\n        this.generateList();\n        append([this.listWrapper], this.popupWrapper);\n      }\n\n      this.openPopupEventArgs.appendTo.appendChild(this.popupWrapper);\n    } else {\n      this.popupWrapper = this.inputWrapper.container.nextElementSibling;\n      this.generateList();\n    }\n\n    this.addSelection();\n    this.renderPopup();\n    detach(this.popupWrapper);\n  };\n\n  TimePicker.prototype.getPopupHeight = function () {\n    var height = parseInt(POPUPDIMENSION, 10);\n    var popupHeight = this.popupWrapper.getBoundingClientRect().height;\n    return popupHeight > height ? height : popupHeight;\n  };\n\n  TimePicker.prototype.generateList = function () {\n    if (!this.isBlazorServer) {\n      this.createListItems();\n    } else {\n      this.listWrapper = this.popupWrapper.querySelector('.e-content');\n    }\n\n    this.wireListEvents();\n    var rippleModel = {\n      duration: 300,\n      selector: '.' + LISTCLASS\n    };\n    this.rippleFn = rippleEffect(this.listWrapper, rippleModel);\n    this.liCollections = this.listWrapper.querySelectorAll('.' + LISTCLASS);\n\n    if (this.isBlazorServer) {\n      this.blazorTimeCollections = [];\n\n      for (var index = 0; index < this.liCollections.length; index++) {\n        this.blazorTimeCollections.push(this.liCollections[index].getAttribute('data-value'));\n      }\n    }\n  };\n\n  TimePicker.prototype.renderPopup = function () {\n    var _this = this;\n\n    this.containerStyle = this.inputWrapper.container.getBoundingClientRect();\n    this.popupObj = new Popup(this.popupWrapper, {\n      width: this.setPopupWidth(this.width),\n      zIndex: this.zIndex,\n      targetType: 'relative',\n      position: Browser.isDevice ? {\n        X: 'center',\n        Y: 'center'\n      } : {\n        X: 'left',\n        Y: 'bottom'\n      },\n      collision: Browser.isDevice ? {\n        X: 'fit',\n        Y: 'fit'\n      } : {\n        X: 'flip',\n        Y: 'flip'\n      },\n      enableRtl: this.enableRtl,\n      relateTo: Browser.isDevice ? document.body : this.inputWrapper.container,\n      offsetY: OFFSETVAL,\n      open: function open() {\n        _this.popupWrapper.style.visibility = 'visible';\n        addClass([_this.inputWrapper.buttons[0]], SELECTED);\n      },\n      close: function close() {\n        removeClass([_this.inputWrapper.buttons[0]], SELECTED);\n\n        _this.unWireListEvents();\n\n        _this.inputElement.setAttribute('aria-activedescendant', 'null');\n\n        if (!_this.isBlazorServer) {\n          remove(_this.popupObj.element);\n\n          _this.popupObj.destroy();\n\n          _this.popupWrapper.innerHTML = '';\n        }\n\n        _this.listWrapper = _this.popupWrapper = _this.listTag = undefined;\n      },\n      targetExitViewport: function targetExitViewport() {\n        if (!Browser.isDevice) {\n          _this.hide();\n        }\n      }\n    });\n\n    if (!Browser.isDevice) {\n      this.popupObj.collision = {\n        X: 'none',\n        Y: 'flip'\n      };\n    }\n\n    this.popupObj.element.style.maxHeight = POPUPDIMENSION;\n  }; //util function\n\n\n  TimePicker.prototype.getFormattedValue = function (value) {\n    if (isNullOrUndefined(this.checkDateValue(value))) {\n      return null;\n    } else {\n      return this.globalize.formatDate(value, {\n        skeleton: isBlazor() ? 't' : 'medium',\n        type: 'time'\n      });\n    }\n  };\n\n  TimePicker.prototype.getDateObject = function (text) {\n    if (!this.isNullOrEmpty(text)) {\n      var dateValue = this.createDateObj(text);\n      var value = !this.isNullOrEmpty(this.initValue);\n\n      if (this.checkDateValue(dateValue)) {\n        var date = value ? this.initValue.getDate() : DAY;\n        var month = value ? this.initValue.getMonth() : MONTH;\n        var year = value ? this.initValue.getFullYear() : YEAR;\n        return new Date(year, month, date, dateValue.getHours(), dateValue.getMinutes(), dateValue.getSeconds());\n      }\n    }\n\n    return null;\n  };\n\n  TimePicker.prototype.updateHtmlAttributeToWrapper = function () {\n    if (!isNullOrUndefined(this.htmlAttributes)) {\n      for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n        var key = _a[_i];\n\n        if (wrapperAttributes.indexOf(key) > -1) {\n          if (key === 'class') {\n            var updatedClassesValue = this.htmlAttributes[key].replace(/\\s+/g, ' ').trim();\n\n            if (updatedClassesValue !== '') {\n              addClass([this.inputWrapper.container], updatedClassesValue.split(' '));\n            }\n          } else if (key === 'style') {\n            var timeStyle = this.inputWrapper.container.getAttribute(key);\n            timeStyle = !isNullOrUndefined(timeStyle) ? timeStyle + this.htmlAttributes[key] : this.htmlAttributes[key];\n            this.inputWrapper.container.setAttribute(key, timeStyle);\n          } else {\n            this.inputWrapper.container.setAttribute(key, this.htmlAttributes[key]);\n          }\n        }\n      }\n    }\n  };\n\n  TimePicker.prototype.updateHtmlAttributeToElement = function () {\n    if (!isNullOrUndefined(this.htmlAttributes)) {\n      for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n        var key = _a[_i];\n\n        if (wrapperAttributes.indexOf(key) < 0) {\n          this.inputElement.setAttribute(key, this.htmlAttributes[key]);\n        }\n      }\n    }\n  };\n\n  TimePicker.prototype.updateCssClass = function (cssClassNew, cssClassOld) {\n    if (!isNullOrUndefined(cssClassOld)) {\n      cssClassOld = cssClassOld.replace(/\\s+/g, ' ').trim();\n    }\n\n    if (!isNullOrUndefined(cssClassNew)) {\n      cssClassNew = cssClassNew.replace(/\\s+/g, ' ').trim();\n    }\n\n    Input.setCssClass(cssClassNew, [this.inputWrapper.container], cssClassOld);\n\n    if (this.popupWrapper) {\n      Input.setCssClass(cssClassNew, [this.popupWrapper], cssClassOld);\n    }\n  };\n\n  TimePicker.prototype.removeErrorClass = function () {\n    removeClass([this.inputWrapper.container], ERROR);\n    attributes(this.inputElement, {\n      'aria-invalid': 'false'\n    });\n  };\n\n  TimePicker.prototype.checkErrorState = function (val) {\n    var value = this.getDateObject(val);\n\n    if (this.validateState(value) && !this.invalidValueString) {\n      this.removeErrorClass();\n    } else {\n      addClass([this.inputWrapper.container], ERROR);\n      attributes(this.inputElement, {\n        'aria-invalid': 'true'\n      });\n    }\n  };\n\n  TimePicker.prototype.validateInterval = function () {\n    if (!isNullOrUndefined(this.step) && this.step > 0) {\n      this.enableElement([this.inputWrapper.buttons[0]]);\n    } else {\n      this.disableTimeIcon();\n    }\n  };\n\n  TimePicker.prototype.disableTimeIcon = function () {\n    this.disableElement([this.inputWrapper.buttons[0]]);\n    this.hide();\n  };\n\n  TimePicker.prototype.disableElement = function (element) {\n    addClass(element, DISABLED);\n  };\n\n  TimePicker.prototype.enableElement = function (element) {\n    removeClass(element, DISABLED);\n  };\n\n  TimePicker.prototype.selectInputText = function () {\n    this.inputElement.setSelectionRange(0, this.inputElement.value.length);\n  };\n\n  TimePicker.prototype.setCursorToEnd = function () {\n    this.inputElement.setSelectionRange(this.inputElement.value.length, this.inputElement.value.length);\n  };\n\n  TimePicker.prototype.getMeridianText = function () {\n    var meridian;\n\n    if (this.locale === 'en' || this.locale === 'en-US') {\n      meridian = getValue(isBlazor() ? 'dayPeriods.wide' : 'dayPeriods.format.wide', getDefaultDateObject());\n    } else {\n      var gregorianFormat = isBlazor() ? '.dates.dayPeriods.abbreviated' : '.dates.calendars.gregorian.dayPeriods.format.abbreviated';\n      var mainVal = isBlazor() ? '' : 'main.';\n      meridian = getValue(mainVal + '' + this.locale + gregorianFormat, cldrData);\n    }\n\n    return meridian;\n  };\n\n  TimePicker.prototype.getCursorSelection = function () {\n    var input = this.inputElement;\n    var start = 0;\n    var end = 0;\n\n    if (!isNaN(input.selectionStart)) {\n      start = input.selectionStart;\n      end = input.selectionEnd;\n    }\n\n    return {\n      start: Math.abs(start),\n      end: Math.abs(end)\n    };\n  };\n\n  TimePicker.prototype.getActiveElement = function () {\n    if (!isNullOrUndefined(this.popupWrapper)) {\n      return this.popupWrapper.querySelectorAll('.' + SELECTED);\n    } else {\n      return null;\n    }\n  };\n\n  TimePicker.prototype.isNullOrEmpty = function (value) {\n    if (isNullOrUndefined(value) || typeof value === 'string' && value.trim() === '') {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  TimePicker.prototype.setWidth = function (width) {\n    if (typeof width === 'number') {\n      width = formatUnit(width);\n    } else if (typeof width === 'string') {\n      width = width.match(/px|%|em/) ? width : formatUnit(width);\n    } else {\n      width = '100%';\n    }\n\n    return width;\n  };\n\n  TimePicker.prototype.setPopupWidth = function (width) {\n    width = this.setWidth(width);\n\n    if (width.indexOf('%') > -1) {\n      var inputWidth = this.containerStyle.width * parseFloat(width) / 100;\n      width = inputWidth.toString() + 'px';\n    }\n\n    return width;\n  };\n\n  TimePicker.prototype.setScrollPosition = function () {\n    var listHeight = this.getPopupHeight();\n    var element;\n    element = this.selectedElement;\n\n    if (!isNullOrUndefined(element)) {\n      this.findScrollTop(element);\n    } else if (this.popupWrapper && this.checkDateValue(this.scrollTo)) {\n      this.setScrollTo();\n    }\n  };\n\n  TimePicker.prototype.findScrollTop = function (element) {\n    var listHeight = this.getPopupHeight();\n    var nextEle = element.nextElementSibling;\n    var height = nextEle ? nextEle.offsetTop : element.offsetTop;\n    var liHeight = element.getBoundingClientRect().height;\n\n    if (height + element.offsetTop > listHeight) {\n      this.popupWrapper.scrollTop = nextEle ? height - (listHeight / HALFPOSITION + liHeight / HALFPOSITION) : height;\n    } else {\n      this.popupWrapper.scrollTop = 0;\n    }\n  };\n\n  TimePicker.prototype.setScrollTo = function () {\n    var element;\n\n    if (!isNullOrUndefined(this.popupWrapper)) {\n      var items = this.popupWrapper.querySelectorAll('.' + LISTCLASS);\n\n      if (items.length) {\n        var initialTime = this.isBlazorServer ? new Date(new Date().toDateString() + ' ' + this.blazorTimeCollections[0]).setMilliseconds(0) : this.timeCollections[0];\n        var scrollTime = this.isBlazorServer ? new Date(new Date().toDateString() + ' ' + this.scrollTo.toLocaleTimeString()).setMilliseconds(0) : this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();\n        element = items[Math.round((scrollTime - initialTime) / (this.step * 60000))];\n      }\n    } else {\n      this.popupWrapper.scrollTop = 0;\n    }\n\n    if (!isNullOrUndefined(element)) {\n      this.findScrollTop(element);\n    } else {\n      this.popupWrapper.scrollTop = 0;\n    }\n  };\n\n  TimePicker.prototype.getText = function () {\n    return isNullOrUndefined(this.checkDateValue(this.value)) ? '' : this.getValue(this.value);\n  };\n\n  TimePicker.prototype.getValue = function (value) {\n    return isNullOrUndefined(this.checkDateValue(value)) ? null : this.globalize.formatDate(value, {\n      format: this.cldrTimeFormat(),\n      type: 'time'\n    });\n  };\n\n  TimePicker.prototype.cldrDateFormat = function () {\n    var cldrDate;\n\n    if (this.locale === 'en' || this.locale === 'en-US') {\n      cldrDate = isBlazor() ? getValue('d', getValue(this.locale, blazorCultureFormats)) : getValue('dateFormats.short', getDefaultDateObject());\n    } else {\n      cldrDate = this.getCultureDateObject(cldrData, '' + this.locale);\n    }\n\n    return cldrDate;\n  };\n\n  TimePicker.prototype.getBlazorCultureFormat = function (formatVal) {\n    return getValue(formatVal, getValue(this.locale, blazorCultureFormats)).replace(/tt/, 'a');\n  };\n\n  TimePicker.prototype.cldrTimeFormat = function () {\n    var cldrTime;\n\n    if (this.isNullOrEmpty(this.formatString)) {\n      if (this.locale === 'en' || this.locale === 'en-US') {\n        cldrTime = isBlazor() ? this.getBlazorCultureFormat('t') : getValue('timeFormats.short', getDefaultDateObject());\n      } else {\n        cldrTime = this.getCultureTimeObject(cldrData, '' + this.locale);\n      }\n    } else {\n      cldrTime = this.formatString;\n    }\n\n    return cldrTime;\n  };\n\n  TimePicker.prototype.dateToNumeric = function () {\n    var cldrTime;\n\n    if (this.locale === 'en' || this.locale === 'en-US') {\n      cldrTime = isBlazor() ? this.getBlazorCultureFormat('T') : getValue('timeFormats.medium', getDefaultDateObject());\n    } else {\n      cldrTime = isBlazor() ? this.getBlazorCultureFormat('T') : getValue('main.' + '' + this.locale + '.dates.calendars.gregorian.timeFormats.medium', cldrData);\n    }\n\n    return cldrTime;\n  };\n\n  TimePicker.prototype.getExactDateTime = function (value) {\n    if (isNullOrUndefined(this.checkDateValue(value))) {\n      return null;\n    } else {\n      return this.globalize.formatDate(value, {\n        format: this.dateToNumeric(),\n        type: 'time'\n      });\n    }\n  };\n\n  TimePicker.prototype.setValue = function (value) {\n    var time = this.checkValue(value);\n\n    if (!this.strictMode && !this.validateState(time)) {\n      if (this.checkDateValue(this.valueWithMinutes) === null) {\n        this.initValue = this.valueWithMinutes = null;\n      }\n\n      this.validateMinMax(this.value, this.min, this.max);\n    } else {\n      if (this.isNullOrEmpty(time)) {\n        this.initValue = null;\n        this.validateMinMax(this.value, this.min, this.max);\n      } else {\n        this.initValue = this.compareFormatChange(time);\n      }\n    }\n\n    this.updateInput(true, this.initValue);\n  };\n\n  TimePicker.prototype.compareFormatChange = function (value) {\n    if (isNullOrUndefined(value)) {\n      return null;\n    }\n\n    return value !== this.getText() ? this.getDateObject(value) : this.getDateObject(this.value);\n  };\n\n  TimePicker.prototype.updatePlaceHolder = function () {\n    Input.setPlaceholder(this.l10n.getConstant('placeholder'), this.inputElement);\n  }; //event related functions\n\n\n  TimePicker.prototype.updateInputValue = function (value) {\n    Input.setValue(value, this.inputElement, this.floatLabelType, this.showClearButton);\n  };\n\n  TimePicker.prototype.preventEventBubbling = function (e) {\n    e.preventDefault(); // tslint:disable\n\n    this.interopAdaptor.invokeMethodAsync('OnTimeIconClick'); // tslint:enable\n  };\n\n  TimePicker.prototype.updateBlazorTimeCollections = function (listData) {\n    this.blazorTimeCollections = listData;\n  };\n\n  TimePicker.prototype.popupHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    if (Browser.isDevice) {\n      this.inputElement.setAttribute('readonly', '');\n    }\n\n    if (!this.isBlazorServer) {\n      e.preventDefault();\n    }\n\n    if (this.isPopupOpen() && !this.isBlazorServer) {\n      this.closePopup(0, e);\n    } else {\n      this.inputElement.focus();\n      this.show(e);\n    }\n  };\n\n  TimePicker.prototype.mouseDownHandler = function () {\n    if (!this.enabled) {\n      return;\n    }\n\n    if (!this.readonly) {\n      var curPos = this.getCursorSelection();\n      this.inputElement.setSelectionRange(0, 0);\n      EventHandler.add(this.inputElement, 'mouseup', this.mouseUpHandler, this);\n    }\n  };\n\n  TimePicker.prototype.mouseUpHandler = function (event) {\n    if (!this.readonly) {\n      event.preventDefault();\n      EventHandler.remove(this.inputElement, 'mouseup', this.mouseUpHandler);\n      var curPos = this.getCursorSelection();\n\n      if (!(curPos.start === 0 && curPos.end === this.inputElement.value.length)) {\n        if (this.inputElement.value.length > 0) {\n          this.cursorDetails = this.focusSelection();\n        }\n\n        this.inputElement.setSelectionRange(this.cursorDetails.start, this.cursorDetails.end);\n      }\n    }\n  };\n\n  TimePicker.prototype.focusSelection = function () {\n    var regex = new RegExp('^[a-zA-Z0-9]+$');\n    var split = this.inputElement.value.split('');\n    split.push(' ');\n    var curPos = this.getCursorSelection();\n    var start = 0;\n    var end = 0;\n    var isSeparator = false;\n\n    if (!this.isTextSelected) {\n      for (var i = 0; i < split.length; i++) {\n        if (!regex.test(split[i])) {\n          end = i;\n          isSeparator = true;\n        }\n\n        if (isSeparator) {\n          if (curPos.start >= start && curPos.end <= end) {\n            end = end;\n            this.isTextSelected = true;\n            break;\n          } else {\n            start = i + 1;\n            isSeparator = false;\n          }\n        }\n      }\n    } else {\n      start = curPos.start;\n      end = curPos.end;\n      this.isTextSelected = false;\n    }\n\n    return {\n      start: start,\n      end: end\n    };\n  };\n\n  TimePicker.prototype.inputHandler = function (event) {\n    if (!this.readonly && this.enabled) {\n      if (event.action !== 'right' && event.action !== 'left' && event.action !== 'tab') {\n        event.preventDefault();\n      }\n\n      switch (event.action) {\n        case 'home':\n        case 'end':\n        case 'up':\n        case 'down':\n          this.keyHandler(event);\n          break;\n\n        case 'enter':\n          if (this.isNavigate) {\n            this.selectedElement = this.liCollections[this.activeIndex];\n\n            if (!this.isBlazorServer) {\n              this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n              this.updateValue(this.valueWithMinutes, event);\n            } else {\n              this.inputElement.setAttribute('value', this.selectedElement.getAttribute('data-value')); // tslint:disable-next-line\n\n              this.interopAdaptor.invokeMethodAsync('OnListItemClick', this.activeIndex, true);\n            }\n          } else {\n            if (!this.isBlazorServer) {\n              this.updateValue(this.inputElement.value, event);\n            } else {\n              // tslint:disable-next-line\n              this.interopAdaptor.invokeMethodAsync('OnStrictMode', this.inputElement.value);\n            }\n          }\n\n          this.hide();\n          this.isNavigate = false;\n\n          if (this.isPopupOpen()) {\n            event.stopPropagation();\n          }\n\n          break;\n\n        case 'open':\n          if (this.isBlazorServer) {\n            // tslint:disable\n            this.interopAdaptor.invokeMethodAsync('OnPopupHide', true); // tslint:enable\n          } else {\n            this.show(event);\n          }\n\n          break;\n\n        case 'escape':\n          if (!this.isBlazorServer) {\n            this.updateInputValue(this.objToString(this.value));\n            this.previousState(this.value);\n          }\n\n          this.hide();\n          break;\n\n        case 'close':\n          this.hide();\n          break;\n\n        default:\n          this.isNavigate = false;\n          break;\n      }\n    }\n  };\n\n  TimePicker.prototype.onMouseClick = function (event) {\n    var target = event.target;\n    var li = this.selectedElement = closest(target, '.' + LISTCLASS);\n    this.setSelection(li, event);\n\n    if (li && li.classList.contains(LISTCLASS)) {\n      this.hide();\n    }\n  };\n\n  TimePicker.prototype.closePopup = function (delay, e) {\n    var _this = this;\n\n    if (this.isPopupOpen() && this.popupWrapper) {\n      var args = {\n        popup: this.isBlazorServer ? null : this.popupObj,\n        event: e || null,\n        cancel: false,\n        name: 'open'\n      };\n      removeClass([document.body], OVERFLOW);\n      this.trigger('close', args, function (args) {\n        if (!args.cancel) {\n          var animModel = {\n            name: 'FadeOut',\n            duration: ANIMATIONDURATION,\n            delay: delay ? delay : 0\n          };\n\n          _this.popupObj.hide(new Animation(animModel));\n\n          removeClass([_this.inputWrapper.container], [ICONANIMATION]);\n          attributes(_this.inputElement, {\n            'aria-expanded': 'false'\n          });\n          EventHandler.remove(document, 'mousedown touchstart', _this.documentClickHandler);\n\n          if (_this.isBlazorServer) {\n            _this.disposeServerPopup(); // tslint:disable\n\n\n            _this.inputWrapper.container.parentElement.insertBefore(_this.popupWrapper, _this.inputWrapper.container.nextElementSibling);\n\n            _this.interopAdaptor.invokeMethodAsync('OnPopupHide', false); // tslint:enable\n\n\n            _this.popupWrapper = _this.popupObj = null;\n          }\n        }\n\n        if (Browser.isDevice && _this.modal) {\n          _this.modal.style.display = 'none';\n          _this.modal.outerHTML = '';\n          _this.modal = null;\n        }\n\n        if (Browser.isDevice) {\n          if (!isNullOrUndefined(_this.mobileTimePopupWrap)) {\n            _this.mobileTimePopupWrap.remove();\n\n            _this.mobileTimePopupWrap = null;\n          }\n        }\n\n        if (Browser.isDevice && _this.allowEdit && !_this.readonly) {\n          _this.inputElement.removeAttribute('readonly');\n        }\n      });\n    } else {\n      if (Browser.isDevice && this.allowEdit && !this.readonly) {\n        this.inputElement.removeAttribute('readonly');\n      }\n    }\n  };\n\n  TimePicker.prototype.disposeServerPopup = function () {\n    if (this.popupWrapper) {\n      this.popupWrapper.style.visibility = 'hidden';\n      this.popupWrapper.style.top = '-9999px';\n      this.popupWrapper.style.left = '-9999px';\n      this.popupWrapper.style.width = '0px';\n      this.popupWrapper.style.height = '0px';\n    }\n  };\n\n  TimePicker.prototype.checkValueChange = function (event, isNavigation) {\n    if (!this.strictMode && !this.validateState(this.valueWithMinutes)) {\n      if (this.checkDateValue(this.valueWithMinutes) === null) {\n        this.initValue = this.valueWithMinutes = null;\n      }\n\n      this.setProperties({\n        value: this.compareFormatChange(this.inputElement.value)\n      }, true);\n      this.initValue = this.valueWithMinutes = this.compareFormatChange(this.inputElement.value);\n      this.prevValue = this.inputElement.value;\n\n      if (+this.prevDate !== +this.value) {\n        this.changeEvent(event);\n      }\n    } else {\n      if (!isNavigation) {\n        if (this.prevValue !== this.inputElement.value || isNullOrUndefined(this.checkDateValue(this.value))) {\n          this.valueProcess(event, this.compareFormatChange(this.inputElement.value));\n        }\n      } else {\n        var value = this.getDateObject(new Date(this.timeCollections[this.activeIndex]));\n\n        if (+this.prevDate !== +value) {\n          this.valueProcess(event, value);\n        }\n      }\n    }\n  };\n\n  TimePicker.prototype.onMouseOver = function (event) {\n    var currentLi = closest(event.target, '.' + LISTCLASS);\n    this.setHover(currentLi, HOVER);\n  };\n\n  TimePicker.prototype.setHover = function (li, className) {\n    if (this.enabled && this.isValidLI(li) && !li.classList.contains(className)) {\n      this.removeHover(className);\n      addClass([li], className);\n\n      if (className === NAVIGATION) {\n        li.setAttribute('aria-selected', 'true');\n      }\n    }\n  };\n\n  TimePicker.prototype.setSelection = function (li, event) {\n    if (this.isValidLI(li) && !li.classList.contains(SELECTED)) {\n      if (!this.isBlazorServer) {\n        this.checkValue(li.getAttribute('data-value'));\n        this.selectedElement = li;\n        this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(li);\n        this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n        addClass([this.selectedElement], SELECTED);\n        this.selectedElement.setAttribute('aria-selected', 'true');\n        this.checkValueChange(event, true);\n      } else {\n        this.selectedElement = li;\n        this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(li);\n        addClass([this.selectedElement], SELECTED);\n        this.selectedElement.setAttribute('aria-selected', 'true');\n        this.inputElement.setAttribute('value', li.getAttribute('data-value')); // tslint:disable-next-line\n\n        this.interopAdaptor.invokeMethodAsync('OnListItemClick', this.activeIndex, false);\n        this.addSelection();\n      }\n    }\n  };\n\n  TimePicker.prototype.onMouseLeave = function () {\n    this.removeHover(HOVER);\n  };\n\n  TimePicker.prototype.scrollHandler = function () {\n    if (this.getModuleName() === 'timepicker' && Browser.isDevice) {\n      return;\n    } else {\n      this.hide();\n    }\n  };\n\n  TimePicker.prototype.setMinMax = function (minVal, maxVal) {\n    if (isNullOrUndefined(this.checkDateValue(minVal))) {\n      this.initMin = this.getDateObject('12:00:00 AM');\n    }\n\n    if (isNullOrUndefined(this.checkDateValue(maxVal))) {\n      this.initMax = this.getDateObject('11:59:59 PM');\n    }\n  }; //protected function\n\n\n  TimePicker.prototype.validateMinMax = function (dateVal, minVal, maxVal) {\n    var value = dateVal instanceof Date ? dateVal : this.getDateObject(dateVal);\n\n    if (!isNullOrUndefined(this.checkDateValue(value))) {\n      dateVal = this.strictOperation(this.initMin, this.initMax, dateVal, value);\n    } else if (+this.createDateObj(this.getFormattedValue(this.initMin)) > +this.createDateObj(this.getFormattedValue(this.initMax))) {\n      this.disableTimeIcon();\n    }\n\n    if (this.strictMode) {\n      dateVal = this.valueIsDisable(dateVal) ? dateVal : null;\n    }\n\n    this.checkErrorState(dateVal);\n    return dateVal;\n  };\n\n  TimePicker.prototype.valueIsDisable = function (value) {\n    if (this.disableItemCollection.length > 0) {\n      if (this.disableItemCollection.length === this.timeCollections.length) {\n        return false;\n      }\n\n      var time = value instanceof Date ? this.objToString(value) : value;\n\n      for (var index = 0; index < this.disableItemCollection.length; index++) {\n        if (time === this.disableItemCollection[index]) {\n          return false;\n        }\n      }\n    }\n\n    return true;\n  };\n\n  TimePicker.prototype.validateState = function (val) {\n    if (!this.strictMode) {\n      if (this.valueIsDisable(val)) {\n        var value = typeof val === 'string' ? this.setCurrentDate(this.getDateObject(val)) : this.setCurrentDate(this.getDateObject(val));\n        var maxValue = this.setCurrentDate(this.getDateObject(this.initMax));\n        var minValue = this.setCurrentDate(this.getDateObject(this.initMin));\n\n        if (!isNullOrUndefined(this.checkDateValue(value))) {\n          if (+value > +maxValue || +value < +minValue) {\n            return false;\n          }\n        } else {\n          if (+maxValue < +minValue || this.inputElement.value !== '') {\n            return false;\n          }\n        }\n      } else {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  TimePicker.prototype.strictOperation = function (minimum, maximum, dateVal, val) {\n    var maxValue = this.createDateObj(this.getFormattedValue(maximum));\n    var minValue = this.createDateObj(this.getFormattedValue(minimum));\n    var value = this.createDateObj(this.getFormattedValue(val));\n\n    if (this.strictMode) {\n      if (+minValue > +maxValue) {\n        this.disableTimeIcon();\n        this.initValue = this.getDateObject(maxValue);\n        this.updateInputValue(this.getValue(this.initValue));\n        return this.inputElement.value;\n      } else if (+minValue >= +value) {\n        return this.getDateObject(minValue);\n      } else if (+value >= +maxValue || +minValue === +maxValue) {\n        return this.getDateObject(maxValue);\n      }\n    } else {\n      if (+minValue > +maxValue) {\n        this.disableTimeIcon();\n\n        if (!isNaN(+this.createDateObj(dateVal))) {\n          return dateVal;\n        }\n      }\n    }\n\n    return dateVal;\n  };\n\n  TimePicker.prototype.bindEvents = function () {\n    EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.isBlazorServer ? this.preventEventBubbling : this.popupHandler, this);\n    EventHandler.add(this.inputElement, 'blur', this.inputBlurHandler, this);\n    EventHandler.add(this.inputElement, 'focus', this.inputFocusHandler, this);\n    EventHandler.add(this.inputElement, 'change', this.inputChangeHandler, this);\n\n    if (this.showClearButton && this.inputWrapper.clearButton) {\n      EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.clearHandler, this);\n    }\n\n    if (this.formElement) {\n      EventHandler.add(this.formElement, 'reset', this.formResetHandler, this);\n    }\n\n    if (!Browser.isDevice) {\n      this.keyConfigure = extend(this.keyConfigure, this.keyConfigs);\n      this.inputEvent = new KeyboardEvents(this.inputWrapper.container, {\n        keyAction: this.inputHandler.bind(this),\n        keyConfigs: this.keyConfigure,\n        eventName: 'keydown'\n      });\n\n      if (this.showClearButton && this.inputElement) {\n        EventHandler.add(this.inputElement, 'mousedown', this.mouseDownHandler, this);\n      }\n    }\n  };\n\n  TimePicker.prototype.formResetHandler = function () {\n    if (!this.enabled) {\n      return;\n    }\n\n    if (!this.inputElement.disabled) {\n      var timeValue = this.inputElement.getAttribute('value');\n      var val = this.isBlazorServer ? this.inputEleValue : this.checkDateValue(this.inputEleValue);\n\n      if (this.element.tagName === 'EJS-TIMEPICKER') {\n        val = null;\n        timeValue = '';\n        this.inputElement.setAttribute('value', '');\n      }\n\n      if (!this.isBlazorServer) {\n        this.setProperties({\n          value: val\n        }, true);\n        this.prevDate = this.value;\n        this.valueWithMinutes = this.value;\n        this.initValue = this.value;\n      }\n\n      if (this.inputElement) {\n        this.updateInputValue(timeValue);\n\n        if (!this.isBlazorServer) {\n          this.checkErrorState(timeValue);\n        }\n\n        this.prevValue = this.inputElement.value;\n      }\n    }\n  };\n\n  TimePicker.prototype.inputChangeHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    e.stopPropagation();\n  };\n\n  TimePicker.prototype.unBindEvents = function () {\n    if (this.inputWrapper) {\n      EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown touchstart', this.isBlazorServer ? this.preventEventBubbling : this.popupHandler);\n    }\n\n    EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n    EventHandler.remove(this.inputElement, 'focus', this.inputFocusHandler);\n    EventHandler.remove(this.inputElement, 'change', this.inputChangeHandler);\n\n    if (this.inputEvent) {\n      this.inputEvent.destroy();\n    }\n\n    EventHandler.remove(this.inputElement, 'mousedown touchstart', this.mouseDownHandler);\n\n    if (this.showClearButton && !isNullOrUndefined(this.inputWrapper.clearButton)) {\n      EventHandler.remove(this.inputWrapper.clearButton, 'mousedown touchstart', this.clearHandler);\n    }\n\n    if (this.formElement) {\n      EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n    }\n  };\n\n  TimePicker.prototype.bindClearEvent = function () {\n    if (this.showClearButton && this.inputWrapper.clearButton) {\n      EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.clearHandler, this);\n    }\n  };\n\n  TimePicker.prototype.raiseClearedEvent = function (e) {\n    var clearedArgs = {\n      event: e\n    };\n    this.trigger('cleared', clearedArgs);\n  };\n\n  TimePicker.prototype.clearHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    e.preventDefault();\n\n    if (!isNullOrUndefined(this.value)) {\n      this.clear(e);\n    } else {\n      this.resetState();\n      this.raiseClearedEvent(e);\n    }\n\n    if (this.isBlazorServer) {\n      // tslint:disable\n      this.interopAdaptor.invokeMethodAsync('OnValueCleared'); // tslint:enable\n    }\n\n    if (this.popupWrapper) {\n      this.popupWrapper.scrollTop = 0;\n    }\n  };\n\n  TimePicker.prototype.clear = function (event) {\n    if (!this.isBlazorServer) {\n      this.setProperties({\n        value: null\n      }, true);\n    }\n\n    this.initValue = null;\n    this.resetState();\n    this.raiseClearedEvent(event);\n\n    if (!this.isBlazorServer) {\n      this.changeEvent(event);\n    }\n  };\n\n  TimePicker.prototype.setZIndex = function () {\n    if (this.popupObj) {\n      this.popupObj.zIndex = this.zIndex;\n      this.popupObj.dataBind();\n    }\n  };\n\n  TimePicker.prototype.checkAttributes = function (isDynamic) {\n    var attributes = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) : ['step', 'disabled', 'readonly', 'style', 'name', 'value', 'min', 'max', 'placeholder'];\n    var value;\n\n    for (var _i = 0, attributes_1 = attributes; _i < attributes_1.length; _i++) {\n      var prop = attributes_1[_i];\n\n      if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) {\n        switch (prop) {\n          case 'disabled':\n            // tslint:disable-next-line\n            if (isNullOrUndefined(this.timeOptions) || this.timeOptions['enabled'] === undefined || isDynamic) {\n              var enabled = this.inputElement.getAttribute(prop) === 'disabled' || this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? false : true;\n              this.setProperties({\n                enabled: enabled\n              }, !isDynamic);\n            }\n\n            break;\n\n          case 'style':\n            this.inputStyle = this.inputElement.getAttribute(prop);\n            break;\n\n          case 'readonly':\n            // tslint:disable-next-line\n            if (isNullOrUndefined(this.timeOptions) || this.timeOptions['readonly'] === undefined || isDynamic) {\n              var readonly = this.inputElement.getAttribute(prop) === 'readonly' || this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? true : false;\n              this.setProperties({\n                readonly: readonly\n              }, !isDynamic);\n            }\n\n            break;\n\n          case 'name':\n            this.inputElement.setAttribute('name', this.inputElement.getAttribute(prop));\n            break;\n\n          case 'step':\n            this.step = parseInt(this.inputElement.getAttribute(prop), 10);\n            break;\n\n          case 'placeholder':\n            // tslint:disable-next-line\n            if (isNullOrUndefined(this.timeOptions) || this.timeOptions['placeholder'] === undefined || isDynamic) {\n              this.setProperties({\n                placeholder: this.inputElement.getAttribute(prop)\n              }, !isDynamic);\n            }\n\n            break;\n\n          case 'min':\n            if (!this.isBlazorServer) {\n              // tslint:disable-next-line\n              if (isNullOrUndefined(this.timeOptions) || this.timeOptions['min'] === undefined || isDynamic) {\n                value = new Date(this.inputElement.getAttribute(prop));\n\n                if (!isNullOrUndefined(this.checkDateValue(value))) {\n                  this.setProperties({\n                    min: value\n                  }, !isDynamic);\n                }\n              }\n            }\n\n            break;\n\n          case 'max':\n            if (!this.isBlazorServer) {\n              // tslint:disable-next-line\n              if (isNullOrUndefined(this.timeOptions) || this.timeOptions['max'] === undefined || isDynamic) {\n                value = new Date(this.inputElement.getAttribute(prop));\n\n                if (!isNullOrUndefined(this.checkDateValue(value))) {\n                  this.setProperties({\n                    max: value\n                  }, !isDynamic);\n                }\n              }\n            }\n\n            break;\n\n          case 'value':\n            if (!this.isBlazorServer) {\n              // tslint:disable-next-line\n              if (isNullOrUndefined(this.timeOptions) || this.timeOptions['value'] === undefined || isDynamic) {\n                value = new Date(this.inputElement.getAttribute(prop));\n\n                if (!isNullOrUndefined(this.checkDateValue(value))) {\n                  this.initValue = value;\n                  this.updateInput(false, this.initValue);\n                  this.setProperties({\n                    value: value\n                  }, !isDynamic);\n                }\n              }\n            }\n\n            break;\n        }\n      }\n    }\n  };\n\n  TimePicker.prototype.setCurrentDate = function (value) {\n    if (isNullOrUndefined(this.checkDateValue(value))) {\n      return null;\n    }\n\n    return new Date(YEAR, MONTH, DAY, value.getHours(), value.getMinutes(), value.getSeconds());\n  };\n\n  TimePicker.prototype.getTextFormat = function () {\n    var time = 0;\n\n    if (this.cldrTimeFormat().split(' ')[0] === 'a' || this.cldrTimeFormat().indexOf('a') === 0) {\n      time = 1;\n    } else if (this.cldrTimeFormat().indexOf('a') < 0) {\n      var strArray = this.cldrTimeFormat().split(' ');\n\n      for (var i = 0; i < strArray.length; i++) {\n        if (strArray[i].toLowerCase().indexOf('h') >= 0) {\n          time = i;\n          break;\n        }\n      }\n    }\n\n    return time;\n  };\n\n  TimePicker.prototype.updateValue = function (value, event) {\n    var val;\n\n    if (this.isNullOrEmpty(value)) {\n      this.resetState();\n    } else {\n      val = this.checkValue(value);\n\n      if (this.strictMode) {\n        // this case set previous value to the text box when set invalid date\n        var inputVal = val === null && value.trim().length > 0 ? this.previousState(this.prevDate) : this.inputElement.value;\n        this.updateInputValue(inputVal);\n      }\n    }\n\n    this.checkValueChange(event, typeof value === 'string' ? false : true);\n  };\n\n  TimePicker.prototype.previousState = function (date) {\n    var value = this.getDateObject(date);\n\n    for (var i = 0; i < this.timeCollections.length; i++) {\n      if (+value === this.timeCollections[i]) {\n        this.activeIndex = i;\n        this.selectedElement = this.liCollections[i];\n        this.valueWithMinutes = new Date(this.timeCollections[i]);\n        break;\n      }\n    }\n\n    return this.prevValue;\n  };\n\n  TimePicker.prototype.resetState = function () {\n    this.removeSelection();\n    Input.setValue('', this.inputElement, this.floatLabelType, false);\n    this.valueWithMinutes = this.activeIndex = null;\n\n    if (!this.strictMode && !this.isBlazorServer) {\n      this.checkErrorState(null);\n    }\n  };\n\n  TimePicker.prototype.objToString = function (val) {\n    if (isNullOrUndefined(this.checkDateValue(val))) {\n      return null;\n    } else {\n      return this.globalize.formatDate(val, {\n        format: this.cldrTimeFormat(),\n        type: 'time'\n      });\n    }\n  };\n\n  TimePicker.prototype.checkValue = function (value) {\n    if (!this.isNullOrEmpty(value)) {\n      var date = value instanceof Date ? value : this.getDateObject(value);\n      return this.validateValue(date, value);\n    }\n\n    this.resetState();\n    return this.valueWithMinutes = null;\n  };\n\n  TimePicker.prototype.validateValue = function (date, value) {\n    var time;\n    var val = this.validateMinMax(value, this.min, this.max);\n    var newval = this.createDateObj(val);\n\n    if (this.getFormattedValue(newval) !== this.getFormattedValue(this.value)) {\n      this.valueWithMinutes = isNullOrUndefined(newval) ? null : newval;\n      time = this.objToString(this.valueWithMinutes);\n    } else {\n      if (this.strictMode) {\n        //for strict mode case, when value not present within a range. Reset the nearest range value.\n        date = newval;\n      }\n\n      this.valueWithMinutes = this.checkDateValue(date);\n      time = this.objToString(this.valueWithMinutes);\n    }\n\n    if (!this.strictMode && isNullOrUndefined(time)) {\n      var value_1 = val.trim().length > 0 ? val : '';\n      this.updateInputValue(value_1);\n    } else {\n      this.updateInputValue(time);\n    }\n\n    return time;\n  };\n\n  TimePicker.prototype.findNextElement = function (event) {\n    var textVal = this.inputElement.value;\n    var value = isNullOrUndefined(this.valueWithMinutes) || this.isBlazorServer ? this.createDateObj(textVal) : this.getDateObject(this.valueWithMinutes);\n    var timeVal = null;\n    var count = this.liCollections.length;\n    var collections = this.isBlazorServer ? isNullOrUndefined(this.blazorTimeCollections) ? [] : this.blazorTimeCollections : this.timeCollections;\n\n    if (!isNullOrUndefined(this.checkDateValue(value)) || !isNullOrUndefined(this.activeIndex)) {\n      if (event.action === 'home') {\n        var index = this.validLiElement(0);\n\n        if (!this.isBlazorServer) {\n          timeVal = +this.createDateObj(new Date(this.timeCollections[index]));\n        }\n\n        this.activeIndex = index;\n      } else if (event.action === 'end') {\n        var index = this.validLiElement(collections.length - 1, true);\n\n        if (!this.isBlazorServer) {\n          timeVal = +this.createDateObj(new Date(this.timeCollections[index]));\n        }\n\n        this.activeIndex = index;\n      } else {\n        if (event.action === 'down') {\n          for (var i = 0; i < count; i++) {\n            if (this.isBlazorServer ? +value < +this.createDateObj(this.blazorTimeCollections[i]) : +value < this.timeCollections[i]) {\n              var index = this.validLiElement(i);\n\n              if (!this.isBlazorServer) {\n                timeVal = +this.createDateObj(new Date(this.timeCollections[index]));\n              }\n\n              this.activeIndex = index;\n              break;\n            } else if (i === count - 1) {\n              var index = this.validLiElement(0);\n\n              if (!this.isBlazorServer) {\n                timeVal = +this.createDateObj(new Date(this.timeCollections[index]));\n              }\n\n              this.activeIndex = index;\n              break;\n            }\n          }\n        } else {\n          for (var i = count - 1; i >= 0; i--) {\n            if (this.isBlazorServer ? +value > +this.createDateObj(this.blazorTimeCollections[i]) : +value > this.timeCollections[i]) {\n              var index = this.validLiElement(i, true);\n\n              if (!this.isBlazorServer) {\n                timeVal = +this.createDateObj(new Date(this.timeCollections[index]));\n              }\n\n              this.activeIndex = index;\n              break;\n            } else if (i === 0) {\n              var index = this.validLiElement(count - 1);\n\n              if (!this.isBlazorServer) {\n                timeVal = +this.createDateObj(new Date(this.timeCollections[index]));\n              }\n\n              this.activeIndex = index;\n              break;\n            }\n          }\n        }\n      }\n\n      this.selectedElement = this.liCollections[this.activeIndex];\n\n      if (this.isBlazorServer) {\n        this.inputElement.setAttribute('value', this.selectedElement.getAttribute('data-value')); // tslint:disable-next-line\n\n        this.interopAdaptor.invokeMethodAsync('OnListItemClick', this.activeIndex, true);\n      } else {\n        this.elementValue(isNullOrUndefined(timeVal) ? null : new Date(timeVal));\n      }\n    } else {\n      this.selectNextItem(event);\n    }\n  };\n\n  TimePicker.prototype.selectNextItem = function (event) {\n    var index = this.validLiElement(0, event.action === 'down' ? false : true);\n    this.activeIndex = index;\n    this.selectedElement = this.liCollections[index];\n\n    if (this.isBlazorServer) {\n      this.inputElement.setAttribute('value', this.selectedElement.getAttribute('data-value')); // tslint:disable-next-line\n\n      this.interopAdaptor.invokeMethodAsync('OnListItemClick', index, true);\n    } else {\n      this.elementValue(new Date(this.timeCollections[index]));\n    }\n  };\n\n  TimePicker.prototype.findNextInBlazor = function (event) {\n    var count = isNullOrUndefined(this.blazorTimeCollections) ? 0 : this.blazorTimeCollections.length;\n    var index = 0;\n    var value = this.createDateObj(this.inputElement.value);\n\n    switch (event.action) {\n      case 'home':\n        this.activeIndex = index;\n        break;\n\n      case 'end':\n        index = count - 1;\n        this.activeIndex = index;\n        break;\n\n      case 'down':\n        for (var i = 0; i < count; i++) {\n          if (this.isBlazorServer ? +value < +this.createDateObj(this.blazorTimeCollections[i]) : +value < this.timeCollections[i]) {\n            var index_1 = this.validLiElement(i);\n            this.activeIndex = index_1;\n            break;\n          } else if (i === count - 1) {\n            var index_2 = this.validLiElement(0);\n            this.activeIndex = index_2;\n            break;\n          }\n        }\n\n        break;\n\n      case 'up':\n        for (var i = count - 1; i >= 0; i--) {\n          if (this.isBlazorServer ? +value > +this.createDateObj(this.blazorTimeCollections[i]) : +value > this.timeCollections[i]) {\n            var index_3 = this.validLiElement(i, true);\n            this.activeIndex = index_3;\n            break;\n          } else if (i === 0) {\n            var index_4 = this.validLiElement(count - 1);\n            this.activeIndex = index_4;\n            break;\n          }\n        }\n\n        break;\n    } // tslint:disable-next-line\n\n\n    this.interopAdaptor.invokeMethodAsync('OnListItemClick', this.activeIndex, true);\n  };\n\n  TimePicker.prototype.elementValue = function (value) {\n    if (!isNullOrUndefined(this.checkDateValue(value))) {\n      this.checkValue(value);\n    }\n  };\n\n  TimePicker.prototype.validLiElement = function (index, backward) {\n    var elementIndex = null;\n\n    if (this.isBlazorServer && isNullOrUndefined(this.popupWrapper)) {\n      var items = this.blazorTimeCollections;\n\n      if (items.length) {\n        if (backward) {\n          for (var i = index; i >= 0; i--) {\n            elementIndex = i;\n            break;\n          }\n        } else {\n          for (var i = index; i <= items.length - 1; i++) {\n            elementIndex = i;\n            break;\n          }\n        }\n      }\n    } else {\n      var items = isNullOrUndefined(this.popupWrapper) ? this.liCollections : this.popupWrapper.querySelectorAll('.' + LISTCLASS);\n      var isCheck = true;\n\n      if (items.length) {\n        if (backward) {\n          for (var i = index; i >= 0; i--) {\n            if (!items[i].classList.contains(DISABLED)) {\n              elementIndex = i;\n              break;\n            } else if (i === 0) {\n              if (isCheck) {\n                index = i = items.length;\n                isCheck = false;\n              }\n            }\n          }\n        } else {\n          for (var i = index; i <= items.length - 1; i++) {\n            if (!items[i].classList.contains(DISABLED)) {\n              elementIndex = i;\n              break;\n            } else if (i === items.length - 1) {\n              if (isCheck) {\n                index = i = -1;\n                isCheck = false;\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return elementIndex;\n  };\n\n  TimePicker.prototype.keyHandler = function (event) {\n    if (isNullOrUndefined(this.step) || this.step <= 0 || this.inputWrapper.buttons[0].classList.contains(DISABLED)) {\n      return;\n    }\n\n    var count = this.isBlazorServer ? isNullOrUndefined(this.blazorTimeCollections) ? 0 : this.blazorTimeCollections.length : this.timeCollections.length;\n\n    if (isNullOrUndefined(this.getActiveElement()) || this.getActiveElement().length === 0) {\n      if (isNullOrUndefined(this.popupObj) && this.isBlazorServer) {\n        if (isNullOrUndefined(this.activeIndex)) {\n          var index = this.validLiElement(0, event.action === 'down' ? false : true);\n          this.activeIndex = index; // tslint:disable-next-line\n\n          this.interopAdaptor.invokeMethodAsync('OnListItemClick', index, true);\n        } else {\n          this.findNextInBlazor(event);\n        }\n      } else {\n        if (this.liCollections.length > 0) {\n          if (this.isBlazorServer ? isNullOrUndefined(this.activeIndex) : isNullOrUndefined(this.value) && isNullOrUndefined(this.activeIndex)) {\n            this.selectNextItem(event);\n          } else {\n            this.findNextElement(event);\n          }\n        } else {\n          this.findNextElement(event);\n        }\n      }\n    } else {\n      var nextItem = void 0;\n\n      if (event.keyCode >= 37 && event.keyCode <= 40) {\n        var index = event.keyCode === 40 || event.keyCode === 39 ? ++this.activeIndex : --this.activeIndex;\n        this.activeIndex = index = this.activeIndex === count ? 0 : this.activeIndex;\n        this.activeIndex = index = this.activeIndex < 0 ? count - 1 : this.activeIndex;\n        this.activeIndex = index = this.validLiElement(this.activeIndex, event.keyCode === 40 || event.keyCode === 39 ? false : true);\n\n        if (!this.isBlazorServer) {\n          nextItem = isNullOrUndefined(this.timeCollections[index]) ? this.timeCollections[0] : this.timeCollections[index];\n        }\n      } else if (event.action === 'home') {\n        var index = this.validLiElement(0);\n        this.activeIndex = index;\n\n        if (!this.isBlazorServer) {\n          nextItem = this.timeCollections[index];\n        }\n      } else if (event.action === 'end') {\n        var index = this.validLiElement(count - 1, true);\n        this.activeIndex = index;\n\n        if (!this.isBlazorServer) {\n          nextItem = this.timeCollections[index];\n        }\n      }\n\n      this.selectedElement = this.liCollections[this.activeIndex];\n\n      if (this.isBlazorServer) {\n        this.inputElement.setAttribute('value', this.selectedElement.getAttribute('data-value')); // tslint:disable-next-line\n\n        this.interopAdaptor.invokeMethodAsync('OnListItemClick', this.activeIndex, true);\n      } else {\n        this.elementValue(new Date(nextItem));\n      }\n    }\n\n    this.isNavigate = true;\n    this.setHover(this.selectedElement, NAVIGATION);\n    this.setActiveDescendant();\n\n    if (!this.isBlazorServer) {\n      this.selectInputText();\n    }\n\n    if (this.isPopupOpen() && this.selectedElement !== null && (!event || event.type !== 'click')) {\n      this.setScrollPosition();\n    }\n  };\n\n  TimePicker.prototype.getCultureTimeObject = function (ld, c) {\n    return isBlazor() ? getValue('t', getValue(c, blazorCultureFormats)).replace(/tt/, 'a') : getValue('main.' + c + '.dates.calendars.gregorian.timeFormats.short', ld);\n  };\n\n  TimePicker.prototype.getCultureDateObject = function (ld, c) {\n    return isBlazor() ? getValue('d', getValue(c, blazorCultureFormats)) : getValue('main.' + c + '.dates.calendars.gregorian.dateFormats.short', ld);\n  };\n\n  TimePicker.prototype.wireListEvents = function () {\n    EventHandler.add(this.listWrapper, 'click', this.onMouseClick, this);\n\n    if (!Browser.isDevice) {\n      EventHandler.add(this.listWrapper, 'mouseover', this.onMouseOver, this);\n      EventHandler.add(this.listWrapper, 'mouseout', this.onMouseLeave, this);\n    }\n  };\n\n  TimePicker.prototype.unWireListEvents = function () {\n    if (this.listWrapper) {\n      EventHandler.remove(this.listWrapper, 'click', this.onMouseClick);\n\n      if (!Browser.isDevice) {\n        EventHandler.remove(this.listWrapper, 'mouseover', this.onMouseOver);\n        EventHandler.remove(this.listWrapper, 'mouseout', this.onMouseLeave);\n      }\n    }\n  };\n\n  TimePicker.prototype.valueProcess = function (event, value) {\n    var result = isNullOrUndefined(this.checkDateValue(value)) ? null : value;\n\n    if (+this.prevDate !== +result) {\n      this.initValue = result;\n      this.changeEvent(event);\n    }\n  };\n\n  TimePicker.prototype.changeEvent = function (e) {\n    this.addSelection();\n    this.updateInput(true, this.initValue);\n    var eventArgs = {\n      event: e || null,\n      value: this.value,\n      text: this.inputElement.value,\n      isInteracted: !isNullOrUndefined(e),\n      element: this.element\n    };\n    eventArgs.value = this.valueWithMinutes || this.getDateObject(this.inputElement.value);\n    this.prevDate = this.valueWithMinutes || this.getDateObject(this.inputElement.value);\n\n    if (this.isAngular && this.preventChange) {\n      this.preventChange = false;\n    } else {\n      this.trigger('change', eventArgs);\n    }\n\n    this.invalidValueString = null;\n    this.checkErrorState(this.value);\n  };\n\n  TimePicker.prototype.updateInput = function (isUpdate, date) {\n    if (isUpdate) {\n      this.prevValue = this.getValue(date);\n    }\n\n    this.prevDate = this.valueWithMinutes = date;\n\n    if (typeof date !== 'number' || (this.value && +new Date(+this.value).setMilliseconds(0)) !== +date) {\n      this.setProperties({\n        value: date\n      }, true);\n    }\n\n    if (!this.strictMode && isNullOrUndefined(this.value) && this.invalidValueString) {\n      this.checkErrorState(this.invalidValueString);\n      this.updateInputValue(this.invalidValueString);\n    }\n\n    this.clearIconState();\n  };\n\n  TimePicker.prototype.setActiveDescendant = function () {\n    if (!isNullOrUndefined(this.selectedElement)) {\n      attributes(this.inputElement, {\n        'aria-activedescendant': this.selectedElement.getAttribute('id')\n      });\n    } else {\n      attributes(this.inputElement, {\n        'aria-activedescendant': 'null'\n      });\n    }\n  };\n\n  TimePicker.prototype.removeSelection = function () {\n    this.removeHover(HOVER);\n\n    if (!isNullOrUndefined(this.popupWrapper)) {\n      var items = this.popupWrapper.querySelectorAll('.' + SELECTED);\n\n      if (items.length) {\n        removeClass(items, SELECTED);\n        items[0].removeAttribute('aria-selected');\n      }\n    }\n  };\n\n  TimePicker.prototype.removeHover = function (className) {\n    var hoveredItem = this.getHoverItem(className);\n\n    if (hoveredItem && hoveredItem.length) {\n      removeClass(hoveredItem, className);\n\n      if (className === NAVIGATION) {\n        hoveredItem[0].removeAttribute('aria-selected');\n      }\n    }\n  };\n\n  TimePicker.prototype.getHoverItem = function (className) {\n    var hoveredItem;\n\n    if (!isNullOrUndefined(this.popupWrapper)) {\n      hoveredItem = this.popupWrapper.querySelectorAll('.' + className);\n    }\n\n    return hoveredItem;\n  };\n\n  TimePicker.prototype.setActiveClass = function () {\n    if (!isNullOrUndefined(this.popupWrapper)) {\n      var items = this.popupWrapper.querySelectorAll('.' + LISTCLASS);\n\n      if (items.length) {\n        for (var i = 0; i < items.length; i++) {\n          if (!this.isBlazorServer && this.timeCollections[i] === +this.getDateObject(this.valueWithMinutes) || this.isBlazorServer && this.blazorTimeCollections[i] === this.blazorTimeCollections[this.activeIndex]) {\n            items[i].setAttribute('aria-selected', 'true');\n            this.selectedElement = items[i];\n            this.activeIndex = i;\n            break;\n          }\n        }\n      }\n    }\n  };\n\n  TimePicker.prototype.addSelection = function () {\n    this.selectedElement = null;\n    this.removeSelection();\n    this.setActiveClass();\n\n    if (!isNullOrUndefined(this.selectedElement)) {\n      addClass([this.selectedElement], SELECTED);\n      this.selectedElement.setAttribute('aria-selected', 'true');\n    }\n  };\n\n  TimePicker.prototype.isValidLI = function (li) {\n    return li && li.classList.contains(LISTCLASS) && !li.classList.contains(DISABLED);\n  };\n\n  TimePicker.prototype.createDateObj = function (val) {\n    var formatStr = isBlazor() ? // tslint:disable-next-line\n    'M' + getDefaultDateObject().dateSeperator + 'd' + getDefaultDateObject().dateSeperator + 'yy' : null;\n    var today = this.globalize.formatDate(new Date(), {\n      format: formatStr,\n      skeleton: 'short',\n      type: 'date'\n    });\n    var value = null;\n\n    if (typeof val === 'string') {\n      if (val.toUpperCase().indexOf('AM') > -1 || val.toUpperCase().indexOf('PM') > -1) {\n        today = this.defaultCulture.formatDate(new Date(), {\n          format: formatStr,\n          skeleton: 'short',\n          type: 'date'\n        });\n        value = isNaN(+new Date(today + ' ' + val)) ? null : new Date(new Date(today + ' ' + val).setMilliseconds(0));\n\n        if (isNullOrUndefined(value)) {\n          value = this.TimeParse(today, val);\n        }\n      } else {\n        value = this.TimeParse(today, val);\n      }\n    } else if (val instanceof Date) {\n      value = val;\n    }\n\n    return value;\n  };\n\n  TimePicker.prototype.TimeParse = function (today, val) {\n    var value;\n    value = this.globalize.parseDate(today + ' ' + val, {\n      format: this.cldrDateFormat() + ' ' + this.cldrTimeFormat(),\n      type: 'datetime'\n    });\n    value = isNullOrUndefined(value) ? this.globalize.parseDate(today + ' ' + val, {\n      format: this.cldrDateFormat() + ' ' + this.dateToNumeric(),\n      type: 'datetime'\n    }) : value;\n    value = isNullOrUndefined(value) ? value : new Date(value.setMilliseconds(0));\n    return value;\n  };\n\n  TimePicker.prototype.createListItems = function () {\n    var _this = this;\n\n    this.listWrapper = this.createElement('div', {\n      className: CONTENT,\n      attrs: {\n        'tabindex': '0'\n      }\n    });\n    var start;\n    var end;\n    var interval = this.step * 60000;\n    var listItems = [];\n    this.timeCollections = [];\n    this.disableItemCollection = [];\n    start = +this.getDateObject(this.initMin).setMilliseconds(0);\n    end = +this.getDateObject(this.initMax).setMilliseconds(0);\n\n    while (end >= start) {\n      this.timeCollections.push(start);\n      listItems.push(this.globalize.formatDate(new Date(start), {\n        format: this.cldrTimeFormat(),\n        type: 'time'\n      }));\n      start += interval;\n    }\n\n    var listBaseOptions = {\n      itemCreated: function itemCreated(args) {\n        var eventArgs = {\n          element: args.item,\n          text: args.text,\n          value: _this.getDateObject(args.text),\n          isDisabled: false\n        };\n\n        _this.trigger('itemRender', eventArgs, function (eventArgs) {\n          if (eventArgs.isDisabled) {\n            eventArgs.element.classList.add(DISABLED);\n          }\n\n          if (eventArgs.element.classList.contains(DISABLED)) {\n            _this.disableItemCollection.push(eventArgs.element.getAttribute('data-value'));\n          }\n        });\n      }\n    };\n    this.listTag = ListBase.createList(this.createElement, listItems, listBaseOptions, true);\n    attributes(this.listTag, {\n      'role': 'listbox',\n      'aria-hidden': 'false',\n      'id': this.element.id + '_options'\n    });\n    append([this.listTag], this.listWrapper);\n  };\n\n  TimePicker.prototype.documentClickHandler = function (event) {\n    var target = event.target;\n\n    if (!isNullOrUndefined(this.popupObj) && (this.inputWrapper.container.contains(target) || this.popupObj.element && this.popupObj.element.contains(target)) && event.type !== 'touchstart') {\n      event.preventDefault();\n    }\n\n    if (!closest(target, '[id=\"' + this.popupObj.element.id + '\"]') && target !== this.inputElement && target !== (this.inputWrapper && this.inputWrapper.buttons[0]) && target !== (this.inputWrapper && this.inputWrapper.clearButton) && target !== (this.inputWrapper && this.inputWrapper.container)) {\n      if (this.isPopupOpen()) {\n        this.hide();\n        this.focusOut();\n      }\n    } else if (target !== this.inputElement) {\n      if (!Browser.isDevice) {\n        this.isPreventBlur = (Browser.isIE || Browser.info.name === 'edge') && document.activeElement === this.inputElement && target === this.popupWrapper;\n      }\n    }\n  };\n\n  TimePicker.prototype.setEnableRtl = function () {\n    Input.setEnableRtl(this.enableRtl, [this.inputWrapper.container]);\n\n    if (this.popupObj) {\n      this.popupObj.enableRtl = this.enableRtl;\n      this.popupObj.dataBind();\n    }\n  };\n\n  TimePicker.prototype.setEnable = function () {\n    Input.setEnabled(this.enabled, this.inputElement, this.floatLabelType);\n\n    if (this.enabled) {\n      removeClass([this.inputWrapper.container], DISABLED);\n      attributes(this.inputElement, {\n        'aria-disabled': 'false'\n      });\n      this.inputElement.setAttribute('tabindex', this.tabIndex);\n    } else {\n      this.hide();\n      addClass([this.inputWrapper.container], DISABLED);\n      attributes(this.inputElement, {\n        'aria-disabled': 'true'\n      });\n      this.inputElement.tabIndex = -1;\n    }\n  };\n\n  TimePicker.prototype.getProperty = function (date, val) {\n    if (val === 'min') {\n      this.initMin = this.checkDateValue(new Date(this.checkInValue(date.min)));\n      this.setProperties({\n        min: this.initMin\n      }, true);\n    } else {\n      this.initMax = this.checkDateValue(new Date(this.checkInValue(date.max)));\n      this.setProperties({\n        max: this.initMax\n      }, true);\n    }\n\n    if (this.inputElement.value === '') {\n      this.validateMinMax(this.value, this.min, this.max);\n    } else {\n      this.checkValue(this.inputElement.value);\n    }\n\n    this.checkValueChange(null, false);\n  };\n\n  TimePicker.prototype.inputBlurHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    } // IE popup closing issue when click over the scrollbar\n\n\n    if (this.isPreventBlur && this.isPopupOpen()) {\n      this.inputElement.focus();\n      return;\n    }\n\n    this.closePopup(0, e);\n    removeClass([this.inputWrapper.container], [FOCUS]);\n    var blurArguments = {\n      model: this.isBlazorServer ? null : this\n    };\n    this.trigger('blur', blurArguments);\n\n    if (!this.isBlazorServer && this.getText() !== this.inputElement.value) {\n      this.updateValue(this.inputElement.value, e);\n    } else if (this.inputElement.value.trim().length === 0) {\n      this.resetState();\n    }\n\n    if (this.isBlazorServer) {\n      // tslint:disable-next-line\n      this.interopAdaptor.invokeMethodAsync('OnStrictMode', this.inputElement.value);\n    }\n\n    this.cursorDetails = null;\n    this.isNavigate = false;\n\n    if (this.inputElement.value === '') {\n      this.invalidValueString = null;\n    }\n  };\n  /**\n   * Focuses out the TimePicker textbox element.\n   * @returns void\n   */\n\n\n  TimePicker.prototype.focusOut = function () {\n    if (document.activeElement === this.inputElement) {\n      this.inputElement.blur();\n      removeClass([this.inputWrapper.container], [FOCUS]);\n      var blurArguments = {\n        model: this.isBlazorServer ? null : this\n      };\n      this.trigger('blur', blurArguments);\n    }\n  };\n\n  TimePicker.prototype.isPopupOpen = function () {\n    if (this.popupWrapper && this.popupWrapper.classList.contains('' + ROOT)) {\n      return true;\n    }\n\n    return false;\n  };\n\n  TimePicker.prototype.inputFocusHandler = function () {\n    if (!this.enabled) {\n      return;\n    }\n\n    var focusArguments = {\n      model: this.isBlazorServer ? null : this\n    };\n\n    if (!this.readonly && !Browser.isDevice) {\n      this.selectInputText();\n    }\n\n    this.trigger('focus', focusArguments);\n    this.clearIconState();\n\n    if (this.openOnFocus) {\n      this.show();\n    }\n  };\n  /**\n   * Focused the TimePicker textbox element.\n   * @returns void\n   */\n\n\n  TimePicker.prototype.focusIn = function () {\n    if (document.activeElement !== this.inputElement && this.enabled) {\n      this.inputElement.focus();\n      var focusArguments = {\n        model: this\n      };\n    }\n  };\n  /**\n   * Hides the TimePicker popup.\n   * @returns void\n    */\n\n\n  TimePicker.prototype.hide = function () {\n    this.closePopup(100, null);\n    this.clearIconState();\n  };\n  /**\n   * Opens the popup to show the list items.\n   * @returns void\n    */\n\n\n  TimePicker.prototype.show = function (event) {\n    var _this = this;\n\n    if (this.enabled && this.readonly || !this.enabled || this.popupWrapper) {\n      return;\n    } else {\n      this.popupCreation();\n\n      if (Browser.isDevice && this.listWrapper) {\n        this.modal = this.createElement('div');\n        this.modal.className = '' + ROOT + ' e-time-modal';\n        document.body.className += ' ' + OVERFLOW;\n        document.body.appendChild(this.modal);\n      }\n\n      if (Browser.isDevice) {\n        this.mobileTimePopupWrap = this.createElement('div', {\n          className: 'e-timepicker-mob-popup-wrap'\n        });\n        document.body.appendChild(this.mobileTimePopupWrap);\n      }\n\n      this.openPopupEventArgs = {\n        popup: this.isBlazorServer ? null : this.popupObj || null,\n        cancel: false,\n        event: event || null,\n        name: 'open',\n        appendTo: Browser.isDevice ? this.mobileTimePopupWrap : document.body\n      };\n      var eventArgs = this.openPopupEventArgs;\n      this.trigger('open', eventArgs, function (eventArgs) {\n        if (isBlazor() && _this.isServerRendered) {\n          eventArgs.popup = _this.popupObj || null;\n        }\n\n        _this.openPopupEventArgs = eventArgs;\n\n        if (!_this.openPopupEventArgs.cancel && !_this.inputWrapper.buttons[0].classList.contains(DISABLED)) {\n          if (_this.isBlazorServer) {\n            _this.popupWrapper.style.visibility = '';\n            _this.popupWrapper.style.width = _this.inputWrapper.container.offsetWidth + 'px';\n            _this.popupWrapper.style.height = 'auto';\n          }\n\n          if (_this.isBlazorServer) {\n            _this.openPopupEventArgs.popup = _this.popupObj;\n          }\n\n          _this.openPopupEventArgs.appendTo.appendChild(_this.popupWrapper);\n\n          _this.popupAlignment(_this.openPopupEventArgs);\n\n          _this.setScrollPosition();\n\n          if (!Browser.isDevice) {\n            _this.inputElement.focus();\n          }\n\n          var openAnimation = {\n            name: 'FadeIn',\n            duration: ANIMATIONDURATION\n          };\n\n          _this.popupObj.refreshPosition(_this.anchor);\n\n          if (_this.zIndex === 1000) {\n            _this.popupObj.show(new Animation(openAnimation), _this.element);\n          } else {\n            _this.popupObj.show(new Animation(openAnimation), null);\n          }\n\n          _this.setActiveDescendant();\n\n          attributes(_this.inputElement, {\n            'aria-expanded': 'true'\n          });\n          addClass([_this.inputWrapper.container], FOCUS);\n          EventHandler.add(document, 'mousedown touchstart', _this.documentClickHandler, _this);\n\n          _this.setOverlayIndex(_this.mobileTimePopupWrap, _this.popupObj.element, _this.modal, Browser.isDevice);\n        } else {\n          _this.popupObj.destroy();\n\n          if (_this.isBlazorServer) {\n            _this.disposeServerPopup(); // tslint:disable\n\n\n            _this.inputWrapper.container.parentElement.insertBefore(_this.popupWrapper, _this.inputWrapper.container.nextElementSibling);\n\n            _this.interopAdaptor.invokeMethodAsync('OnPopupHide', false); // tslint:enable\n\n          }\n\n          _this.popupWrapper = _this.listTag = undefined;\n          _this.liCollections = _this.timeCollections = _this.disableItemCollection = [];\n          _this.popupObj = null;\n        }\n      });\n    }\n  };\n\n  TimePicker.prototype.setOverlayIndex = function (popupWrapper, timePopupElement, modal, isDevice) {\n    if (isDevice && !isNullOrUndefined(timePopupElement) && !isNullOrUndefined(modal) && !isNullOrUndefined(popupWrapper)) {\n      var index = parseInt(timePopupElement.style.zIndex, 10) ? parseInt(timePopupElement.style.zIndex, 10) : 1000;\n      modal.style.zIndex = (index - 1).toString();\n      popupWrapper.style.zIndex = index.toString();\n    }\n  };\n\n  TimePicker.prototype.formatValues = function (type) {\n    var value;\n\n    if (typeof type === 'number') {\n      value = formatUnit(type);\n    } else if (typeof type === 'string') {\n      value = type.match(/px|%|em/) ? type : isNaN(parseInt(type, 10)) ? type : formatUnit(type);\n    }\n\n    return value;\n  };\n\n  TimePicker.prototype.popupAlignment = function (args) {\n    args.popup.position.X = this.formatValues(args.popup.position.X);\n    args.popup.position.Y = this.formatValues(args.popup.position.Y);\n\n    if (!isNaN(parseFloat(args.popup.position.X)) || !isNaN(parseFloat(args.popup.position.Y))) {\n      this.popupObj.relateTo = this.anchor = document.body;\n      this.popupObj.targetType = 'container';\n    }\n\n    if (!isNaN(parseFloat(args.popup.position.X))) {\n      this.popupObj.offsetX = parseFloat(args.popup.position.X);\n    }\n\n    if (!isNaN(parseFloat(args.popup.position.Y))) {\n      this.popupObj.offsetY = parseFloat(args.popup.position.Y);\n    }\n\n    if (!Browser.isDevice) {\n      switch (args.popup.position.X) {\n        case 'left':\n          break;\n\n        case 'right':\n          args.popup.offsetX = this.containerStyle.width;\n          break;\n\n        case 'center':\n          args.popup.offsetX = -(this.containerStyle.width / 2);\n          break;\n      }\n\n      switch (args.popup.position.Y) {\n        case 'top':\n          break;\n\n        case 'bottom':\n          break;\n\n        case 'center':\n          args.popup.offsetY = -(this.containerStyle.height / 2);\n          break;\n      }\n\n      if (args.popup.position.X === 'center' && args.popup.position.Y === 'center') {\n        this.popupObj.relateTo = this.inputWrapper.container;\n        this.anchor = this.inputElement;\n        this.popupObj.targetType = 'relative';\n      }\n    } else {\n      if (args.popup.position.X === 'center' && args.popup.position.Y === 'center') {\n        this.popupObj.relateTo = this.anchor = document.body;\n        this.popupObj.offsetY = 0;\n        this.popupObj.targetType = 'container';\n        this.popupObj.collision = {\n          X: 'fit',\n          Y: 'fit'\n        };\n      }\n    }\n  };\n  /**\n   * Gets the properties to be maintained upon browser refresh.\n   * @returns string\n   */\n\n\n  TimePicker.prototype.getPersistData = function () {\n    var keyEntity = ['value'];\n    return this.addOnPersist(keyEntity);\n  };\n  /**\n   * To get component name\n   * @private\n   */\n\n\n  TimePicker.prototype.getModuleName = function () {\n    return 'timepicker';\n  };\n  /**\n   * Called internally if any of the property value changed.\n   * returns void\n   * @private\n   */\n  // tslint:disable-next-line:max-func-body-length\n\n\n  TimePicker.prototype.onPropertyChanged = function (newProp, oldProp) {\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'placeholder':\n          Input.setPlaceholder(newProp.placeholder, this.inputElement);\n          this.inputElement.setAttribute('aria-placeholder', newProp.placeholder);\n          break;\n\n        case 'readonly':\n          Input.setReadonly(this.readonly, this.inputElement, this.floatLabelType);\n\n          if (this.readonly) {\n            this.hide();\n          }\n\n          this.setTimeAllowEdit();\n          break;\n\n        case 'enabled':\n          this.setProperties({\n            enabled: newProp.enabled\n          }, true);\n          this.setEnable();\n          break;\n\n        case 'allowEdit':\n          this.setTimeAllowEdit();\n          break;\n\n        case 'enableRtl':\n          if (!this.isBlazorServer) {\n            this.setProperties({\n              enableRtl: newProp.enableRtl\n            }, true);\n            this.setEnableRtl();\n          }\n\n          break;\n\n        case 'cssClass':\n          this.updateCssClass(newProp.cssClass, oldProp.cssClass);\n          break;\n\n        case 'zIndex':\n          this.setProperties({\n            zIndex: newProp.zIndex\n          }, true);\n          this.setZIndex();\n          break;\n\n        case 'htmlAttributes':\n          this.updateHtmlAttributeToElement();\n          this.updateHtmlAttributeToWrapper();\n          this.checkAttributes(true);\n          break;\n\n        case 'min':\n        case 'max':\n          if (!this.isBlazorServer) {\n            this.getProperty(newProp, prop);\n          }\n\n          break;\n\n        case 'showClearButton':\n          Input.setClearButton(this.showClearButton, this.inputElement, this.inputWrapper);\n          this.bindClearEvent();\n          break;\n\n        case 'locale':\n          this.setProperties({\n            locale: newProp.locale\n          }, true);\n          this.globalize = new Internationalization(this.locale);\n          this.l10n.setLocale(this.locale);\n          this.updatePlaceHolder();\n\n          if (!this.isBlazorServer) {\n            this.setValue(this.value);\n          }\n\n          break;\n\n        case 'width':\n          setStyleAttribute(this.inputWrapper.container, {\n            'width': this.setWidth(newProp.width)\n          });\n          this.containerStyle = this.inputWrapper.container.getBoundingClientRect();\n          break;\n\n        case 'format':\n          this.setProperties({\n            format: newProp.format\n          }, true);\n          this.checkTimeFormat();\n\n          if (!this.isBlazorServer) {\n            this.setValue(this.value);\n          }\n\n          break;\n\n        case 'value':\n          if (!this.isBlazorServer) {\n            this.invalidValueString = null;\n            this.checkInvalidValue(newProp.value);\n            newProp.value = this.value;\n\n            if (!this.invalidValueString) {\n              if (typeof newProp.value === 'string') {\n                this.setProperties({\n                  value: this.checkDateValue(new Date(newProp.value))\n                }, true);\n                newProp.value = this.value;\n              } else {\n                if ((newProp.value && +new Date(+newProp.value).setMilliseconds(0)) !== +this.value) {\n                  newProp.value = this.checkDateValue(new Date('' + newProp.value));\n                }\n              }\n\n              this.initValue = newProp.value;\n              newProp.value = this.compareFormatChange(this.checkValue(newProp.value));\n            } else {\n              this.updateInputValue(this.invalidValueString);\n              this.checkErrorState(this.invalidValueString);\n            }\n\n            this.checkValueChange(null, false);\n\n            if (this.isPopupOpen()) {\n              this.setScrollPosition();\n            }\n\n            if (this.isAngular && this.preventChange) {\n              this.preventChange = false;\n            }\n          }\n\n          break;\n\n        case 'floatLabelType':\n          this.floatLabelType = newProp.floatLabelType;\n          Input.removeFloating(this.inputWrapper);\n          Input.addFloating(this.inputElement, this.floatLabelType, this.placeholder);\n          break;\n\n        case 'strictMode':\n          if (!this.isBlazorServer) {\n            this.invalidValueString = null;\n\n            if (newProp.strictMode) {\n              this.checkErrorState(null);\n            }\n\n            this.setProperties({\n              strictMode: newProp.strictMode\n            }, true);\n            this.checkValue(this.inputElement.value);\n            this.checkValueChange(null, false);\n          }\n\n          break;\n\n        case 'scrollTo':\n          if (!this.isBlazorServer) {\n            if (this.checkDateValue(new Date(this.checkInValue(newProp.scrollTo)))) {\n              if (this.popupWrapper) {\n                this.setScrollTo();\n              }\n\n              this.setProperties({\n                scrollTo: this.checkDateValue(new Date(this.checkInValue(newProp.scrollTo)))\n              }, true);\n            } else {\n              this.setProperties({\n                scrollTo: null\n              }, true);\n            }\n          } else {\n            if (this.popupWrapper) {\n              this.setScrollTo();\n            }\n          }\n\n          break;\n      }\n    }\n  };\n\n  TimePicker.prototype.checkInValue = function (inValue) {\n    if (inValue instanceof Date) {\n      return inValue.toUTCString();\n    } else {\n      return '' + inValue;\n    }\n  };\n\n  __decorate([Property(null)], TimePicker.prototype, \"width\", void 0);\n\n  __decorate([Property(null)], TimePicker.prototype, \"cssClass\", void 0);\n\n  __decorate([Property(false)], TimePicker.prototype, \"strictMode\", void 0);\n\n  __decorate([Property(null)], TimePicker.prototype, \"keyConfigs\", void 0);\n\n  __decorate([Property(null)], TimePicker.prototype, \"format\", void 0);\n\n  __decorate([Property(true)], TimePicker.prototype, \"enabled\", void 0);\n\n  __decorate([Property(false)], TimePicker.prototype, \"readonly\", void 0);\n\n  __decorate([Property({})], TimePicker.prototype, \"htmlAttributes\", void 0);\n\n  __decorate([Property('Never')], TimePicker.prototype, \"floatLabelType\", void 0);\n\n  __decorate([Property(null)], TimePicker.prototype, \"placeholder\", void 0);\n\n  __decorate([Property(1000)], TimePicker.prototype, \"zIndex\", void 0);\n\n  __decorate([Property(false)], TimePicker.prototype, \"enablePersistence\", void 0);\n\n  __decorate([Property(true)], TimePicker.prototype, \"showClearButton\", void 0);\n\n  __decorate([Property(30)], TimePicker.prototype, \"step\", void 0);\n\n  __decorate([Property(null)], TimePicker.prototype, \"scrollTo\", void 0);\n\n  __decorate([Property(null)], TimePicker.prototype, \"value\", void 0);\n\n  __decorate([Property(null)], TimePicker.prototype, \"min\", void 0);\n\n  __decorate([Property(null)], TimePicker.prototype, \"max\", void 0);\n\n  __decorate([Property(true)], TimePicker.prototype, \"allowEdit\", void 0);\n\n  __decorate([Property(false)], TimePicker.prototype, \"openOnFocus\", void 0);\n\n  __decorate([Event()], TimePicker.prototype, \"change\", void 0);\n\n  __decorate([Event()], TimePicker.prototype, \"created\", void 0);\n\n  __decorate([Event()], TimePicker.prototype, \"destroyed\", void 0);\n\n  __decorate([Event()], TimePicker.prototype, \"open\", void 0);\n\n  __decorate([Event()], TimePicker.prototype, \"itemRender\", void 0);\n\n  __decorate([Event()], TimePicker.prototype, \"close\", void 0);\n\n  __decorate([Event()], TimePicker.prototype, \"cleared\", void 0);\n\n  __decorate([Event()], TimePicker.prototype, \"blur\", void 0);\n\n  __decorate([Event()], TimePicker.prototype, \"focus\", void 0);\n\n  TimePicker = __decorate([NotifyPropertyChanges], TimePicker);\n  return TimePicker;\n}(Component);\n\nexport { TimePicker };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","EventHandler","Property","Internationalization","NotifyPropertyChanges","isBlazor","KeyboardEvents","Animation","Browser","cldrData","L10n","Component","getDefaultDateObject","rippleEffect","Event","remove","addClass","detach","removeClass","closest","append","attributes","setStyleAttribute","isNullOrUndefined","formatUnit","getValue","extend","getUniqueID","blazorCultureFormats","Popup","Input","ListBase","WRAPPERCLASS","POPUP","ERROR","POPUPDIMENSION","DAY","Date","getDate","MONTH","getMonth","YEAR","getFullYear","ROOT","LIBRARY","CONTROL","RTL","CONTENT","SELECTED","HOVER","NAVIGATION","DISABLED","ICONANIMATION","TIMEICON","CLEARICON","FOCUS","DEVICE","LISTCLASS","HALFPOSITION","ANIMATIONDURATION","OVERFLOW","OFFSETVAL","EDITABLE","wrapperAttributes","TimePickerBase","createListItems","createdEl","min","max","globalize","timeFormat","step","formatOptions","calendarMode","format","type","calendar","start","end","interval","listItems","timeCollections","setMilliseconds","push","formatDate","listTag","createList","collection","list","TimePicker","_super","options","element","_this","call","liCollections","blazorTimeCollections","disableItemCollection","invalidValueString","isBlazorServer","isAngular","preventChange","timeOptions","preRender","keyConfigure","enter","escape","tab","home","down","up","left","right","open","close","cloneElement","cloneNode","inputElement","angularTag","formElement","isServerRendered","getModuleName","tagName","createElement","appendChild","tabIndex","hasAttribute","getAttribute","removeAttribute","openPopupEventArgs","appendTo","document","body","render","initialize","createInputElement","updateHtmlAttributeToWrapper","setTimeAllowEdit","setEnable","validateInterval","locale","defaultCulture","checkTimeFormat","parentElement","inputWrapper","container","clearButton","querySelector","buttons","bindInitialEvent","floatLabelType","showClearButton","wireClearBtnEvents","bindEvents","validateDisable","setValue","getFormattedValue","value","anchor","setAttribute","inputEleValue","getDateObject","renderComplete","allowEdit","readonly","clearIconState","setMinMax","initMin","initMax","popupCreation","popupObj","destroy","popupWrapper","isNaN","valueIsDisable","strictMode","resetState","initValue","validationAttribute","input","name","attr","checkInvalidValue","setProperties","checkDateValue","checkInValue","scrollTo","updateHtmlAttributeToElement","checkAttributes","localeText","placeholder","l10n","getConstant","isNavigate","isPreventBlur","isTextSelected","activeIndex","valueWithMinutes","prevDate","id","formatString","skeleton","skeletonString","getDatePattern","updatedCssClassesValue","cssClass","replace","trim","createInput","properties","enabled","enableRtl","style","width","setWidth","isNullOrEmpty","inputStyle","addAttributes","getCldrDateTimeFormat","culture","cldrTime","dateFormat","CldrFormat","isInvalid","valueString","valueExpression","valueExp","toString","test","setCurrentDate","parseDate","extISOString","basicISOString","cldrDateTimeString","getBlazorCultureFormat","getCultureTimeObject","unBindEvents","hide","ariaAttribute","removeAttributes","ensureInputAttribute","enableElement","classList","setEnabled","undefined","rippleFn","formResetHandler","propertyList","toLowerCase","className","attrs","generateList","listWrapper","nextElementSibling","addSelection","renderPopup","getPopupHeight","height","parseInt","popupHeight","getBoundingClientRect","wireListEvents","rippleModel","duration","selector","querySelectorAll","index","containerStyle","setPopupWidth","zIndex","targetType","position","isDevice","X","Y","collision","relateTo","offsetY","visibility","unWireListEvents","innerHTML","targetExitViewport","maxHeight","text","dateValue","createDateObj","date","month","year","getHours","getMinutes","getSeconds","htmlAttributes","_i","_a","keys","indexOf","updatedClassesValue","split","timeStyle","updateCssClass","cssClassNew","cssClassOld","setCssClass","removeErrorClass","checkErrorState","val","validateState","disableTimeIcon","disableElement","selectInputText","setSelectionRange","setCursorToEnd","getMeridianText","meridian","gregorianFormat","mainVal","getCursorSelection","selectionStart","selectionEnd","Math","abs","getActiveElement","match","inputWidth","parseFloat","setScrollPosition","listHeight","selectedElement","findScrollTop","setScrollTo","nextEle","offsetTop","liHeight","scrollTop","items","initialTime","toDateString","scrollTime","toLocaleTimeString","getTime","round","getText","cldrTimeFormat","cldrDateFormat","cldrDate","getCultureDateObject","formatVal","dateToNumeric","getExactDateTime","time","checkValue","validateMinMax","compareFormatChange","updateInput","updatePlaceHolder","setPlaceholder","updateInputValue","preventEventBubbling","e","preventDefault","interopAdaptor","invokeMethodAsync","updateBlazorTimeCollections","listData","popupHandler","isPopupOpen","closePopup","focus","show","mouseDownHandler","curPos","add","mouseUpHandler","event","cursorDetails","focusSelection","regex","RegExp","isSeparator","inputHandler","action","keyHandler","updateValue","stopPropagation","objToString","previousState","onMouseClick","li","setSelection","contains","delay","args","popup","cancel","trigger","animModel","documentClickHandler","disposeServerPopup","insertBefore","modal","display","outerHTML","mobileTimePopupWrap","top","checkValueChange","isNavigation","prevValue","changeEvent","valueProcess","onMouseOver","currentLi","setHover","isValidLI","removeHover","slice","onMouseLeave","scrollHandler","minVal","maxVal","dateVal","strictOperation","maxValue","minValue","minimum","maximum","inputBlurHandler","inputFocusHandler","inputChangeHandler","clearHandler","keyConfigs","inputEvent","keyAction","bind","eventName","disabled","timeValue","bindClearEvent","raiseClearedEvent","clearedArgs","clear","setZIndex","dataBind","isDynamic","attributes_1","prop","getTextFormat","strArray","inputVal","removeSelection","validateValue","newval","value_1","findNextElement","textVal","timeVal","count","collections","validLiElement","elementValue","selectNextItem","findNextInBlazor","index_1","index_2","index_3","index_4","backward","elementIndex","isCheck","nextItem","keyCode","setActiveDescendant","ld","result","eventArgs","isInteracted","isUpdate","hoveredItem","getHoverItem","setActiveClass","formatStr","dateSeperator","today","toUpperCase","TimeParse","listBaseOptions","itemCreated","item","isDisabled","focusOut","isIE","info","activeElement","setEnableRtl","getProperty","blurArguments","model","blur","focusArguments","openOnFocus","focusIn","offsetWidth","popupAlignment","openAnimation","refreshPosition","setOverlayIndex","timePopupElement","formatValues","offsetX","getPersistData","keyEntity","addOnPersist","onPropertyChanged","newProp","oldProp","setReadonly","setClearButton","setLocale","removeFloating","addFloating","inValue","toUTCString"],"sources":["D:/Theme/package/node_modules/@syncfusion/ej2-calendars/src/timepicker/timepicker.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { EventHandler, Property, Internationalization, NotifyPropertyChanges, isBlazor } from '@syncfusion/ej2-base';\nimport { KeyboardEvents, Animation, Browser } from '@syncfusion/ej2-base';\nimport { cldrData, L10n, Component, getDefaultDateObject, rippleEffect, Event } from '@syncfusion/ej2-base';\nimport { remove, addClass, detach, removeClass, closest, append, attributes, setStyleAttribute } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, formatUnit, getValue, extend, getUniqueID, blazorCultureFormats } from '@syncfusion/ej2-base';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { ListBase } from '@syncfusion/ej2-lists';\nvar WRAPPERCLASS = 'e-time-wrapper';\nvar POPUP = 'e-popup';\nvar ERROR = 'e-error';\nvar POPUPDIMENSION = '240px';\nvar DAY = new Date().getDate();\nvar MONTH = new Date().getMonth();\nvar YEAR = new Date().getFullYear();\nvar ROOT = 'e-timepicker';\nvar LIBRARY = 'e-lib';\nvar CONTROL = 'e-control';\nvar RTL = 'e-rtl';\nvar CONTENT = 'e-content';\nvar SELECTED = 'e-active';\nvar HOVER = 'e-hover';\nvar NAVIGATION = 'e-navigation';\nvar DISABLED = 'e-disabled';\nvar ICONANIMATION = 'e-icon-anim';\nvar TIMEICON = 'e-time-icon';\nvar CLEARICON = 'e-clear-icon';\nvar FOCUS = 'e-input-focus';\nvar DEVICE = 'e-device';\nvar LISTCLASS = 'e-list-item';\nvar HALFPOSITION = 2;\nvar ANIMATIONDURATION = 50;\nvar OVERFLOW = 'e-time-overflow';\nvar OFFSETVAL = 4;\nvar EDITABLE = 'e-non-edit';\nvar wrapperAttributes = ['title', 'class', 'style'];\nexport var TimePickerBase;\n(function (TimePickerBase) {\n    // tslint:disable-next-line\n    function createListItems(createdEl, min, max, globalize, timeFormat, step) {\n        var formatOptions;\n        if (this.calendarMode === 'Gregorian') {\n            formatOptions = { format: timeFormat, type: 'time' };\n        }\n        else {\n            formatOptions = { format: timeFormat, type: 'time', calendar: 'islamic' };\n        }\n        var start;\n        var end;\n        var interval = step * 60000;\n        var listItems = [];\n        var timeCollections = [];\n        start = +(min.setMilliseconds(0));\n        end = +(max.setMilliseconds(0));\n        while (end >= start) {\n            timeCollections.push(start);\n            listItems.push(globalize.formatDate(new Date(start), { format: timeFormat, type: 'time' }));\n            start += interval;\n        }\n        var listTag = ListBase.createList(createdEl, listItems, null, true);\n        return { collection: timeCollections, list: listTag };\n    }\n    TimePickerBase.createListItems = createListItems;\n})(TimePickerBase || (TimePickerBase = {}));\n/**\n * TimePicker is an intuitive interface component which provides an options to select a time value\n * from popup list or to set a desired time value.\n * ```\n * <input id='timepicker' type='text'/>\n * <script>\n *   var timePickerObj = new TimePicker({ value: new Date() });\n *   timePickerObj.appendTo('#timepicker');\n * </script>\n * ```\n */\nvar TimePicker = /** @class */ (function (_super) {\n    __extends(TimePicker, _super);\n    /**\n     * Constructor for creating the widget\n     */\n    function TimePicker(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.liCollections = [];\n        _this.timeCollections = [];\n        _this.blazorTimeCollections = [];\n        _this.disableItemCollection = [];\n        _this.invalidValueString = null;\n        _this.isBlazorServer = false;\n        _this.isAngular = false;\n        _this.preventChange = false;\n        _this.timeOptions = options;\n        return _this;\n    }\n    /**\n     * Initialize the event handler\n     * @private\n     */\n    TimePicker.prototype.preRender = function () {\n        this.keyConfigure = {\n            enter: 'enter',\n            escape: 'escape',\n            end: 'end',\n            tab: 'tab',\n            home: 'home',\n            down: 'downarrow',\n            up: 'uparrow',\n            left: 'leftarrow',\n            right: 'rightarrow',\n            open: 'alt+downarrow',\n            close: 'alt+uparrow'\n        };\n        this.cloneElement = this.element.cloneNode(true);\n        removeClass([this.cloneElement], [ROOT, CONTROL, LIBRARY]);\n        this.inputElement = this.element;\n        this.angularTag = null;\n        this.formElement = closest(this.element, 'form');\n        this.isBlazorServer = (isBlazor() && this.isServerRendered && this.getModuleName() === 'timepicker') ? true : false;\n        if (!this.isBlazorServer) {\n            if (this.element.tagName === 'EJS-TIMEPICKER') {\n                this.angularTag = this.element.tagName;\n                this.inputElement = this.createElement('input');\n                this.element.appendChild(this.inputElement);\n            }\n            this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n            this.element.removeAttribute('tabindex');\n            this.openPopupEventArgs = {\n                appendTo: document.body\n            };\n        }\n    };\n    // element creation\n    TimePicker.prototype.render = function () {\n        if (!this.isBlazorServer) {\n            this.initialize();\n            this.createInputElement();\n            this.updateHtmlAttributeToWrapper();\n            this.setTimeAllowEdit();\n            this.setEnable();\n            this.validateInterval();\n        }\n        else {\n            this.globalize = new Internationalization(this.locale);\n            this.defaultCulture = new Internationalization('en');\n            this.checkTimeFormat();\n            var parentElement = this.element.parentElement;\n            this.inputWrapper = {\n                container: parentElement,\n                clearButton: parentElement.querySelector('.' + CLEARICON),\n                buttons: [parentElement.querySelector('.' + TIMEICON)]\n            };\n            Input.bindInitialEvent({\n                element: this.inputElement,\n                floatLabelType: this.floatLabelType\n            });\n            if (this.showClearButton && this.inputWrapper.clearButton) {\n                Input.wireClearBtnEvents(this.inputElement, this.inputWrapper.clearButton, this.inputWrapper.container);\n            }\n        }\n        this.bindEvents();\n        if (!this.isBlazorServer) {\n            this.validateDisable();\n            this.setValue(this.getFormattedValue(this.value));\n        }\n        this.anchor = this.inputElement;\n        this.inputElement.setAttribute('value', this.inputElement.value);\n        if (!this.isBlazorServer) {\n            this.inputEleValue = this.getDateObject(this.inputElement.value);\n        }\n        this.renderComplete();\n    };\n    TimePicker.prototype.setTimeAllowEdit = function () {\n        if (this.allowEdit) {\n            if (!this.readonly) {\n                this.inputElement.removeAttribute('readonly');\n            }\n        }\n        else {\n            attributes(this.inputElement, { 'readonly': '' });\n        }\n        this.clearIconState();\n    };\n    TimePicker.prototype.clearIconState = function () {\n        if (!this.allowEdit && this.inputWrapper && !this.readonly) {\n            if (this.inputElement.value === '') {\n                removeClass([this.inputWrapper.container], [EDITABLE]);\n            }\n            else {\n                addClass([this.inputWrapper.container], [EDITABLE]);\n            }\n        }\n        else if (this.inputWrapper) {\n            removeClass([this.inputWrapper.container], [EDITABLE]);\n        }\n    };\n    TimePicker.prototype.validateDisable = function () {\n        this.setMinMax(this.initMin, this.initMax);\n        this.popupCreation();\n        this.popupObj.destroy();\n        this.popupWrapper = this.popupObj = null;\n        if ((!isNaN(+this.value) && this.value !== null)) {\n            if (!this.valueIsDisable(this.value)) {\n                //disable value given in value property so reset the date based on current date\n                if (this.strictMode) {\n                    this.resetState();\n                }\n                this.initValue = null;\n                this.initMax = this.getDateObject(this.initMax);\n                this.initMin = this.getDateObject(this.initMin);\n                this.timeCollections = this.liCollections = [];\n                this.setMinMax(this.initMin, this.initMax);\n            }\n        }\n    };\n    TimePicker.prototype.validationAttribute = function (target, input) {\n        var name = target.getAttribute('name') ? target.getAttribute('name') : target.getAttribute('id');\n        input.setAttribute('name', name);\n        target.removeAttribute('name');\n        var attributes = ['required', 'aria-required', 'form'];\n        for (var i = 0; i < attributes.length; i++) {\n            if (isNullOrUndefined(target.getAttribute(attributes[i]))) {\n                continue;\n            }\n            var attr = target.getAttribute(attributes[i]);\n            input.setAttribute(attributes[i], attr);\n            target.removeAttribute(attributes[i]);\n        }\n    };\n    TimePicker.prototype.initialize = function () {\n        this.globalize = new Internationalization(this.locale);\n        this.defaultCulture = new Internationalization('en');\n        this.checkTimeFormat();\n        this.checkInvalidValue(this.value);\n        // persist the value property.\n        this.setProperties({ value: this.checkDateValue(new Date(this.checkInValue(this.value))) }, true);\n        this.setProperties({ min: this.checkDateValue(new Date(this.checkInValue(this.min))) }, true);\n        this.setProperties({ max: this.checkDateValue(new Date(this.checkInValue(this.max))) }, true);\n        this.setProperties({ scrollTo: this.checkDateValue(new Date(this.checkInValue(this.scrollTo))) }, true);\n        if (this.angularTag !== null) {\n            this.validationAttribute(this.element, this.inputElement);\n        }\n        this.updateHtmlAttributeToElement();\n        this.checkAttributes(false); //check the input element attributes\n        var localeText = { placeholder: this.placeholder };\n        this.l10n = new L10n('timepicker', localeText, this.locale);\n        this.setProperties({ placeholder: this.placeholder || this.l10n.getConstant('placeholder') }, true);\n        this.initValue = this.checkDateValue(this.value);\n        this.initMin = this.checkDateValue(this.min);\n        this.initMax = this.checkDateValue(this.max);\n        this.isNavigate = this.isPreventBlur = this.isTextSelected = false;\n        this.activeIndex = this.valueWithMinutes = this.prevDate = null;\n        if (!isNullOrUndefined(this.element.getAttribute('id'))) {\n            if (this.angularTag !== null) {\n                this.inputElement.id = this.element.getAttribute('id') + '_input';\n            }\n        }\n        else {\n            //for angular case\n            this.element.id = getUniqueID('ej2_timepicker');\n            if (this.angularTag !== null) {\n                attributes(this.inputElement, { 'id': this.element.id + '_input' });\n            }\n        }\n        if (isNullOrUndefined(this.inputElement.getAttribute('name'))) {\n            attributes(this.inputElement, { 'name': this.element.id });\n        }\n    };\n    TimePicker.prototype.checkTimeFormat = function () {\n        if (this.format) {\n            if (typeof this.format === 'string') {\n                this.formatString = this.format;\n            }\n            else if (!isNullOrUndefined(this.format.skeleton) && this.format.skeleton !== '') {\n                var skeletonString = this.format.skeleton;\n                this.formatString = this.globalize.getDatePattern({ type: 'time', skeleton: skeletonString });\n            }\n            else {\n                this.formatString = this.globalize.getDatePattern({ type: 'time', skeleton: 'short' });\n            }\n        }\n        else {\n            this.formatString = null;\n        }\n    };\n    TimePicker.prototype.checkDateValue = function (value) {\n        return (!isNullOrUndefined(value) && value instanceof Date && !isNaN(+value)) ? value : null;\n    };\n    TimePicker.prototype.createInputElement = function () {\n        var updatedCssClassesValue = this.cssClass;\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            updatedCssClassesValue = (this.cssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        this.inputWrapper = Input.createInput({\n            element: this.inputElement,\n            floatLabelType: this.floatLabelType,\n            properties: {\n                readonly: this.readonly,\n                placeholder: this.placeholder,\n                cssClass: updatedCssClassesValue,\n                enabled: this.enabled,\n                enableRtl: this.enableRtl,\n                showClearButton: this.showClearButton,\n            },\n            buttons: [' e-input-group-icon e-time-icon e-icons']\n        }, this.createElement);\n        this.inputWrapper.container.style.width = this.setWidth(this.width);\n        attributes(this.inputElement, {\n            'aria-haspopup': 'true', 'aria-autocomplete': 'list', 'tabindex': '0', 'aria-activedescendant': 'null',\n            'aria-owns': this.element.id + '_options', 'aria-expanded': 'false', 'role': 'combobox', 'autocomplete': 'off',\n            'autocorrect': 'off', 'autocapitalize': 'off', 'spellcheck': 'false', 'aria-disabled': 'false', 'aria-invalid': 'false'\n        });\n        if (!this.isNullOrEmpty(this.inputStyle)) {\n            Input.addAttributes({ 'style': this.inputStyle }, this.inputElement);\n        }\n        addClass([this.inputWrapper.container], WRAPPERCLASS);\n    };\n    TimePicker.prototype.getCldrDateTimeFormat = function () {\n        var culture = new Internationalization(this.locale);\n        var cldrTime;\n        var dateFormat = culture.getDatePattern({ skeleton: isBlazor() ? 'd' : 'yMd' });\n        if (this.isNullOrEmpty(this.formatString)) {\n            cldrTime = dateFormat + ' ' + this.CldrFormat('time');\n        }\n        else {\n            cldrTime = this.formatString;\n        }\n        return cldrTime;\n    };\n    TimePicker.prototype.checkInvalidValue = function (value) {\n        var isInvalid = false;\n        if (typeof value !== 'object' && !isNullOrUndefined(value)) {\n            var valueString = value;\n            if (typeof valueString === 'string') {\n                valueString = valueString.trim();\n            }\n            var valueExpression = null;\n            var valueExp = null;\n            if (typeof value === 'number') {\n                valueString = value.toString();\n            }\n            else if (typeof value === 'string') {\n                if (!(/^[a-zA-Z0-9- ]*$/).test(value)) {\n                    valueExpression = this.setCurrentDate(this.getDateObject(value));\n                    if (isNullOrUndefined(valueExpression)) {\n                        valueExpression = this.checkDateValue(this.globalize.parseDate(valueString, {\n                            format: this.getCldrDateTimeFormat(), type: 'datetime'\n                        }));\n                        if (isNullOrUndefined(valueExpression)) {\n                            valueExpression = this.checkDateValue(this.globalize.parseDate(valueString, {\n                                format: this.formatString, type: 'dateTime', skeleton: isBlazor() ? 'd' : 'yMd'\n                            }));\n                        }\n                    }\n                }\n            }\n            valueExp = this.globalize.parseDate(valueString, {\n                format: this.getCldrDateTimeFormat(), type: 'datetime'\n            });\n            valueExpression = (!isNullOrUndefined(valueExp) && valueExp instanceof Date && !isNaN(+valueExp)) ? valueExp : null;\n            if (isNullOrUndefined(valueExpression) && valueString.replace(/\\s/g, '').length) {\n                var extISOString = null;\n                var basicISOString = null;\n                // tslint:disable-next-line\n                extISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n                // tslint:disable-next-line\n                basicISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n                if ((!extISOString.test(valueString) && !basicISOString.test(valueString))\n                    || ((/^[a-zA-Z0-9- ]*$/).test(value)) || isNaN(+new Date('' + valueString))) {\n                    isInvalid = true;\n                }\n                else {\n                    valueExpression = new Date('' + valueString);\n                }\n            }\n            if (isInvalid) {\n                if (!this.strictMode) {\n                    this.invalidValueString = valueString;\n                }\n                this.setProperties({ value: null }, true);\n                this.initValue = null;\n            }\n            else {\n                this.setProperties({ value: valueExpression }, true);\n                this.initValue = this.value;\n            }\n        }\n    };\n    TimePicker.prototype.CldrFormat = function (type) {\n        var cldrDateTimeString;\n        if (this.locale === 'en' || this.locale === 'en-US') {\n            cldrDateTimeString = isBlazor() ? this.getBlazorCultureFormat('t') :\n                (getValue('timeFormats.short', getDefaultDateObject()));\n        }\n        else {\n            cldrDateTimeString = (this.getCultureTimeObject(cldrData, '' + this.locale));\n        }\n        return cldrDateTimeString;\n    };\n    // destroy function\n    TimePicker.prototype.destroy = function () {\n        if (this.isBlazorServer) {\n            this.unBindEvents();\n        }\n        else {\n            this.hide();\n            this.unBindEvents();\n            var ariaAttribute = {\n                'aria-haspopup': 'true', 'aria-autocomplete': 'list', 'tabindex': '0', 'aria-activedescendant': 'null',\n                'aria-owns': this.element.id + '_options', 'aria-expanded': 'false', 'role': 'combobox', 'autocomplete': 'off',\n                'autocorrect': 'off', 'autocapitalize': 'off', 'spellcheck': 'false', 'aria-disabled': 'true', 'aria-invalid': 'false'\n            };\n            if (this.inputElement) {\n                Input.removeAttributes(ariaAttribute, this.inputElement);\n                if (this.angularTag === null) {\n                    this.inputWrapper.container.parentElement.appendChild(this.inputElement);\n                }\n                (!isNullOrUndefined(this.cloneElement.getAttribute('tabindex'))) ?\n                    this.inputElement.setAttribute('tabindex', this.tabIndex) : this.inputElement.removeAttribute('tabindex');\n                this.ensureInputAttribute();\n                this.enableElement([this.inputElement]);\n                this.inputElement.classList.remove('e-input');\n                if (isNullOrUndefined(this.cloneElement.getAttribute('disabled'))) {\n                    Input.setEnabled(true, this.inputElement, this.floatLabelType);\n                }\n            }\n            if (this.inputWrapper.container) {\n                detach(this.inputWrapper.container);\n            }\n            this.inputWrapper = this.popupWrapper = this.cloneElement = undefined;\n            this.liCollections = this.timeCollections = this.disableItemCollection = [];\n            if (!isNullOrUndefined(this.rippleFn)) {\n                this.rippleFn();\n            }\n            _super.prototype.destroy.call(this);\n            if (this.formElement) {\n                EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n            }\n        }\n    };\n    TimePicker.prototype.ensureInputAttribute = function () {\n        var propertyList = [];\n        for (var i = 0; i < this.inputElement.attributes.length; i++) {\n            propertyList[i] = this.inputElement.attributes[i].name;\n        }\n        for (var i = 0; i < propertyList.length; i++) {\n            if (!isNullOrUndefined(this.cloneElement.getAttribute(propertyList[i]))) {\n                this.inputElement.setAttribute(propertyList[i], this.cloneElement.getAttribute(propertyList[i]));\n                if (propertyList[i].toLowerCase() === 'value') {\n                    this.inputElement.value = this.cloneElement.getAttribute(propertyList[i]);\n                }\n            }\n            else {\n                this.inputElement.removeAttribute(propertyList[i]);\n                if (propertyList[i].toLowerCase() === 'value') {\n                    this.inputElement.value = '';\n                }\n            }\n        }\n    };\n    //popup creation\n    TimePicker.prototype.popupCreation = function () {\n        if (!this.isBlazorServer) {\n            this.popupWrapper = this.createElement('div', {\n                className: ROOT + ' ' + POPUP,\n                attrs: { 'id': this.element.id + '_popup', 'style': 'visibility:hidden' }\n            });\n            if (!isNullOrUndefined(this.cssClass)) {\n                this.popupWrapper.className += ' ' + this.cssClass;\n            }\n            if (!isNullOrUndefined(this.step) && this.step > 0) {\n                this.generateList();\n                append([this.listWrapper], this.popupWrapper);\n            }\n            this.openPopupEventArgs.appendTo.appendChild(this.popupWrapper);\n        }\n        else {\n            this.popupWrapper = this.inputWrapper.container.nextElementSibling;\n            this.generateList();\n        }\n        this.addSelection();\n        this.renderPopup();\n        detach(this.popupWrapper);\n    };\n    TimePicker.prototype.getPopupHeight = function () {\n        var height = parseInt(POPUPDIMENSION, 10);\n        var popupHeight = this.popupWrapper.getBoundingClientRect().height;\n        return popupHeight > height ? height : popupHeight;\n    };\n    TimePicker.prototype.generateList = function () {\n        if (!this.isBlazorServer) {\n            this.createListItems();\n        }\n        else {\n            this.listWrapper = this.popupWrapper.querySelector('.e-content');\n        }\n        this.wireListEvents();\n        var rippleModel = { duration: 300, selector: '.' + LISTCLASS };\n        this.rippleFn = rippleEffect(this.listWrapper, rippleModel);\n        this.liCollections = this.listWrapper.querySelectorAll('.' + LISTCLASS);\n        if (this.isBlazorServer) {\n            this.blazorTimeCollections = [];\n            for (var index = 0; index < this.liCollections.length; index++) {\n                this.blazorTimeCollections.push(this.liCollections[index].getAttribute('data-value'));\n            }\n        }\n    };\n    TimePicker.prototype.renderPopup = function () {\n        var _this = this;\n        this.containerStyle = this.inputWrapper.container.getBoundingClientRect();\n        this.popupObj = new Popup(this.popupWrapper, {\n            width: this.setPopupWidth(this.width),\n            zIndex: this.zIndex,\n            targetType: 'relative',\n            position: Browser.isDevice ? { X: 'center', Y: 'center' } : { X: 'left', Y: 'bottom' },\n            collision: Browser.isDevice ? { X: 'fit', Y: 'fit' } : { X: 'flip', Y: 'flip' },\n            enableRtl: this.enableRtl,\n            relateTo: Browser.isDevice ? document.body : this.inputWrapper.container,\n            offsetY: OFFSETVAL,\n            open: function () {\n                _this.popupWrapper.style.visibility = 'visible';\n                addClass([_this.inputWrapper.buttons[0]], SELECTED);\n            }, close: function () {\n                removeClass([_this.inputWrapper.buttons[0]], SELECTED);\n                _this.unWireListEvents();\n                _this.inputElement.setAttribute('aria-activedescendant', 'null');\n                if (!_this.isBlazorServer) {\n                    remove(_this.popupObj.element);\n                    _this.popupObj.destroy();\n                    _this.popupWrapper.innerHTML = '';\n                }\n                _this.listWrapper = _this.popupWrapper = _this.listTag = undefined;\n            }, targetExitViewport: function () {\n                if (!Browser.isDevice) {\n                    _this.hide();\n                }\n            }\n        });\n        if (!Browser.isDevice) {\n            this.popupObj.collision = { X: 'none', Y: 'flip' };\n        }\n        this.popupObj.element.style.maxHeight = POPUPDIMENSION;\n    };\n    //util function\n    TimePicker.prototype.getFormattedValue = function (value) {\n        if (isNullOrUndefined(this.checkDateValue(value))) {\n            return null;\n        }\n        else {\n            return this.globalize.formatDate(value, { skeleton: isBlazor() ? 't' : 'medium', type: 'time' });\n        }\n    };\n    TimePicker.prototype.getDateObject = function (text) {\n        if (!this.isNullOrEmpty(text)) {\n            var dateValue = this.createDateObj(text);\n            var value = !this.isNullOrEmpty(this.initValue);\n            if (this.checkDateValue(dateValue)) {\n                var date = value ? this.initValue.getDate() : DAY;\n                var month = value ? this.initValue.getMonth() : MONTH;\n                var year = value ? this.initValue.getFullYear() : YEAR;\n                return new Date(year, month, date, dateValue.getHours(), dateValue.getMinutes(), dateValue.getSeconds());\n            }\n        }\n        return null;\n    };\n    TimePicker.prototype.updateHtmlAttributeToWrapper = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (wrapperAttributes.indexOf(key) > -1) {\n                    if (key === 'class') {\n                        var updatedClassesValue = (this.htmlAttributes[key].replace(/\\s+/g, ' ')).trim();\n                        if (updatedClassesValue !== '') {\n                            addClass([this.inputWrapper.container], updatedClassesValue.split(' '));\n                        }\n                    }\n                    else if (key === 'style') {\n                        var timeStyle = this.inputWrapper.container.getAttribute(key);\n                        timeStyle = !isNullOrUndefined(timeStyle) ? (timeStyle + this.htmlAttributes[key]) :\n                            this.htmlAttributes[key];\n                        this.inputWrapper.container.setAttribute(key, timeStyle);\n                    }\n                    else {\n                        this.inputWrapper.container.setAttribute(key, this.htmlAttributes[key]);\n                    }\n                }\n            }\n        }\n    };\n    TimePicker.prototype.updateHtmlAttributeToElement = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (wrapperAttributes.indexOf(key) < 0) {\n                    this.inputElement.setAttribute(key, this.htmlAttributes[key]);\n                }\n            }\n        }\n    };\n    TimePicker.prototype.updateCssClass = function (cssClassNew, cssClassOld) {\n        if (!isNullOrUndefined(cssClassOld)) {\n            cssClassOld = (cssClassOld.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(cssClassNew)) {\n            cssClassNew = (cssClassNew.replace(/\\s+/g, ' ')).trim();\n        }\n        Input.setCssClass(cssClassNew, [this.inputWrapper.container], cssClassOld);\n        if (this.popupWrapper) {\n            Input.setCssClass(cssClassNew, [this.popupWrapper], cssClassOld);\n        }\n    };\n    TimePicker.prototype.removeErrorClass = function () {\n        removeClass([this.inputWrapper.container], ERROR);\n        attributes(this.inputElement, { 'aria-invalid': 'false' });\n    };\n    TimePicker.prototype.checkErrorState = function (val) {\n        var value = this.getDateObject(val);\n        if (this.validateState(value) && !this.invalidValueString) {\n            this.removeErrorClass();\n        }\n        else {\n            addClass([this.inputWrapper.container], ERROR);\n            attributes(this.inputElement, { 'aria-invalid': 'true' });\n        }\n    };\n    TimePicker.prototype.validateInterval = function () {\n        if (!isNullOrUndefined(this.step) && this.step > 0) {\n            this.enableElement([this.inputWrapper.buttons[0]]);\n        }\n        else {\n            this.disableTimeIcon();\n        }\n    };\n    TimePicker.prototype.disableTimeIcon = function () {\n        this.disableElement([this.inputWrapper.buttons[0]]);\n        this.hide();\n    };\n    TimePicker.prototype.disableElement = function (element) {\n        addClass(element, DISABLED);\n    };\n    TimePicker.prototype.enableElement = function (element) {\n        removeClass(element, DISABLED);\n    };\n    TimePicker.prototype.selectInputText = function () {\n        this.inputElement.setSelectionRange(0, (this.inputElement).value.length);\n    };\n    TimePicker.prototype.setCursorToEnd = function () {\n        this.inputElement.setSelectionRange((this.inputElement).value.length, (this.inputElement).value.length);\n    };\n    TimePicker.prototype.getMeridianText = function () {\n        var meridian;\n        if (this.locale === 'en' || this.locale === 'en-US') {\n            meridian = getValue((isBlazor() ? 'dayPeriods.wide' : 'dayPeriods.format.wide'), getDefaultDateObject());\n        }\n        else {\n            var gregorianFormat = (isBlazor() ? '.dates.dayPeriods.abbreviated' :\n                '.dates.calendars.gregorian.dayPeriods.format.abbreviated');\n            var mainVal = isBlazor() ? '' : 'main.';\n            meridian = getValue(mainVal + '' + this.locale + gregorianFormat, cldrData);\n        }\n        return meridian;\n    };\n    TimePicker.prototype.getCursorSelection = function () {\n        var input = (this.inputElement);\n        var start = 0;\n        var end = 0;\n        if (!isNaN(input.selectionStart)) {\n            start = input.selectionStart;\n            end = input.selectionEnd;\n        }\n        return { start: Math.abs(start), end: Math.abs(end) };\n    };\n    TimePicker.prototype.getActiveElement = function () {\n        if (!isNullOrUndefined(this.popupWrapper)) {\n            return this.popupWrapper.querySelectorAll('.' + SELECTED);\n        }\n        else {\n            return null;\n        }\n    };\n    TimePicker.prototype.isNullOrEmpty = function (value) {\n        if (isNullOrUndefined(value) || (typeof value === 'string' && value.trim() === '')) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    TimePicker.prototype.setWidth = function (width) {\n        if (typeof width === 'number') {\n            width = formatUnit(width);\n        }\n        else if (typeof width === 'string') {\n            width = (width.match(/px|%|em/)) ? width : formatUnit(width);\n        }\n        else {\n            width = '100%';\n        }\n        return width;\n    };\n    TimePicker.prototype.setPopupWidth = function (width) {\n        width = this.setWidth(width);\n        if (width.indexOf('%') > -1) {\n            var inputWidth = this.containerStyle.width * parseFloat(width) / 100;\n            width = inputWidth.toString() + 'px';\n        }\n        return width;\n    };\n    TimePicker.prototype.setScrollPosition = function () {\n        var listHeight = this.getPopupHeight();\n        var element;\n        element = this.selectedElement;\n        if (!isNullOrUndefined(element)) {\n            this.findScrollTop(element);\n        }\n        else if (this.popupWrapper && this.checkDateValue(this.scrollTo)) {\n            this.setScrollTo();\n        }\n    };\n    TimePicker.prototype.findScrollTop = function (element) {\n        var listHeight = this.getPopupHeight();\n        var nextEle = element.nextElementSibling;\n        var height = nextEle ? nextEle.offsetTop : element.offsetTop;\n        var liHeight = element.getBoundingClientRect().height;\n        if ((height + element.offsetTop) > listHeight) {\n            this.popupWrapper.scrollTop = nextEle ? (height - (listHeight / HALFPOSITION + liHeight / HALFPOSITION)) : height;\n        }\n        else {\n            this.popupWrapper.scrollTop = 0;\n        }\n    };\n    TimePicker.prototype.setScrollTo = function () {\n        var element;\n        if (!isNullOrUndefined(this.popupWrapper)) {\n            var items = this.popupWrapper.querySelectorAll('.' + LISTCLASS);\n            if (items.length) {\n                var initialTime = this.isBlazorServer ? new Date(new Date().toDateString() + ' ' +\n                    this.blazorTimeCollections[0]).setMilliseconds(0) : this.timeCollections[0];\n                var scrollTime = this.isBlazorServer ? new Date(new Date().toDateString() + ' ' +\n                    this.scrollTo.toLocaleTimeString()).setMilliseconds(0) :\n                    this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();\n                element = items[Math.round((scrollTime - initialTime) / (this.step * 60000))];\n            }\n        }\n        else {\n            this.popupWrapper.scrollTop = 0;\n        }\n        if (!isNullOrUndefined(element)) {\n            this.findScrollTop(element);\n        }\n        else {\n            this.popupWrapper.scrollTop = 0;\n        }\n    };\n    TimePicker.prototype.getText = function () {\n        return (isNullOrUndefined(this.checkDateValue(this.value))) ? '' : this.getValue(this.value);\n    };\n    TimePicker.prototype.getValue = function (value) {\n        return (isNullOrUndefined(this.checkDateValue(value))) ? null : this.globalize.formatDate(value, {\n            format: this.cldrTimeFormat(), type: 'time'\n        });\n    };\n    TimePicker.prototype.cldrDateFormat = function () {\n        var cldrDate;\n        if (this.locale === 'en' || this.locale === 'en-US') {\n            cldrDate = isBlazor() ? (getValue('d', getValue(this.locale, blazorCultureFormats))) :\n                (getValue('dateFormats.short', getDefaultDateObject()));\n        }\n        else {\n            cldrDate = (this.getCultureDateObject(cldrData, '' + this.locale));\n        }\n        return cldrDate;\n    };\n    TimePicker.prototype.getBlazorCultureFormat = function (formatVal) {\n        return (getValue(formatVal, getValue(this.locale, blazorCultureFormats))).replace(/tt/, 'a');\n    };\n    TimePicker.prototype.cldrTimeFormat = function () {\n        var cldrTime;\n        if (this.isNullOrEmpty(this.formatString)) {\n            if (this.locale === 'en' || this.locale === 'en-US') {\n                cldrTime = isBlazor() ? this.getBlazorCultureFormat('t') :\n                    (getValue('timeFormats.short', getDefaultDateObject()));\n            }\n            else {\n                cldrTime = (this.getCultureTimeObject(cldrData, '' + this.locale));\n            }\n        }\n        else {\n            cldrTime = this.formatString;\n        }\n        return cldrTime;\n    };\n    TimePicker.prototype.dateToNumeric = function () {\n        var cldrTime;\n        if (this.locale === 'en' || this.locale === 'en-US') {\n            cldrTime = isBlazor() ? this.getBlazorCultureFormat('T') :\n                (getValue('timeFormats.medium', getDefaultDateObject()));\n        }\n        else {\n            cldrTime = isBlazor() ? this.getBlazorCultureFormat('T') :\n                (getValue('main.' + '' + this.locale + '.dates.calendars.gregorian.timeFormats.medium', cldrData));\n        }\n        return cldrTime;\n    };\n    TimePicker.prototype.getExactDateTime = function (value) {\n        if (isNullOrUndefined(this.checkDateValue(value))) {\n            return null;\n        }\n        else {\n            return this.globalize.formatDate(value, { format: this.dateToNumeric(), type: 'time' });\n        }\n    };\n    TimePicker.prototype.setValue = function (value) {\n        var time = this.checkValue(value);\n        if (!this.strictMode && !this.validateState(time)) {\n            if (this.checkDateValue(this.valueWithMinutes) === null) {\n                this.initValue = this.valueWithMinutes = null;\n            }\n            this.validateMinMax(this.value, this.min, this.max);\n        }\n        else {\n            if (this.isNullOrEmpty(time)) {\n                this.initValue = null;\n                this.validateMinMax(this.value, this.min, this.max);\n            }\n            else {\n                this.initValue = this.compareFormatChange(time);\n            }\n        }\n        this.updateInput(true, this.initValue);\n    };\n    TimePicker.prototype.compareFormatChange = function (value) {\n        if (isNullOrUndefined(value)) {\n            return null;\n        }\n        return (value !== this.getText()) ? this.getDateObject(value) : this.getDateObject(this.value);\n    };\n    TimePicker.prototype.updatePlaceHolder = function () {\n        Input.setPlaceholder(this.l10n.getConstant('placeholder'), this.inputElement);\n    };\n    //event related functions\n    TimePicker.prototype.updateInputValue = function (value) {\n        Input.setValue(value, this.inputElement, this.floatLabelType, this.showClearButton);\n    };\n    TimePicker.prototype.preventEventBubbling = function (e) {\n        e.preventDefault();\n        // tslint:disable\n        this.interopAdaptor.invokeMethodAsync('OnTimeIconClick');\n        // tslint:enable\n    };\n    TimePicker.prototype.updateBlazorTimeCollections = function (listData) {\n        this.blazorTimeCollections = listData;\n    };\n    TimePicker.prototype.popupHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        if (Browser.isDevice) {\n            this.inputElement.setAttribute('readonly', '');\n        }\n        if (!this.isBlazorServer) {\n            e.preventDefault();\n        }\n        if (this.isPopupOpen() && !this.isBlazorServer) {\n            this.closePopup(0, e);\n        }\n        else {\n            this.inputElement.focus();\n            this.show(e);\n        }\n    };\n    TimePicker.prototype.mouseDownHandler = function () {\n        if (!this.enabled) {\n            return;\n        }\n        if (!this.readonly) {\n            var curPos = this.getCursorSelection();\n            this.inputElement.setSelectionRange(0, 0);\n            EventHandler.add(this.inputElement, 'mouseup', this.mouseUpHandler, this);\n        }\n    };\n    TimePicker.prototype.mouseUpHandler = function (event) {\n        if (!this.readonly) {\n            event.preventDefault();\n            EventHandler.remove(this.inputElement, 'mouseup', this.mouseUpHandler);\n            var curPos = this.getCursorSelection();\n            if (!(curPos.start === 0 && curPos.end === this.inputElement.value.length)) {\n                if (this.inputElement.value.length > 0) {\n                    this.cursorDetails = this.focusSelection();\n                }\n                this.inputElement.setSelectionRange(this.cursorDetails.start, this.cursorDetails.end);\n            }\n        }\n    };\n    TimePicker.prototype.focusSelection = function () {\n        var regex = new RegExp('^[a-zA-Z0-9]+$');\n        var split = this.inputElement.value.split('');\n        split.push(' ');\n        var curPos = this.getCursorSelection();\n        var start = 0;\n        var end = 0;\n        var isSeparator = false;\n        if (!this.isTextSelected) {\n            for (var i = 0; i < split.length; i++) {\n                if (!regex.test(split[i])) {\n                    end = i;\n                    isSeparator = true;\n                }\n                if (isSeparator) {\n                    if (curPos.start >= start && curPos.end <= end) {\n                        end = end;\n                        this.isTextSelected = true;\n                        break;\n                    }\n                    else {\n                        start = i + 1;\n                        isSeparator = false;\n                    }\n                }\n            }\n        }\n        else {\n            start = curPos.start;\n            end = curPos.end;\n            this.isTextSelected = false;\n        }\n        return { start: start, end: end };\n    };\n    TimePicker.prototype.inputHandler = function (event) {\n        if (!this.readonly && this.enabled) {\n            if (event.action !== 'right' && event.action !== 'left' && event.action !== 'tab') {\n                event.preventDefault();\n            }\n            switch (event.action) {\n                case 'home':\n                case 'end':\n                case 'up':\n                case 'down':\n                    this.keyHandler(event);\n                    break;\n                case 'enter':\n                    if (this.isNavigate) {\n                        this.selectedElement = this.liCollections[this.activeIndex];\n                        if (!this.isBlazorServer) {\n                            this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n                            this.updateValue(this.valueWithMinutes, event);\n                        }\n                        else {\n                            this.inputElement.setAttribute('value', this.selectedElement.getAttribute('data-value'));\n                            // tslint:disable-next-line\n                            this.interopAdaptor.invokeMethodAsync('OnListItemClick', this.activeIndex, true);\n                        }\n                    }\n                    else {\n                        if (!this.isBlazorServer) {\n                            this.updateValue(this.inputElement.value, event);\n                        }\n                        else {\n                            // tslint:disable-next-line\n                            this.interopAdaptor.invokeMethodAsync('OnStrictMode', this.inputElement.value);\n                        }\n                    }\n                    this.hide();\n                    this.isNavigate = false;\n                    if (this.isPopupOpen()) {\n                        event.stopPropagation();\n                    }\n                    break;\n                case 'open':\n                    if (this.isBlazorServer) {\n                        // tslint:disable\n                        this.interopAdaptor.invokeMethodAsync('OnPopupHide', true);\n                        // tslint:enable\n                    }\n                    else {\n                        this.show(event);\n                    }\n                    break;\n                case 'escape':\n                    if (!this.isBlazorServer) {\n                        this.updateInputValue(this.objToString(this.value));\n                        this.previousState(this.value);\n                    }\n                    this.hide();\n                    break;\n                case 'close':\n                    this.hide();\n                    break;\n                default:\n                    this.isNavigate = false;\n                    break;\n            }\n        }\n    };\n    TimePicker.prototype.onMouseClick = function (event) {\n        var target = event.target;\n        var li = this.selectedElement = closest(target, '.' + LISTCLASS);\n        this.setSelection(li, event);\n        if (li && li.classList.contains(LISTCLASS)) {\n            this.hide();\n        }\n    };\n    TimePicker.prototype.closePopup = function (delay, e) {\n        var _this = this;\n        if (this.isPopupOpen() && this.popupWrapper) {\n            var args = {\n                popup: this.isBlazorServer ? null : this.popupObj,\n                event: e || null,\n                cancel: false,\n                name: 'open'\n            };\n            removeClass([document.body], OVERFLOW);\n            this.trigger('close', args, function (args) {\n                if (!args.cancel) {\n                    var animModel = {\n                        name: 'FadeOut',\n                        duration: ANIMATIONDURATION,\n                        delay: delay ? delay : 0\n                    };\n                    _this.popupObj.hide(new Animation(animModel));\n                    removeClass([_this.inputWrapper.container], [ICONANIMATION]);\n                    attributes(_this.inputElement, { 'aria-expanded': 'false' });\n                    EventHandler.remove(document, 'mousedown touchstart', _this.documentClickHandler);\n                    if (_this.isBlazorServer) {\n                        _this.disposeServerPopup();\n                        // tslint:disable\n                        _this.inputWrapper.container.parentElement.insertBefore(_this.popupWrapper, _this.inputWrapper.container.nextElementSibling);\n                        _this.interopAdaptor.invokeMethodAsync('OnPopupHide', false);\n                        // tslint:enable\n                        _this.popupWrapper = _this.popupObj = null;\n                    }\n                }\n                if (Browser.isDevice && _this.modal) {\n                    _this.modal.style.display = 'none';\n                    _this.modal.outerHTML = '';\n                    _this.modal = null;\n                }\n                if (Browser.isDevice) {\n                    if (!isNullOrUndefined(_this.mobileTimePopupWrap)) {\n                        _this.mobileTimePopupWrap.remove();\n                        _this.mobileTimePopupWrap = null;\n                    }\n                }\n                if (Browser.isDevice && _this.allowEdit && !_this.readonly) {\n                    _this.inputElement.removeAttribute('readonly');\n                }\n            });\n        }\n        else {\n            if (Browser.isDevice && this.allowEdit && !this.readonly) {\n                this.inputElement.removeAttribute('readonly');\n            }\n        }\n    };\n    TimePicker.prototype.disposeServerPopup = function () {\n        if (this.popupWrapper) {\n            this.popupWrapper.style.visibility = 'hidden';\n            this.popupWrapper.style.top = '-9999px';\n            this.popupWrapper.style.left = '-9999px';\n            this.popupWrapper.style.width = '0px';\n            this.popupWrapper.style.height = '0px';\n        }\n    };\n    TimePicker.prototype.checkValueChange = function (event, isNavigation) {\n        if (!this.strictMode && !this.validateState(this.valueWithMinutes)) {\n            if (this.checkDateValue(this.valueWithMinutes) === null) {\n                this.initValue = this.valueWithMinutes = null;\n            }\n            this.setProperties({ value: this.compareFormatChange(this.inputElement.value) }, true);\n            this.initValue = this.valueWithMinutes = this.compareFormatChange(this.inputElement.value);\n            this.prevValue = this.inputElement.value;\n            if (+this.prevDate !== +this.value) {\n                this.changeEvent(event);\n            }\n        }\n        else {\n            if (!isNavigation) {\n                if ((this.prevValue !== this.inputElement.value) || isNullOrUndefined(this.checkDateValue(this.value))) {\n                    this.valueProcess(event, this.compareFormatChange(this.inputElement.value));\n                }\n            }\n            else {\n                var value = this.getDateObject(new Date(this.timeCollections[this.activeIndex]));\n                if (+this.prevDate !== +value) {\n                    this.valueProcess(event, value);\n                }\n            }\n        }\n    };\n    TimePicker.prototype.onMouseOver = function (event) {\n        var currentLi = closest(event.target, '.' + LISTCLASS);\n        this.setHover(currentLi, HOVER);\n    };\n    TimePicker.prototype.setHover = function (li, className) {\n        if (this.enabled && this.isValidLI(li) && !li.classList.contains(className)) {\n            this.removeHover(className);\n            addClass([li], className);\n            if (className === NAVIGATION) {\n                li.setAttribute('aria-selected', 'true');\n            }\n        }\n    };\n    TimePicker.prototype.setSelection = function (li, event) {\n        if (this.isValidLI(li) && !li.classList.contains(SELECTED)) {\n            if (!this.isBlazorServer) {\n                this.checkValue(li.getAttribute('data-value'));\n                this.selectedElement = li;\n                this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(li);\n                this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n                addClass([this.selectedElement], SELECTED);\n                this.selectedElement.setAttribute('aria-selected', 'true');\n                this.checkValueChange(event, true);\n            }\n            else {\n                this.selectedElement = li;\n                this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(li);\n                addClass([this.selectedElement], SELECTED);\n                this.selectedElement.setAttribute('aria-selected', 'true');\n                this.inputElement.setAttribute('value', li.getAttribute('data-value'));\n                // tslint:disable-next-line\n                this.interopAdaptor.invokeMethodAsync('OnListItemClick', this.activeIndex, false);\n                this.addSelection();\n            }\n        }\n    };\n    TimePicker.prototype.onMouseLeave = function () {\n        this.removeHover(HOVER);\n    };\n    TimePicker.prototype.scrollHandler = function () {\n        if (this.getModuleName() === 'timepicker' && Browser.isDevice) {\n            return;\n        }\n        else {\n            this.hide();\n        }\n    };\n    TimePicker.prototype.setMinMax = function (minVal, maxVal) {\n        if (isNullOrUndefined(this.checkDateValue(minVal))) {\n            this.initMin = this.getDateObject('12:00:00 AM');\n        }\n        if (isNullOrUndefined(this.checkDateValue(maxVal))) {\n            this.initMax = this.getDateObject('11:59:59 PM');\n        }\n    };\n    //protected function\n    TimePicker.prototype.validateMinMax = function (dateVal, minVal, maxVal) {\n        var value = dateVal instanceof Date ? dateVal : this.getDateObject(dateVal);\n        if (!isNullOrUndefined(this.checkDateValue(value))) {\n            dateVal = this.strictOperation(this.initMin, this.initMax, dateVal, value);\n        }\n        else if (+(this.createDateObj(this.getFormattedValue(this.initMin))) >\n            +(this.createDateObj(this.getFormattedValue(this.initMax)))) {\n            this.disableTimeIcon();\n        }\n        if (this.strictMode) {\n            dateVal = this.valueIsDisable(dateVal) ? dateVal : null;\n        }\n        this.checkErrorState(dateVal);\n        return dateVal;\n    };\n    TimePicker.prototype.valueIsDisable = function (value) {\n        if (this.disableItemCollection.length > 0) {\n            if (this.disableItemCollection.length === this.timeCollections.length) {\n                return false;\n            }\n            var time = value instanceof Date ? this.objToString(value) : value;\n            for (var index = 0; index < this.disableItemCollection.length; index++) {\n                if (time === this.disableItemCollection[index]) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    };\n    TimePicker.prototype.validateState = function (val) {\n        if (!this.strictMode) {\n            if (this.valueIsDisable(val)) {\n                var value = typeof val === 'string' ? this.setCurrentDate(this.getDateObject(val)) :\n                    this.setCurrentDate(this.getDateObject(val));\n                var maxValue = this.setCurrentDate(this.getDateObject(this.initMax));\n                var minValue = this.setCurrentDate(this.getDateObject(this.initMin));\n                if (!isNullOrUndefined(this.checkDateValue(value))) {\n                    if ((+(value) > +(maxValue)) || (+(value) < +(minValue))) {\n                        return false;\n                    }\n                }\n                else {\n                    if ((+(maxValue) < +(minValue)) || this.inputElement.value !== '') {\n                        return false;\n                    }\n                }\n            }\n            else {\n                return false;\n            }\n        }\n        return true;\n    };\n    TimePicker.prototype.strictOperation = function (minimum, maximum, dateVal, val) {\n        var maxValue = this.createDateObj(this.getFormattedValue(maximum));\n        var minValue = this.createDateObj(this.getFormattedValue(minimum));\n        var value = this.createDateObj(this.getFormattedValue(val));\n        if (this.strictMode) {\n            if (+minValue > +maxValue) {\n                this.disableTimeIcon();\n                this.initValue = this.getDateObject(maxValue);\n                this.updateInputValue(this.getValue(this.initValue));\n                return this.inputElement.value;\n            }\n            else if (+minValue >= +value) {\n                return this.getDateObject(minValue);\n            }\n            else if (+value >= +maxValue || +minValue === +maxValue) {\n                return this.getDateObject(maxValue);\n            }\n        }\n        else {\n            if (+minValue > +maxValue) {\n                this.disableTimeIcon();\n                if (!isNaN(+this.createDateObj(dateVal))) {\n                    return dateVal;\n                }\n            }\n        }\n        return dateVal;\n    };\n    TimePicker.prototype.bindEvents = function () {\n        EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', (this.isBlazorServer ? this.preventEventBubbling : this.popupHandler), this);\n        EventHandler.add(this.inputElement, 'blur', this.inputBlurHandler, this);\n        EventHandler.add(this.inputElement, 'focus', this.inputFocusHandler, this);\n        EventHandler.add(this.inputElement, 'change', this.inputChangeHandler, this);\n        if (this.showClearButton && this.inputWrapper.clearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.clearHandler, this);\n        }\n        if (this.formElement) {\n            EventHandler.add(this.formElement, 'reset', this.formResetHandler, this);\n        }\n        if (!Browser.isDevice) {\n            this.keyConfigure = extend(this.keyConfigure, this.keyConfigs);\n            this.inputEvent = new KeyboardEvents(this.inputWrapper.container, {\n                keyAction: this.inputHandler.bind(this),\n                keyConfigs: this.keyConfigure,\n                eventName: 'keydown'\n            });\n            if (this.showClearButton && this.inputElement) {\n                EventHandler.add(this.inputElement, 'mousedown', this.mouseDownHandler, this);\n            }\n        }\n    };\n    TimePicker.prototype.formResetHandler = function () {\n        if (!this.enabled) {\n            return;\n        }\n        if (!this.inputElement.disabled) {\n            var timeValue = this.inputElement.getAttribute('value');\n            var val = this.isBlazorServer ? this.inputEleValue : this.checkDateValue(this.inputEleValue);\n            if (this.element.tagName === 'EJS-TIMEPICKER') {\n                val = null;\n                timeValue = '';\n                this.inputElement.setAttribute('value', '');\n            }\n            if (!this.isBlazorServer) {\n                this.setProperties({ value: val }, true);\n                this.prevDate = this.value;\n                this.valueWithMinutes = this.value;\n                this.initValue = this.value;\n            }\n            if (this.inputElement) {\n                this.updateInputValue(timeValue);\n                if (!this.isBlazorServer) {\n                    this.checkErrorState(timeValue);\n                }\n                this.prevValue = this.inputElement.value;\n            }\n        }\n    };\n    TimePicker.prototype.inputChangeHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        e.stopPropagation();\n    };\n    TimePicker.prototype.unBindEvents = function () {\n        if (this.inputWrapper) {\n            EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown touchstart', (this.isBlazorServer ? this.preventEventBubbling : this.popupHandler));\n        }\n        EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n        EventHandler.remove(this.inputElement, 'focus', this.inputFocusHandler);\n        EventHandler.remove(this.inputElement, 'change', this.inputChangeHandler);\n        if (this.inputEvent) {\n            this.inputEvent.destroy();\n        }\n        EventHandler.remove(this.inputElement, 'mousedown touchstart', this.mouseDownHandler);\n        if (this.showClearButton && !isNullOrUndefined(this.inputWrapper.clearButton)) {\n            EventHandler.remove(this.inputWrapper.clearButton, 'mousedown touchstart', this.clearHandler);\n        }\n        if (this.formElement) {\n            EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n        }\n    };\n    TimePicker.prototype.bindClearEvent = function () {\n        if (this.showClearButton && this.inputWrapper.clearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.clearHandler, this);\n        }\n    };\n    TimePicker.prototype.raiseClearedEvent = function (e) {\n        var clearedArgs = {\n            event: e\n        };\n        this.trigger('cleared', clearedArgs);\n    };\n    TimePicker.prototype.clearHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        e.preventDefault();\n        if (!isNullOrUndefined(this.value)) {\n            this.clear(e);\n        }\n        else {\n            this.resetState();\n            this.raiseClearedEvent(e);\n        }\n        if (this.isBlazorServer) {\n            // tslint:disable\n            this.interopAdaptor.invokeMethodAsync('OnValueCleared');\n            // tslint:enable\n        }\n        if (this.popupWrapper) {\n            this.popupWrapper.scrollTop = 0;\n        }\n    };\n    TimePicker.prototype.clear = function (event) {\n        if (!this.isBlazorServer) {\n            this.setProperties({ value: null }, true);\n        }\n        this.initValue = null;\n        this.resetState();\n        this.raiseClearedEvent(event);\n        if (!this.isBlazorServer) {\n            this.changeEvent(event);\n        }\n    };\n    TimePicker.prototype.setZIndex = function () {\n        if (this.popupObj) {\n            this.popupObj.zIndex = this.zIndex;\n            this.popupObj.dataBind();\n        }\n    };\n    TimePicker.prototype.checkAttributes = function (isDynamic) {\n        var attributes = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) :\n            ['step', 'disabled', 'readonly', 'style', 'name', 'value', 'min', 'max', 'placeholder'];\n        var value;\n        for (var _i = 0, attributes_1 = attributes; _i < attributes_1.length; _i++) {\n            var prop = attributes_1[_i];\n            if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) {\n                switch (prop) {\n                    case 'disabled':\n                        // tslint:disable-next-line\n                        if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['enabled'] === undefined)) || isDynamic) {\n                            var enabled = this.inputElement.getAttribute(prop) === 'disabled' || this.inputElement.getAttribute(prop) === '' ||\n                                this.inputElement.getAttribute(prop) === 'true' ? false : true;\n                            this.setProperties({ enabled: enabled }, !isDynamic);\n                        }\n                        break;\n                    case 'style':\n                        this.inputStyle = this.inputElement.getAttribute(prop);\n                        break;\n                    case 'readonly':\n                        // tslint:disable-next-line\n                        if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['readonly'] === undefined)) || isDynamic) {\n                            var readonly = this.inputElement.getAttribute(prop) === 'readonly' || this.inputElement.getAttribute(prop) === '' ||\n                                this.inputElement.getAttribute(prop) === 'true' ? true : false;\n                            this.setProperties({ readonly: readonly }, !isDynamic);\n                        }\n                        break;\n                    case 'name':\n                        this.inputElement.setAttribute('name', this.inputElement.getAttribute(prop));\n                        break;\n                    case 'step':\n                        this.step = parseInt(this.inputElement.getAttribute(prop), 10);\n                        break;\n                    case 'placeholder':\n                        // tslint:disable-next-line\n                        if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['placeholder'] === undefined)) || isDynamic) {\n                            this.setProperties({ placeholder: this.inputElement.getAttribute(prop) }, !isDynamic);\n                        }\n                        break;\n                    case 'min':\n                        if (!this.isBlazorServer) {\n                            // tslint:disable-next-line\n                            if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['min'] === undefined)) || isDynamic) {\n                                value = new Date(this.inputElement.getAttribute(prop));\n                                if (!isNullOrUndefined(this.checkDateValue(value))) {\n                                    this.setProperties({ min: value }, !isDynamic);\n                                }\n                            }\n                        }\n                        break;\n                    case 'max':\n                        if (!this.isBlazorServer) {\n                            // tslint:disable-next-line\n                            if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['max'] === undefined)) || isDynamic) {\n                                value = new Date(this.inputElement.getAttribute(prop));\n                                if (!isNullOrUndefined(this.checkDateValue(value))) {\n                                    this.setProperties({ max: value }, !isDynamic);\n                                }\n                            }\n                        }\n                        break;\n                    case 'value':\n                        if (!this.isBlazorServer) {\n                            // tslint:disable-next-line\n                            if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['value'] === undefined)) || isDynamic) {\n                                value = new Date(this.inputElement.getAttribute(prop));\n                                if (!isNullOrUndefined(this.checkDateValue(value))) {\n                                    this.initValue = value;\n                                    this.updateInput(false, this.initValue);\n                                    this.setProperties({ value: value }, !isDynamic);\n                                }\n                            }\n                        }\n                        break;\n                }\n            }\n        }\n    };\n    TimePicker.prototype.setCurrentDate = function (value) {\n        if (isNullOrUndefined(this.checkDateValue(value))) {\n            return null;\n        }\n        return new Date(YEAR, MONTH, DAY, value.getHours(), value.getMinutes(), value.getSeconds());\n    };\n    TimePicker.prototype.getTextFormat = function () {\n        var time = 0;\n        if (this.cldrTimeFormat().split(' ')[0] === 'a' || this.cldrTimeFormat().indexOf('a') === 0) {\n            time = 1;\n        }\n        else if (this.cldrTimeFormat().indexOf('a') < 0) {\n            var strArray = this.cldrTimeFormat().split(' ');\n            for (var i = 0; i < strArray.length; i++) {\n                if (strArray[i].toLowerCase().indexOf('h') >= 0) {\n                    time = i;\n                    break;\n                }\n            }\n        }\n        return time;\n    };\n    TimePicker.prototype.updateValue = function (value, event) {\n        var val;\n        if (this.isNullOrEmpty(value)) {\n            this.resetState();\n        }\n        else {\n            val = this.checkValue(value);\n            if (this.strictMode) {\n                // this case set previous value to the text box when set invalid date\n                var inputVal = (val === null && value.trim().length > 0) ?\n                    this.previousState(this.prevDate) : this.inputElement.value;\n                this.updateInputValue(inputVal);\n            }\n        }\n        this.checkValueChange(event, typeof value === 'string' ? false : true);\n    };\n    TimePicker.prototype.previousState = function (date) {\n        var value = this.getDateObject(date);\n        for (var i = 0; i < this.timeCollections.length; i++) {\n            if (+value === this.timeCollections[i]) {\n                this.activeIndex = i;\n                this.selectedElement = this.liCollections[i];\n                this.valueWithMinutes = new Date(this.timeCollections[i]);\n                break;\n            }\n        }\n        return this.prevValue;\n    };\n    TimePicker.prototype.resetState = function () {\n        this.removeSelection();\n        Input.setValue('', this.inputElement, this.floatLabelType, false);\n        this.valueWithMinutes = this.activeIndex = null;\n        if (!this.strictMode && !this.isBlazorServer) {\n            this.checkErrorState(null);\n        }\n    };\n    TimePicker.prototype.objToString = function (val) {\n        if (isNullOrUndefined(this.checkDateValue(val))) {\n            return null;\n        }\n        else {\n            return this.globalize.formatDate(val, { format: this.cldrTimeFormat(), type: 'time' });\n        }\n    };\n    TimePicker.prototype.checkValue = function (value) {\n        if (!this.isNullOrEmpty(value)) {\n            var date = value instanceof Date ? value : this.getDateObject(value);\n            return this.validateValue(date, value);\n        }\n        this.resetState();\n        return this.valueWithMinutes = null;\n    };\n    TimePicker.prototype.validateValue = function (date, value) {\n        var time;\n        var val = this.validateMinMax(value, this.min, this.max);\n        var newval = this.createDateObj(val);\n        if (this.getFormattedValue(newval) !== this.getFormattedValue(this.value)) {\n            this.valueWithMinutes = isNullOrUndefined(newval) ? null : newval;\n            time = this.objToString(this.valueWithMinutes);\n        }\n        else {\n            if (this.strictMode) {\n                //for strict mode case, when value not present within a range. Reset the nearest range value.\n                date = newval;\n            }\n            this.valueWithMinutes = this.checkDateValue(date);\n            time = this.objToString(this.valueWithMinutes);\n        }\n        if (!this.strictMode && isNullOrUndefined(time)) {\n            var value_1 = val.trim().length > 0 ? val : '';\n            this.updateInputValue(value_1);\n        }\n        else {\n            this.updateInputValue(time);\n        }\n        return time;\n    };\n    TimePicker.prototype.findNextElement = function (event) {\n        var textVal = (this.inputElement).value;\n        var value = isNullOrUndefined(this.valueWithMinutes) || this.isBlazorServer ? this.createDateObj(textVal) :\n            this.getDateObject(this.valueWithMinutes);\n        var timeVal = null;\n        var count = this.liCollections.length;\n        var collections = this.isBlazorServer ? (isNullOrUndefined(this.blazorTimeCollections) ? [] :\n            this.blazorTimeCollections) : this.timeCollections;\n        if (!isNullOrUndefined(this.checkDateValue(value)) || !isNullOrUndefined(this.activeIndex)) {\n            if (event.action === 'home') {\n                var index = this.validLiElement(0);\n                if (!this.isBlazorServer) {\n                    timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\n                }\n                this.activeIndex = index;\n            }\n            else if (event.action === 'end') {\n                var index = this.validLiElement(collections.length - 1, true);\n                if (!this.isBlazorServer) {\n                    timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\n                }\n                this.activeIndex = index;\n            }\n            else {\n                if (event.action === 'down') {\n                    for (var i = 0; i < count; i++) {\n                        if (this.isBlazorServer ? (+value < +this.createDateObj(this.blazorTimeCollections[i])) :\n                            (+value < this.timeCollections[i])) {\n                            var index = this.validLiElement(i);\n                            if (!this.isBlazorServer) {\n                                timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\n                            }\n                            this.activeIndex = index;\n                            break;\n                        }\n                        else if (i === count - 1) {\n                            var index = this.validLiElement(0);\n                            if (!this.isBlazorServer) {\n                                timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\n                            }\n                            this.activeIndex = index;\n                            break;\n                        }\n                    }\n                }\n                else {\n                    for (var i = count - 1; i >= 0; i--) {\n                        if (this.isBlazorServer ? (+value > +this.createDateObj(this.blazorTimeCollections[i])) :\n                            (+value > this.timeCollections[i])) {\n                            var index = this.validLiElement(i, true);\n                            if (!this.isBlazorServer) {\n                                timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\n                            }\n                            this.activeIndex = index;\n                            break;\n                        }\n                        else if (i === 0) {\n                            var index = this.validLiElement(count - 1);\n                            if (!this.isBlazorServer) {\n                                timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\n                            }\n                            this.activeIndex = index;\n                            break;\n                        }\n                    }\n                }\n            }\n            this.selectedElement = this.liCollections[this.activeIndex];\n            if (this.isBlazorServer) {\n                this.inputElement.setAttribute('value', this.selectedElement.getAttribute('data-value'));\n                // tslint:disable-next-line\n                this.interopAdaptor.invokeMethodAsync('OnListItemClick', this.activeIndex, true);\n            }\n            else {\n                this.elementValue(isNullOrUndefined(timeVal) ? null : new Date(timeVal));\n            }\n        }\n        else {\n            this.selectNextItem(event);\n        }\n    };\n    TimePicker.prototype.selectNextItem = function (event) {\n        var index = this.validLiElement(0, event.action === 'down' ? false : true);\n        this.activeIndex = index;\n        this.selectedElement = this.liCollections[index];\n        if (this.isBlazorServer) {\n            this.inputElement.setAttribute('value', this.selectedElement.getAttribute('data-value'));\n            // tslint:disable-next-line\n            this.interopAdaptor.invokeMethodAsync('OnListItemClick', index, true);\n        }\n        else {\n            this.elementValue(new Date(this.timeCollections[index]));\n        }\n    };\n    TimePicker.prototype.findNextInBlazor = function (event) {\n        var count = isNullOrUndefined(this.blazorTimeCollections) ? 0 : this.blazorTimeCollections.length;\n        var index = 0;\n        var value = this.createDateObj(this.inputElement.value);\n        switch (event.action) {\n            case 'home':\n                this.activeIndex = index;\n                break;\n            case 'end':\n                index = count - 1;\n                this.activeIndex = index;\n                break;\n            case 'down':\n                for (var i = 0; i < count; i++) {\n                    if (this.isBlazorServer ? (+value < +this.createDateObj(this.blazorTimeCollections[i])) :\n                        (+value < this.timeCollections[i])) {\n                        var index_1 = this.validLiElement(i);\n                        this.activeIndex = index_1;\n                        break;\n                    }\n                    else if (i === count - 1) {\n                        var index_2 = this.validLiElement(0);\n                        this.activeIndex = index_2;\n                        break;\n                    }\n                }\n                break;\n            case 'up':\n                for (var i = count - 1; i >= 0; i--) {\n                    if (this.isBlazorServer ? (+value > +this.createDateObj(this.blazorTimeCollections[i])) :\n                        (+value > this.timeCollections[i])) {\n                        var index_3 = this.validLiElement(i, true);\n                        this.activeIndex = index_3;\n                        break;\n                    }\n                    else if (i === 0) {\n                        var index_4 = this.validLiElement(count - 1);\n                        this.activeIndex = index_4;\n                        break;\n                    }\n                }\n                break;\n        }\n        // tslint:disable-next-line\n        this.interopAdaptor.invokeMethodAsync('OnListItemClick', this.activeIndex, true);\n    };\n    TimePicker.prototype.elementValue = function (value) {\n        if (!isNullOrUndefined(this.checkDateValue(value))) {\n            this.checkValue(value);\n        }\n    };\n    TimePicker.prototype.validLiElement = function (index, backward) {\n        var elementIndex = null;\n        if (this.isBlazorServer && isNullOrUndefined(this.popupWrapper)) {\n            var items = this.blazorTimeCollections;\n            if (items.length) {\n                if (backward) {\n                    for (var i = index; i >= 0; i--) {\n                        elementIndex = i;\n                        break;\n                    }\n                }\n                else {\n                    for (var i = index; i <= items.length - 1; i++) {\n                        elementIndex = i;\n                        break;\n                    }\n                }\n            }\n        }\n        else {\n            var items = isNullOrUndefined(this.popupWrapper) ? this.liCollections :\n                this.popupWrapper.querySelectorAll('.' + LISTCLASS);\n            var isCheck = true;\n            if (items.length) {\n                if (backward) {\n                    for (var i = index; i >= 0; i--) {\n                        if (!items[i].classList.contains(DISABLED)) {\n                            elementIndex = i;\n                            break;\n                        }\n                        else if (i === 0) {\n                            if (isCheck) {\n                                index = i = items.length;\n                                isCheck = false;\n                            }\n                        }\n                    }\n                }\n                else {\n                    for (var i = index; i <= items.length - 1; i++) {\n                        if (!items[i].classList.contains(DISABLED)) {\n                            elementIndex = i;\n                            break;\n                        }\n                        else if (i === items.length - 1) {\n                            if (isCheck) {\n                                index = i = -1;\n                                isCheck = false;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        return elementIndex;\n    };\n    TimePicker.prototype.keyHandler = function (event) {\n        if (isNullOrUndefined(this.step) || this.step <= 0 || this.inputWrapper.buttons[0].classList.contains(DISABLED)) {\n            return;\n        }\n        var count = this.isBlazorServer ? (isNullOrUndefined(this.blazorTimeCollections) ? 0 :\n            this.blazorTimeCollections.length) : this.timeCollections.length;\n        if (isNullOrUndefined(this.getActiveElement()) || this.getActiveElement().length === 0) {\n            if (isNullOrUndefined(this.popupObj) && this.isBlazorServer) {\n                if (isNullOrUndefined(this.activeIndex)) {\n                    var index = this.validLiElement(0, event.action === 'down' ? false : true);\n                    this.activeIndex = index;\n                    // tslint:disable-next-line\n                    this.interopAdaptor.invokeMethodAsync('OnListItemClick', index, true);\n                }\n                else {\n                    this.findNextInBlazor(event);\n                }\n            }\n            else {\n                if (this.liCollections.length > 0) {\n                    if (this.isBlazorServer ? (isNullOrUndefined(this.activeIndex)) : (isNullOrUndefined(this.value) &&\n                        isNullOrUndefined(this.activeIndex))) {\n                        this.selectNextItem(event);\n                    }\n                    else {\n                        this.findNextElement(event);\n                    }\n                }\n                else {\n                    this.findNextElement(event);\n                }\n            }\n        }\n        else {\n            var nextItem = void 0;\n            if ((event.keyCode >= 37) && (event.keyCode <= 40)) {\n                var index = (event.keyCode === 40 || event.keyCode === 39) ? ++this.activeIndex : --this.activeIndex;\n                this.activeIndex = index = this.activeIndex === (count) ? 0 : this.activeIndex;\n                this.activeIndex = index = this.activeIndex < 0 ? (count - 1) : this.activeIndex;\n                this.activeIndex = index = this.validLiElement(this.activeIndex, (event.keyCode === 40 || event.keyCode === 39) ?\n                    false : true);\n                if (!this.isBlazorServer) {\n                    nextItem = isNullOrUndefined(this.timeCollections[index]) ? this.timeCollections[0] : this.timeCollections[index];\n                }\n            }\n            else if (event.action === 'home') {\n                var index = this.validLiElement(0);\n                this.activeIndex = index;\n                if (!this.isBlazorServer) {\n                    nextItem = this.timeCollections[index];\n                }\n            }\n            else if (event.action === 'end') {\n                var index = this.validLiElement(count - 1, true);\n                this.activeIndex = index;\n                if (!this.isBlazorServer) {\n                    nextItem = this.timeCollections[index];\n                }\n            }\n            this.selectedElement = this.liCollections[this.activeIndex];\n            if (this.isBlazorServer) {\n                this.inputElement.setAttribute('value', this.selectedElement.getAttribute('data-value'));\n                // tslint:disable-next-line\n                this.interopAdaptor.invokeMethodAsync('OnListItemClick', this.activeIndex, true);\n            }\n            else {\n                this.elementValue(new Date(nextItem));\n            }\n        }\n        this.isNavigate = true;\n        this.setHover(this.selectedElement, NAVIGATION);\n        this.setActiveDescendant();\n        if (!this.isBlazorServer) {\n            this.selectInputText();\n        }\n        if (this.isPopupOpen() && this.selectedElement !== null && (!event || event.type !== 'click')) {\n            this.setScrollPosition();\n        }\n    };\n    TimePicker.prototype.getCultureTimeObject = function (ld, c) {\n        return isBlazor() ? (getValue('t', getValue(c, blazorCultureFormats))).replace(/tt/, 'a') :\n            getValue('main.' + c + '.dates.calendars.gregorian.timeFormats.short', ld);\n    };\n    TimePicker.prototype.getCultureDateObject = function (ld, c) {\n        return isBlazor() ? (getValue('d', getValue(c, blazorCultureFormats))) :\n            getValue('main.' + c + '.dates.calendars.gregorian.dateFormats.short', ld);\n    };\n    TimePicker.prototype.wireListEvents = function () {\n        EventHandler.add(this.listWrapper, 'click', this.onMouseClick, this);\n        if (!Browser.isDevice) {\n            EventHandler.add(this.listWrapper, 'mouseover', this.onMouseOver, this);\n            EventHandler.add(this.listWrapper, 'mouseout', this.onMouseLeave, this);\n        }\n    };\n    TimePicker.prototype.unWireListEvents = function () {\n        if (this.listWrapper) {\n            EventHandler.remove(this.listWrapper, 'click', this.onMouseClick);\n            if (!Browser.isDevice) {\n                EventHandler.remove(this.listWrapper, 'mouseover', this.onMouseOver);\n                EventHandler.remove(this.listWrapper, 'mouseout', this.onMouseLeave);\n            }\n        }\n    };\n    TimePicker.prototype.valueProcess = function (event, value) {\n        var result = (isNullOrUndefined(this.checkDateValue(value))) ? null : value;\n        if (+this.prevDate !== +result) {\n            this.initValue = result;\n            this.changeEvent(event);\n        }\n    };\n    TimePicker.prototype.changeEvent = function (e) {\n        this.addSelection();\n        this.updateInput(true, this.initValue);\n        var eventArgs = {\n            event: (e || null),\n            value: this.value,\n            text: (this.inputElement).value,\n            isInteracted: !isNullOrUndefined(e),\n            element: this.element\n        };\n        eventArgs.value = this.valueWithMinutes || this.getDateObject(this.inputElement.value);\n        this.prevDate = this.valueWithMinutes || this.getDateObject(this.inputElement.value);\n        if (this.isAngular && this.preventChange) {\n            this.preventChange = false;\n        }\n        else {\n            this.trigger('change', eventArgs);\n        }\n        this.invalidValueString = null;\n        this.checkErrorState(this.value);\n    };\n    TimePicker.prototype.updateInput = function (isUpdate, date) {\n        if (isUpdate) {\n            this.prevValue = this.getValue(date);\n        }\n        this.prevDate = this.valueWithMinutes = date;\n        if ((typeof date !== 'number') || (this.value && +new Date(+this.value).setMilliseconds(0)) !== +date) {\n            this.setProperties({ value: date }, true);\n        }\n        if (!this.strictMode && isNullOrUndefined(this.value) && this.invalidValueString) {\n            this.checkErrorState(this.invalidValueString);\n            this.updateInputValue(this.invalidValueString);\n        }\n        this.clearIconState();\n    };\n    TimePicker.prototype.setActiveDescendant = function () {\n        if (!isNullOrUndefined(this.selectedElement)) {\n            attributes(this.inputElement, { 'aria-activedescendant': this.selectedElement.getAttribute('id') });\n        }\n        else {\n            attributes(this.inputElement, { 'aria-activedescendant': 'null' });\n        }\n    };\n    TimePicker.prototype.removeSelection = function () {\n        this.removeHover(HOVER);\n        if (!isNullOrUndefined(this.popupWrapper)) {\n            var items = this.popupWrapper.querySelectorAll('.' + SELECTED);\n            if (items.length) {\n                removeClass(items, SELECTED);\n                items[0].removeAttribute('aria-selected');\n            }\n        }\n    };\n    TimePicker.prototype.removeHover = function (className) {\n        var hoveredItem = this.getHoverItem(className);\n        if (hoveredItem && hoveredItem.length) {\n            removeClass(hoveredItem, className);\n            if (className === NAVIGATION) {\n                hoveredItem[0].removeAttribute('aria-selected');\n            }\n        }\n    };\n    TimePicker.prototype.getHoverItem = function (className) {\n        var hoveredItem;\n        if (!isNullOrUndefined(this.popupWrapper)) {\n            hoveredItem = this.popupWrapper.querySelectorAll('.' + className);\n        }\n        return hoveredItem;\n    };\n    TimePicker.prototype.setActiveClass = function () {\n        if (!isNullOrUndefined(this.popupWrapper)) {\n            var items = this.popupWrapper.querySelectorAll('.' + LISTCLASS);\n            if (items.length) {\n                for (var i = 0; i < items.length; i++) {\n                    if ((!this.isBlazorServer && this.timeCollections[i] === +this.getDateObject(this.valueWithMinutes))\n                        || (this.isBlazorServer && this.blazorTimeCollections[i] === this.blazorTimeCollections[this.activeIndex])) {\n                        items[i].setAttribute('aria-selected', 'true');\n                        this.selectedElement = items[i];\n                        this.activeIndex = i;\n                        break;\n                    }\n                }\n            }\n        }\n    };\n    TimePicker.prototype.addSelection = function () {\n        this.selectedElement = null;\n        this.removeSelection();\n        this.setActiveClass();\n        if (!isNullOrUndefined(this.selectedElement)) {\n            addClass([this.selectedElement], SELECTED);\n            this.selectedElement.setAttribute('aria-selected', 'true');\n        }\n    };\n    TimePicker.prototype.isValidLI = function (li) {\n        return (li && li.classList.contains(LISTCLASS) && !li.classList.contains(DISABLED));\n    };\n    TimePicker.prototype.createDateObj = function (val) {\n        var formatStr = isBlazor() ?\n            // tslint:disable-next-line\n            'M' + getDefaultDateObject().dateSeperator + 'd' + getDefaultDateObject().dateSeperator + 'yy'\n            : null;\n        var today = this.globalize.formatDate(new Date(), { format: formatStr, skeleton: 'short', type: 'date' });\n        var value = null;\n        if (typeof val === 'string') {\n            if (val.toUpperCase().indexOf('AM') > -1 || val.toUpperCase().indexOf('PM') > -1) {\n                today = this.defaultCulture.formatDate(new Date(), { format: formatStr, skeleton: 'short', type: 'date' });\n                value = isNaN(+new Date(today + ' ' + val)) ? null : new Date(new Date(today + ' ' + val).setMilliseconds(0));\n                if (isNullOrUndefined(value)) {\n                    value = this.TimeParse(today, val);\n                }\n            }\n            else {\n                value = this.TimeParse(today, val);\n            }\n        }\n        else if (val instanceof Date) {\n            value = val;\n        }\n        return value;\n    };\n    TimePicker.prototype.TimeParse = function (today, val) {\n        var value;\n        value = this.globalize.parseDate(today + ' ' + val, {\n            format: this.cldrDateFormat() + ' ' + this.cldrTimeFormat(), type: 'datetime'\n        });\n        value = isNullOrUndefined(value) ? this.globalize.parseDate(today + ' ' + val, {\n            format: this.cldrDateFormat() + ' ' + this.dateToNumeric(), type: 'datetime'\n        }) : value;\n        value = isNullOrUndefined(value) ? value : new Date(value.setMilliseconds(0));\n        return value;\n    };\n    TimePicker.prototype.createListItems = function () {\n        var _this = this;\n        this.listWrapper = this.createElement('div', { className: CONTENT, attrs: { 'tabindex': '0' } });\n        var start;\n        var end;\n        var interval = this.step * 60000;\n        var listItems = [];\n        this.timeCollections = [];\n        this.disableItemCollection = [];\n        start = +(this.getDateObject(this.initMin).setMilliseconds(0));\n        end = +(this.getDateObject(this.initMax).setMilliseconds(0));\n        while (end >= start) {\n            this.timeCollections.push(start);\n            listItems.push(this.globalize.formatDate(new Date(start), { format: this.cldrTimeFormat(), type: 'time' }));\n            start += interval;\n        }\n        var listBaseOptions = {\n            itemCreated: function (args) {\n                var eventArgs = {\n                    element: args.item,\n                    text: args.text, value: _this.getDateObject(args.text), isDisabled: false\n                };\n                _this.trigger('itemRender', eventArgs, function (eventArgs) {\n                    if (eventArgs.isDisabled) {\n                        eventArgs.element.classList.add(DISABLED);\n                    }\n                    if (eventArgs.element.classList.contains(DISABLED)) {\n                        _this.disableItemCollection.push(eventArgs.element.getAttribute('data-value'));\n                    }\n                });\n            }\n        };\n        this.listTag = ListBase.createList(this.createElement, listItems, listBaseOptions, true);\n        attributes(this.listTag, { 'role': 'listbox', 'aria-hidden': 'false', 'id': this.element.id + '_options' });\n        append([this.listTag], this.listWrapper);\n    };\n    TimePicker.prototype.documentClickHandler = function (event) {\n        var target = event.target;\n        if ((!isNullOrUndefined(this.popupObj) && (this.inputWrapper.container.contains(target) ||\n            (this.popupObj.element && this.popupObj.element.contains(target)))) && event.type !== 'touchstart') {\n            event.preventDefault();\n        }\n        if (!(closest(target, '[id=\"' + this.popupObj.element.id + '\"]')) && target !== this.inputElement\n            && target !== (this.inputWrapper && this.inputWrapper.buttons[0]) &&\n            target !== (this.inputWrapper && this.inputWrapper.clearButton) &&\n            target !== (this.inputWrapper && this.inputWrapper.container)) {\n            if (this.isPopupOpen()) {\n                this.hide();\n                this.focusOut();\n            }\n        }\n        else if (target !== this.inputElement) {\n            if (!Browser.isDevice) {\n                this.isPreventBlur = (Browser.isIE || Browser.info.name === 'edge') && (document.activeElement === this.inputElement)\n                    && (target === this.popupWrapper);\n            }\n        }\n    };\n    TimePicker.prototype.setEnableRtl = function () {\n        Input.setEnableRtl(this.enableRtl, [this.inputWrapper.container]);\n        if (this.popupObj) {\n            this.popupObj.enableRtl = this.enableRtl;\n            this.popupObj.dataBind();\n        }\n    };\n    TimePicker.prototype.setEnable = function () {\n        Input.setEnabled(this.enabled, this.inputElement, this.floatLabelType);\n        if (this.enabled) {\n            removeClass([this.inputWrapper.container], DISABLED);\n            attributes(this.inputElement, { 'aria-disabled': 'false' });\n            this.inputElement.setAttribute('tabindex', this.tabIndex);\n        }\n        else {\n            this.hide();\n            addClass([this.inputWrapper.container], DISABLED);\n            attributes(this.inputElement, { 'aria-disabled': 'true' });\n            this.inputElement.tabIndex = -1;\n        }\n    };\n    TimePicker.prototype.getProperty = function (date, val) {\n        if (val === 'min') {\n            this.initMin = this.checkDateValue(new Date(this.checkInValue(date.min)));\n            this.setProperties({ min: this.initMin }, true);\n        }\n        else {\n            this.initMax = this.checkDateValue(new Date(this.checkInValue(date.max)));\n            this.setProperties({ max: this.initMax }, true);\n        }\n        if (this.inputElement.value === '') {\n            this.validateMinMax(this.value, this.min, this.max);\n        }\n        else {\n            this.checkValue(this.inputElement.value);\n        }\n        this.checkValueChange(null, false);\n    };\n    TimePicker.prototype.inputBlurHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        // IE popup closing issue when click over the scrollbar\n        if (this.isPreventBlur && this.isPopupOpen()) {\n            this.inputElement.focus();\n            return;\n        }\n        this.closePopup(0, e);\n        removeClass([this.inputWrapper.container], [FOCUS]);\n        var blurArguments = {\n            model: this.isBlazorServer ? null : this,\n        };\n        this.trigger('blur', blurArguments);\n        if (!this.isBlazorServer && this.getText() !== this.inputElement.value) {\n            this.updateValue((this.inputElement).value, e);\n        }\n        else if (this.inputElement.value.trim().length === 0) {\n            this.resetState();\n        }\n        if (this.isBlazorServer) {\n            // tslint:disable-next-line\n            this.interopAdaptor.invokeMethodAsync('OnStrictMode', this.inputElement.value);\n        }\n        this.cursorDetails = null;\n        this.isNavigate = false;\n        if (this.inputElement.value === '') {\n            this.invalidValueString = null;\n        }\n    };\n    /**\n     * Focuses out the TimePicker textbox element.\n     * @returns void\n     */\n    TimePicker.prototype.focusOut = function () {\n        if (document.activeElement === this.inputElement) {\n            this.inputElement.blur();\n            removeClass([this.inputWrapper.container], [FOCUS]);\n            var blurArguments = {\n                model: this.isBlazorServer ? null : this\n            };\n            this.trigger('blur', blurArguments);\n        }\n    };\n    TimePicker.prototype.isPopupOpen = function () {\n        if (this.popupWrapper && this.popupWrapper.classList.contains('' + ROOT)) {\n            return true;\n        }\n        return false;\n    };\n    TimePicker.prototype.inputFocusHandler = function () {\n        if (!this.enabled) {\n            return;\n        }\n        var focusArguments = {\n            model: this.isBlazorServer ? null : this\n        };\n        if (!this.readonly && !Browser.isDevice) {\n            this.selectInputText();\n        }\n        this.trigger('focus', focusArguments);\n        this.clearIconState();\n        if (this.openOnFocus) {\n            this.show();\n        }\n    };\n    /**\n     * Focused the TimePicker textbox element.\n     * @returns void\n     */\n    TimePicker.prototype.focusIn = function () {\n        if (document.activeElement !== this.inputElement && this.enabled) {\n            this.inputElement.focus();\n            var focusArguments = {\n                model: this\n            };\n        }\n    };\n    /**\n     * Hides the TimePicker popup.\n     * @returns void\n\n     */\n    TimePicker.prototype.hide = function () {\n        this.closePopup(100, null);\n        this.clearIconState();\n    };\n    /**\n     * Opens the popup to show the list items.\n     * @returns void\n\n     */\n    TimePicker.prototype.show = function (event) {\n        var _this = this;\n        if ((this.enabled && this.readonly) || !this.enabled || this.popupWrapper) {\n            return;\n        }\n        else {\n            this.popupCreation();\n            if (Browser.isDevice && this.listWrapper) {\n                this.modal = this.createElement('div');\n                this.modal.className = '' + ROOT + ' e-time-modal';\n                document.body.className += ' ' + OVERFLOW;\n                document.body.appendChild(this.modal);\n            }\n            if (Browser.isDevice) {\n                this.mobileTimePopupWrap = this.createElement('div', { className: 'e-timepicker-mob-popup-wrap' });\n                document.body.appendChild(this.mobileTimePopupWrap);\n            }\n            this.openPopupEventArgs = {\n                popup: this.isBlazorServer ? null : (this.popupObj || null),\n                cancel: false,\n                event: event || null,\n                name: 'open',\n                appendTo: Browser.isDevice ? this.mobileTimePopupWrap : document.body\n            };\n            var eventArgs = this.openPopupEventArgs;\n            this.trigger('open', eventArgs, function (eventArgs) {\n                if ((isBlazor() && _this.isServerRendered)) {\n                    eventArgs.popup = _this.popupObj || null;\n                }\n                _this.openPopupEventArgs = eventArgs;\n                if (!_this.openPopupEventArgs.cancel && !_this.inputWrapper.buttons[0].classList.contains(DISABLED)) {\n                    if (_this.isBlazorServer) {\n                        _this.popupWrapper.style.visibility = '';\n                        _this.popupWrapper.style.width = _this.inputWrapper.container.offsetWidth + 'px';\n                        _this.popupWrapper.style.height = 'auto';\n                    }\n                    if (_this.isBlazorServer) {\n                        _this.openPopupEventArgs.popup = _this.popupObj;\n                    }\n                    _this.openPopupEventArgs.appendTo.appendChild(_this.popupWrapper);\n                    _this.popupAlignment(_this.openPopupEventArgs);\n                    _this.setScrollPosition();\n                    if (!Browser.isDevice) {\n                        _this.inputElement.focus();\n                    }\n                    var openAnimation = {\n                        name: 'FadeIn',\n                        duration: ANIMATIONDURATION,\n                    };\n                    _this.popupObj.refreshPosition(_this.anchor);\n                    if (_this.zIndex === 1000) {\n                        _this.popupObj.show(new Animation(openAnimation), _this.element);\n                    }\n                    else {\n                        _this.popupObj.show(new Animation(openAnimation), null);\n                    }\n                    _this.setActiveDescendant();\n                    attributes(_this.inputElement, { 'aria-expanded': 'true' });\n                    addClass([_this.inputWrapper.container], FOCUS);\n                    EventHandler.add(document, 'mousedown touchstart', _this.documentClickHandler, _this);\n                    _this.setOverlayIndex(_this.mobileTimePopupWrap, _this.popupObj.element, _this.modal, Browser.isDevice);\n                }\n                else {\n                    _this.popupObj.destroy();\n                    if (_this.isBlazorServer) {\n                        _this.disposeServerPopup();\n                        // tslint:disable\n                        _this.inputWrapper.container.parentElement.insertBefore(_this.popupWrapper, _this.inputWrapper.container.nextElementSibling);\n                        _this.interopAdaptor.invokeMethodAsync('OnPopupHide', false);\n                        // tslint:enable\n                    }\n                    _this.popupWrapper = _this.listTag = undefined;\n                    _this.liCollections = _this.timeCollections = _this.disableItemCollection = [];\n                    _this.popupObj = null;\n                }\n            });\n        }\n    };\n    TimePicker.prototype.setOverlayIndex = function (popupWrapper, timePopupElement, modal, isDevice) {\n        if (isDevice && !isNullOrUndefined(timePopupElement) && !isNullOrUndefined(modal) && !isNullOrUndefined(popupWrapper)) {\n            var index = parseInt(timePopupElement.style.zIndex, 10) ? parseInt(timePopupElement.style.zIndex, 10) : 1000;\n            modal.style.zIndex = (index - 1).toString();\n            popupWrapper.style.zIndex = index.toString();\n        }\n    };\n    TimePicker.prototype.formatValues = function (type) {\n        var value;\n        if (typeof type === 'number') {\n            value = formatUnit(type);\n        }\n        else if (typeof type === 'string') {\n            value = (type.match(/px|%|em/)) ? type : isNaN(parseInt(type, 10)) ? type : formatUnit(type);\n        }\n        return value;\n    };\n    TimePicker.prototype.popupAlignment = function (args) {\n        args.popup.position.X = this.formatValues(args.popup.position.X);\n        args.popup.position.Y = this.formatValues(args.popup.position.Y);\n        if (!isNaN(parseFloat(args.popup.position.X)) || !isNaN(parseFloat(args.popup.position.Y))) {\n            this.popupObj.relateTo = this.anchor = document.body;\n            this.popupObj.targetType = 'container';\n        }\n        if (!isNaN(parseFloat(args.popup.position.X))) {\n            this.popupObj.offsetX = parseFloat(args.popup.position.X);\n        }\n        if (!isNaN(parseFloat(args.popup.position.Y))) {\n            this.popupObj.offsetY = parseFloat(args.popup.position.Y);\n        }\n        if (!Browser.isDevice) {\n            switch (args.popup.position.X) {\n                case 'left':\n                    break;\n                case 'right':\n                    args.popup.offsetX = this.containerStyle.width;\n                    break;\n                case 'center':\n                    args.popup.offsetX = -(this.containerStyle.width / 2);\n                    break;\n            }\n            switch (args.popup.position.Y) {\n                case 'top':\n                    break;\n                case 'bottom':\n                    break;\n                case 'center':\n                    args.popup.offsetY = -(this.containerStyle.height / 2);\n                    break;\n            }\n            if (args.popup.position.X === 'center' && args.popup.position.Y === 'center') {\n                this.popupObj.relateTo = this.inputWrapper.container;\n                this.anchor = this.inputElement;\n                this.popupObj.targetType = 'relative';\n            }\n        }\n        else {\n            if (args.popup.position.X === 'center' && args.popup.position.Y === 'center') {\n                this.popupObj.relateTo = this.anchor = document.body;\n                this.popupObj.offsetY = 0;\n                this.popupObj.targetType = 'container';\n                this.popupObj.collision = { X: 'fit', Y: 'fit' };\n            }\n        }\n    };\n    /**\n     * Gets the properties to be maintained upon browser refresh.\n     * @returns string\n     */\n    TimePicker.prototype.getPersistData = function () {\n        var keyEntity = ['value'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * To get component name\n     * @private\n     */\n    TimePicker.prototype.getModuleName = function () {\n        return 'timepicker';\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * returns void\n     * @private\n     */\n    // tslint:disable-next-line:max-func-body-length\n    TimePicker.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'placeholder':\n                    Input.setPlaceholder(newProp.placeholder, this.inputElement);\n                    this.inputElement.setAttribute('aria-placeholder', newProp.placeholder);\n                    break;\n                case 'readonly':\n                    Input.setReadonly(this.readonly, this.inputElement, this.floatLabelType);\n                    if (this.readonly) {\n                        this.hide();\n                    }\n                    this.setTimeAllowEdit();\n                    break;\n                case 'enabled':\n                    this.setProperties({ enabled: newProp.enabled }, true);\n                    this.setEnable();\n                    break;\n                case 'allowEdit':\n                    this.setTimeAllowEdit();\n                    break;\n                case 'enableRtl':\n                    if (!this.isBlazorServer) {\n                        this.setProperties({ enableRtl: newProp.enableRtl }, true);\n                        this.setEnableRtl();\n                    }\n                    break;\n                case 'cssClass':\n                    this.updateCssClass(newProp.cssClass, oldProp.cssClass);\n                    break;\n                case 'zIndex':\n                    this.setProperties({ zIndex: newProp.zIndex }, true);\n                    this.setZIndex();\n                    break;\n                case 'htmlAttributes':\n                    this.updateHtmlAttributeToElement();\n                    this.updateHtmlAttributeToWrapper();\n                    this.checkAttributes(true);\n                    break;\n                case 'min':\n                case 'max':\n                    if (!this.isBlazorServer) {\n                        this.getProperty(newProp, prop);\n                    }\n                    break;\n                case 'showClearButton':\n                    Input.setClearButton(this.showClearButton, this.inputElement, this.inputWrapper);\n                    this.bindClearEvent();\n                    break;\n                case 'locale':\n                    this.setProperties({ locale: newProp.locale }, true);\n                    this.globalize = new Internationalization(this.locale);\n                    this.l10n.setLocale(this.locale);\n                    this.updatePlaceHolder();\n                    if (!this.isBlazorServer) {\n                        this.setValue(this.value);\n                    }\n                    break;\n                case 'width':\n                    setStyleAttribute(this.inputWrapper.container, { 'width': this.setWidth(newProp.width) });\n                    this.containerStyle = this.inputWrapper.container.getBoundingClientRect();\n                    break;\n                case 'format':\n                    this.setProperties({ format: newProp.format }, true);\n                    this.checkTimeFormat();\n                    if (!this.isBlazorServer) {\n                        this.setValue(this.value);\n                    }\n                    break;\n                case 'value':\n                    if (!this.isBlazorServer) {\n                        this.invalidValueString = null;\n                        this.checkInvalidValue(newProp.value);\n                        newProp.value = this.value;\n                        if (!this.invalidValueString) {\n                            if (typeof newProp.value === 'string') {\n                                this.setProperties({ value: this.checkDateValue(new Date(newProp.value)) }, true);\n                                newProp.value = this.value;\n                            }\n                            else {\n                                if ((newProp.value && +new Date(+newProp.value).setMilliseconds(0)) !== +this.value) {\n                                    newProp.value = this.checkDateValue(new Date('' + newProp.value));\n                                }\n                            }\n                            this.initValue = newProp.value;\n                            newProp.value = this.compareFormatChange(this.checkValue(newProp.value));\n                        }\n                        else {\n                            this.updateInputValue(this.invalidValueString);\n                            this.checkErrorState(this.invalidValueString);\n                        }\n                        this.checkValueChange(null, false);\n                        if (this.isPopupOpen()) {\n                            this.setScrollPosition();\n                        }\n                        if (this.isAngular && this.preventChange) {\n                            this.preventChange = false;\n                        }\n                    }\n                    break;\n                case 'floatLabelType':\n                    this.floatLabelType = newProp.floatLabelType;\n                    Input.removeFloating(this.inputWrapper);\n                    Input.addFloating(this.inputElement, this.floatLabelType, this.placeholder);\n                    break;\n                case 'strictMode':\n                    if (!this.isBlazorServer) {\n                        this.invalidValueString = null;\n                        if (newProp.strictMode) {\n                            this.checkErrorState(null);\n                        }\n                        this.setProperties({ strictMode: newProp.strictMode }, true);\n                        this.checkValue((this.inputElement).value);\n                        this.checkValueChange(null, false);\n                    }\n                    break;\n                case 'scrollTo':\n                    if (!this.isBlazorServer) {\n                        if (this.checkDateValue(new Date(this.checkInValue(newProp.scrollTo)))) {\n                            if (this.popupWrapper) {\n                                this.setScrollTo();\n                            }\n                            this.setProperties({ scrollTo: this.checkDateValue(new Date(this.checkInValue(newProp.scrollTo))) }, true);\n                        }\n                        else {\n                            this.setProperties({ scrollTo: null }, true);\n                        }\n                    }\n                    else {\n                        if (this.popupWrapper) {\n                            this.setScrollTo();\n                        }\n                    }\n                    break;\n            }\n        }\n    };\n    TimePicker.prototype.checkInValue = function (inValue) {\n        if (inValue instanceof Date) {\n            return (inValue.toUTCString());\n        }\n        else {\n            return ('' + inValue);\n        }\n    };\n    __decorate([\n        Property(null)\n    ], TimePicker.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], TimePicker.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], TimePicker.prototype, \"strictMode\", void 0);\n    __decorate([\n        Property(null)\n    ], TimePicker.prototype, \"keyConfigs\", void 0);\n    __decorate([\n        Property(null)\n    ], TimePicker.prototype, \"format\", void 0);\n    __decorate([\n        Property(true)\n    ], TimePicker.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(false)\n    ], TimePicker.prototype, \"readonly\", void 0);\n    __decorate([\n        Property({})\n    ], TimePicker.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property('Never')\n    ], TimePicker.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(null)\n    ], TimePicker.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property(1000)\n    ], TimePicker.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(false)\n    ], TimePicker.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(true)\n    ], TimePicker.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property(30)\n    ], TimePicker.prototype, \"step\", void 0);\n    __decorate([\n        Property(null)\n    ], TimePicker.prototype, \"scrollTo\", void 0);\n    __decorate([\n        Property(null)\n    ], TimePicker.prototype, \"value\", void 0);\n    __decorate([\n        Property(null)\n    ], TimePicker.prototype, \"min\", void 0);\n    __decorate([\n        Property(null)\n    ], TimePicker.prototype, \"max\", void 0);\n    __decorate([\n        Property(true)\n    ], TimePicker.prototype, \"allowEdit\", void 0);\n    __decorate([\n        Property(false)\n    ], TimePicker.prototype, \"openOnFocus\", void 0);\n    __decorate([\n        Event()\n    ], TimePicker.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], TimePicker.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], TimePicker.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], TimePicker.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], TimePicker.prototype, \"itemRender\", void 0);\n    __decorate([\n        Event()\n    ], TimePicker.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], TimePicker.prototype, \"cleared\", void 0);\n    __decorate([\n        Event()\n    ], TimePicker.prototype, \"blur\", void 0);\n    __decorate([\n        Event()\n    ], TimePicker.prototype, \"focus\", void 0);\n    TimePicker = __decorate([\n        NotifyPropertyChanges\n    ], TimePicker);\n    return TimePicker;\n}(Component));\nexport { TimePicker };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}