{"ast":null,"code":"/**\n * Template Engine Bridge\n */\nimport { compile as render } from './template';\nimport { createElement } from './dom';\nimport { isNullOrUndefined, isBlazor } from './util';\nvar HAS_ROW = /^[\\n\\r.]+\\<tr|^\\<tr/;\nvar HAS_SVG = /^[\\n\\r.]+\\<svg|^\\<path|^\\<g/;\nexport var blazorTemplates = {};\nexport function getRandomId() {\n  return '-' + Math.random().toString(36).substr(2, 5);\n}\n/**\n * Compile the template string into template function.\n * @param  {string} templateString - The template string which is going to convert.\n * @param  {Object} helper? - Helper functions as an object.\n * @private\n */\n//tslint:disable-next-line\n\nexport function compile(templateString, helper) {\n  var compiler = engineObj.compile(templateString, helper); //tslint:disable-next-line\n\n  return function (data, component, propName, templateId, isStringTemplate, index, element) {\n    var result = compiler(data, component, propName, element);\n    var blazor = 'Blazor';\n    var blazorTemplateId = 'BlazorTemplateId';\n\n    if (isBlazor() && !isStringTemplate) {\n      var randomId = getRandomId();\n      var blazorId = templateId + randomId;\n\n      if (!blazorTemplates[templateId]) {\n        blazorTemplates[templateId] = [];\n      }\n\n      if (!isNullOrUndefined(index)) {\n        var keys = Object.keys(blazorTemplates[templateId][index]);\n\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n          var key = keys_1[_i];\n\n          if (key !== blazorTemplateId && data[key]) {\n            blazorTemplates[templateId][index][key] = data[key];\n          }\n\n          if (key === blazorTemplateId) {\n            blazorId = blazorTemplates[templateId][index][key];\n          }\n        }\n      } else {\n        data[blazorTemplateId] = blazorId;\n        blazorTemplates[templateId].push(data);\n      } // tslint:disable-next-line:no-any\n\n\n      return propName === 'rowTemplate' ? [createElement('tr', {\n        id: blazorId,\n        className: 'e-blazor-template'\n      })] : // tslint:disable-next-line:no-any\n      [createElement('div', {\n        id: blazorId,\n        className: 'e-blazor-template'\n      })];\n    }\n\n    if (typeof result === 'string') {\n      if (HAS_SVG.test(result)) {\n        var ele = createElement('svg', {\n          innerHTML: result\n        });\n        return ele.childNodes;\n      } else {\n        var ele = createElement(HAS_ROW.test(result) ? 'table' : 'div', {\n          innerHTML: result\n        });\n        return ele.childNodes;\n      }\n    } else {\n      return result;\n    }\n  };\n}\nexport function updateBlazorTemplate(templateId, templateName, comp, isEmpty, callBack) {\n  var blazor = 'Blazor';\n\n  if (isBlazor()) {\n    var ejsIntrop = 'sfBlazor';\n    window[ejsIntrop].updateTemplate(templateName, blazorTemplates[templateId], templateId, comp, callBack);\n\n    if (isEmpty !== false) {\n      blazorTemplates[templateId] = [];\n    }\n  }\n}\nexport function resetBlazorTemplate(templateId, templateName, index) {\n  var templateDiv = document.getElementById(templateId);\n\n  if (templateDiv) {\n    // tslint:disable-next-line:no-any\n    var innerTemplates = templateDiv.getElementsByClassName('blazor-inner-template');\n\n    for (var i = 0; i < innerTemplates.length; i++) {\n      var tempId = ' ';\n\n      if (!isNullOrUndefined(index)) {\n        tempId = innerTemplates[index].getAttribute('data-templateId');\n      } else {\n        tempId = innerTemplates[i].getAttribute('data-templateId');\n      }\n\n      var tempElement = document.getElementById(tempId);\n\n      if (tempElement) {\n        var length_1 = tempElement.childNodes.length;\n\n        for (var j = 0; j < length_1; j++) {\n          if (!isNullOrUndefined(index)) {\n            innerTemplates[index].appendChild(tempElement.childNodes[0]);\n            i = innerTemplates.length;\n          } else {\n            innerTemplates[i].appendChild(tempElement.childNodes[0]);\n          }\n        }\n      }\n    }\n  }\n}\n/**\n * Set your custom template engine for template rendering.\n * @param  {ITemplateEngine} classObj - Class object for custom template.\n * @private\n */\n\nexport function setTemplateEngine(classObj) {\n  engineObj.compile = classObj.compile;\n}\n/**\n * Get current template engine for template rendering\n * @param  {ITemplateEngine} classObj - Class object for custom template.\n * @private\n */\n\nexport function getTemplateEngine() {\n  return engineObj.compile;\n} //Default Engine Class\n\nvar Engine =\n/** @class */\nfunction () {\n  function Engine() {}\n\n  Engine.prototype.compile = function (templateString, helper) {\n    if (helper === void 0) {\n      helper = {};\n    }\n\n    return render(templateString, helper);\n  };\n\n  return Engine;\n}();\n\nvar engineObj = {\n  compile: new Engine().compile\n};","map":{"version":3,"names":["compile","render","createElement","isNullOrUndefined","isBlazor","HAS_ROW","HAS_SVG","blazorTemplates","getRandomId","Math","random","toString","substr","templateString","helper","compiler","engineObj","data","component","propName","templateId","isStringTemplate","index","element","result","blazor","blazorTemplateId","randomId","blazorId","keys","Object","_i","keys_1","length","key","push","id","className","test","ele","innerHTML","childNodes","updateBlazorTemplate","templateName","comp","isEmpty","callBack","ejsIntrop","window","updateTemplate","resetBlazorTemplate","templateDiv","document","getElementById","innerTemplates","getElementsByClassName","i","tempId","getAttribute","tempElement","length_1","j","appendChild","setTemplateEngine","classObj","getTemplateEngine","Engine","prototype"],"sources":["D:/Theme/package/node_modules/@syncfusion/ej2-base/src/template-engine.js"],"sourcesContent":["/**\n * Template Engine Bridge\n */\nimport { compile as render } from './template';\nimport { createElement } from './dom';\nimport { isNullOrUndefined, isBlazor } from './util';\nvar HAS_ROW = /^[\\n\\r.]+\\<tr|^\\<tr/;\nvar HAS_SVG = /^[\\n\\r.]+\\<svg|^\\<path|^\\<g/;\nexport var blazorTemplates = {};\nexport function getRandomId() {\n    return '-' + Math.random().toString(36).substr(2, 5);\n}\n/**\n * Compile the template string into template function.\n * @param  {string} templateString - The template string which is going to convert.\n * @param  {Object} helper? - Helper functions as an object.\n * @private\n */\n//tslint:disable-next-line\nexport function compile(templateString, helper) {\n    var compiler = engineObj.compile(templateString, helper);\n    //tslint:disable-next-line\n    return function (data, component, propName, templateId, isStringTemplate, index, element) {\n        var result = compiler(data, component, propName, element);\n        var blazor = 'Blazor';\n        var blazorTemplateId = 'BlazorTemplateId';\n        if (isBlazor() && !isStringTemplate) {\n            var randomId = getRandomId();\n            var blazorId = templateId + randomId;\n            if (!blazorTemplates[templateId]) {\n                blazorTemplates[templateId] = [];\n            }\n            if (!isNullOrUndefined(index)) {\n                var keys = Object.keys(blazorTemplates[templateId][index]);\n                for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                    var key = keys_1[_i];\n                    if (key !== blazorTemplateId && data[key]) {\n                        blazorTemplates[templateId][index][key] = data[key];\n                    }\n                    if (key === blazorTemplateId) {\n                        blazorId = blazorTemplates[templateId][index][key];\n                    }\n                }\n            }\n            else {\n                data[blazorTemplateId] = blazorId;\n                blazorTemplates[templateId].push(data);\n            }\n            // tslint:disable-next-line:no-any\n            return propName === 'rowTemplate' ? [createElement('tr', { id: blazorId, className: 'e-blazor-template' })] :\n                // tslint:disable-next-line:no-any\n                [createElement('div', { id: blazorId, className: 'e-blazor-template' })];\n        }\n        if (typeof result === 'string') {\n            if (HAS_SVG.test(result)) {\n                var ele = createElement('svg', { innerHTML: result });\n                return ele.childNodes;\n            }\n            else {\n                var ele = createElement((HAS_ROW.test(result) ? 'table' : 'div'), { innerHTML: result });\n                return ele.childNodes;\n            }\n        }\n        else {\n            return result;\n        }\n    };\n}\nexport function updateBlazorTemplate(templateId, templateName, comp, isEmpty, callBack) {\n    var blazor = 'Blazor';\n    if (isBlazor()) {\n        var ejsIntrop = 'sfBlazor';\n        window[ejsIntrop].updateTemplate(templateName, blazorTemplates[templateId], templateId, comp, callBack);\n        if (isEmpty !== false) {\n            blazorTemplates[templateId] = [];\n        }\n    }\n}\nexport function resetBlazorTemplate(templateId, templateName, index) {\n    var templateDiv = document.getElementById(templateId);\n    if (templateDiv) {\n        // tslint:disable-next-line:no-any\n        var innerTemplates = templateDiv.getElementsByClassName('blazor-inner-template');\n        for (var i = 0; i < innerTemplates.length; i++) {\n            var tempId = ' ';\n            if (!isNullOrUndefined(index)) {\n                tempId = innerTemplates[index].getAttribute('data-templateId');\n            }\n            else {\n                tempId = innerTemplates[i].getAttribute('data-templateId');\n            }\n            var tempElement = document.getElementById(tempId);\n            if (tempElement) {\n                var length_1 = tempElement.childNodes.length;\n                for (var j = 0; j < length_1; j++) {\n                    if (!isNullOrUndefined(index)) {\n                        innerTemplates[index].appendChild(tempElement.childNodes[0]);\n                        i = innerTemplates.length;\n                    }\n                    else {\n                        innerTemplates[i].appendChild(tempElement.childNodes[0]);\n                    }\n                }\n            }\n        }\n    }\n}\n/**\n * Set your custom template engine for template rendering.\n * @param  {ITemplateEngine} classObj - Class object for custom template.\n * @private\n */\nexport function setTemplateEngine(classObj) {\n    engineObj.compile = classObj.compile;\n}\n/**\n * Get current template engine for template rendering\n * @param  {ITemplateEngine} classObj - Class object for custom template.\n * @private\n */\nexport function getTemplateEngine() {\n    return engineObj.compile;\n}\n//Default Engine Class\nvar Engine = /** @class */ (function () {\n    function Engine() {\n    }\n    Engine.prototype.compile = function (templateString, helper) {\n        if (helper === void 0) { helper = {}; }\n        return render(templateString, helper);\n    };\n    return Engine;\n}());\nvar engineObj = { compile: new Engine().compile };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}