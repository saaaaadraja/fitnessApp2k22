{"ast":null,"code":"/**\n * ArabicShapeRenderer.ts class for EJ2-PDF\n */\nimport { Dictionary } from './../../../collections/dictionary';\n\nvar ArabicShapeRenderer =\n/** @class */\nfunction () {\n  //#endregion\n  //#region Constructor\n  function ArabicShapeRenderer() {\n    //#region Constants\n    this.arabicCharTable = [[\"\\u0621\", \"\\uFE80\"], [\"\\u0622\", \"\\uFE81\", \"\\uFE82\"], [\"\\u0623\", \"\\uFE83\", \"\\uFE84\"], [\"\\u0624\", \"\\uFE85\", \"\\uFE86\"], [\"\\u0625\", \"\\uFE87\", \"\\uFE88\"], [\"\\u0626\", \"\\uFE89\", \"\\uFE8A\", \"\\uFE8B\", \"\\uFE8C\"], [\"\\u0627\", \"\\uFE8D\", \"\\uFE8E\"], [\"\\u0628\", \"\\uFE8F\", \"\\uFE90\", \"\\uFE91\", \"\\uFE92\"], [\"\\u0629\", \"\\uFE93\", \"\\uFE94\"], [\"\\u062A\", \"\\uFE95\", \"\\uFE96\", \"\\uFE97\", \"\\uFE98\"], [\"\\u062B\", \"\\uFE99\", \"\\uFE9A\", \"\\uFE9B\", \"\\uFE9C\"], [\"\\u062C\", \"\\uFE9D\", \"\\uFE9E\", \"\\uFE9F\", \"\\uFEA0\"], [\"\\u062D\", \"\\uFEA1\", \"\\uFEA2\", \"\\uFEA3\", \"\\uFEA4\"], [\"\\u062E\", \"\\uFEA5\", \"\\uFEA6\", \"\\uFEA7\", \"\\uFEA8\"], [\"\\u062F\", \"\\uFEA9\", \"\\uFEAA\"], [\"\\u0630\", \"\\uFEAB\", \"\\uFEAC\"], [\"\\u0631\", \"\\uFEAD\", \"\\uFEAE\"], [\"\\u0632\", \"\\uFEAF\", \"\\uFEB0\"], [\"\\u0633\", \"\\uFEB1\", \"\\uFEB2\", \"\\uFEB3\", \"\\uFEB4\"], [\"\\u0634\", \"\\uFEB5\", \"\\uFEB6\", \"\\uFEB7\", \"\\uFEB8\"], [\"\\u0635\", \"\\uFEB9\", \"\\uFEBA\", \"\\uFEBB\", \"\\uFEBC\"], [\"\\u0636\", \"\\uFEBD\", \"\\uFEBE\", \"\\uFEBF\", \"\\uFEC0\"], [\"\\u0637\", \"\\uFEC1\", \"\\uFEC2\", \"\\uFEC3\", \"\\uFEC4\"], [\"\\u0638\", \"\\uFEC5\", \"\\uFEC6\", \"\\uFEC7\", \"\\uFEC8\"], [\"\\u0639\", \"\\uFEC9\", \"\\uFECA\", \"\\uFECB\", \"\\uFECC\"], [\"\\u063A\", \"\\uFECD\", \"\\uFECE\", \"\\uFECF\", \"\\uFED0\"], [\"\\u0640\", \"\\u0640\", \"\\u0640\", \"\\u0640\", \"\\u0640\"], [\"\\u0641\", \"\\uFED1\", \"\\uFED2\", \"\\uFED3\", \"\\uFED4\"], [\"\\u0642\", \"\\uFED5\", \"\\uFED6\", \"\\uFED7\", \"\\uFED8\"], [\"\\u0643\", \"\\uFED9\", \"\\uFEDA\", \"\\uFEDB\", \"\\uFEDC\"], [\"\\u0644\", \"\\uFEDD\", \"\\uFEDE\", \"\\uFEDF\", \"\\uFEE0\"], [\"\\u0645\", \"\\uFEE1\", \"\\uFEE2\", \"\\uFEE3\", \"\\uFEE4\"], [\"\\u0646\", \"\\uFEE5\", \"\\uFEE6\", \"\\uFEE7\", \"\\uFEE8\"], [\"\\u0647\", \"\\uFEE9\", \"\\uFEEA\", \"\\uFEEB\", \"\\uFEEC\"], [\"\\u0648\", \"\\uFEED\", \"\\uFEEE\"], [\"\\u0649\", \"\\uFEEF\", \"\\uFEF0\", \"\\uFBE8\", \"\\uFBE9\"], [\"\\u064A\", \"\\uFEF1\", \"\\uFEF2\", \"\\uFEF3\", \"\\uFEF4\"], [\"\\u0671\", \"\\uFB50\", \"\\uFB51\"], [\"\\u0679\", \"\\uFB66\", \"\\uFB67\", \"\\uFB68\", \"\\uFB69\"], [\"\\u067A\", \"\\uFB5E\", \"\\uFB5F\", \"\\uFB60\", \"\\uFB61\"], [\"\\u067B\", \"\\uFB52\", \"\\uFB53\", \"\\uFB54\", \"\\uFB55\"], [\"\\u067E\", \"\\uFB56\", \"\\uFB57\", \"\\uFB58\", \"\\uFB59\"], [\"\\u067F\", \"\\uFB62\", \"\\uFB63\", \"\\uFB64\", \"\\uFB65\"], [\"\\u0680\", \"\\uFB5A\", \"\\uFB5B\", \"\\uFB5C\", \"\\uFB5D\"], [\"\\u0683\", \"\\uFB76\", \"\\uFB77\", \"\\uFB78\", \"\\uFB79\"], [\"\\u0684\", \"\\uFB72\", \"\\uFB73\", \"\\uFB74\", \"\\uFB75\"], [\"\\u0686\", \"\\uFB7A\", \"\\uFB7B\", \"\\uFB7C\", \"\\uFB7D\"], [\"\\u0687\", \"\\uFB7E\", \"\\uFB7F\", \"\\uFB80\", \"\\uFB81\"], [\"\\u0688\", \"\\uFB88\", \"\\uFB89\"], [\"\\u068C\", \"\\uFB84\", \"\\uFB85\"], [\"\\u068D\", \"\\uFB82\", \"\\uFB83\"], [\"\\u068E\", \"\\uFB86\", \"\\uFB87\"], [\"\\u0691\", \"\\uFB8C\", \"\\uFB8D\"], [\"\\u0698\", \"\\uFB8A\", \"\\uFB8B\"], [\"\\u06A4\", \"\\uFB6A\", \"\\uFB6B\", \"\\uFB6C\", \"\\uFB6D\"], [\"\\u06A6\", \"\\uFB6E\", \"\\uFB6F\", \"\\uFB70\", \"\\uFB71\"], [\"\\u06A9\", \"\\uFB8E\", \"\\uFB8F\", \"\\uFB90\", \"\\uFB91\"], [\"\\u06AD\", \"\\uFBD3\", \"\\uFBD4\", \"\\uFBD5\", \"\\uFBD6\"], [\"\\u06AF\", \"\\uFB92\", \"\\uFB93\", \"\\uFB94\", \"\\uFB95\"], [\"\\u06B1\", \"\\uFB9A\", \"\\uFB9B\", \"\\uFB9C\", \"\\uFB9D\"], [\"\\u06B3\", \"\\uFB96\", \"\\uFB97\", \"\\uFB98\", \"\\uFB99\"], [\"\\u06BA\", \"\\uFB9E\", \"\\uFB9F\"], [\"\\u06BB\", \"\\uFBA0\", \"\\uFBA1\", \"\\uFBA2\", \"\\uFBA3\"], [\"\\u06BE\", \"\\uFBAA\", \"\\uFBAB\", \"\\uFBAC\", \"\\uFBAD\"], [\"\\u06C0\", \"\\uFBA4\", \"\\uFBA5\"], [\"\\u06C1\", \"\\uFBA6\", \"\\uFBA7\", \"\\uFBA8\", \"\\uFBA9\"], [\"\\u06C5\", \"\\uFBE0\", \"\\uFBE1\"], [\"\\u06C6\", \"\\uFBD9\", \"\\uFBDA\"], [\"\\u06C7\", \"\\uFBD7\", \"\\uFBD8\"], [\"\\u06C8\", \"\\uFBDB\", \"\\uFBDC\"], [\"\\u06C9\", \"\\uFBE2\", \"\\uFBE3\"], [\"\\u06CB\", \"\\uFBDE\", \"\\uFBDF\"], [\"\\u06CC\", \"\\uFBFC\", \"\\uFBFD\", \"\\uFBFE\", \"\\uFBFF\"], [\"\\u06D0\", \"\\uFBE4\", \"\\uFBE5\", \"\\uFBE6\", \"\\uFBE7\"], [\"\\u06D2\", \"\\uFBAE\", \"\\uFBAF\"], [\"\\u06D3\", \"\\uFBB0\", \"\\uFBB1\"]];\n    this.alef = \"\\u0627\";\n    this.alefHamza = \"\\u0623\";\n    this.alefHamzaBelow = \"\\u0625\";\n    this.alefMadda = \"\\u0622\";\n    this.lam = \"\\u0644\";\n    this.hamza = \"\\u0621\";\n    this.zeroWidthJoiner = \"\\u200D\";\n    this.hamzaAbove = \"\\u0654\";\n    this.hamzaBelow = \"\\u0655\";\n    this.wawHamza = \"\\u0624\";\n    this.yehHamza = \"\\u0626\";\n    this.waw = \"\\u0648\";\n    this.alefMaksura = \"\\u0649\";\n    this.yeh = \"\\u064A\";\n    this.farsiYeh = \"\\u06CC\";\n    this.shadda = \"\\u0651\";\n    this.madda = \"\\u0653\";\n    this.lwa = \"\\uFEFB\";\n    this.lwawh = \"\\uFEF7\";\n    this.lwawhb = \"\\uFEF9\";\n    this.lwawm = \"\\uFEF5\";\n    this.bwhb = \"\\u06D3\";\n    this.fathatan = \"\\u064B\";\n    this.superScriptalef = \"\\u0670\";\n    this.vowel = 0x1; // #endregion\n    //#region Fields\n\n    this.arabicMapTable = new Dictionary();\n\n    for (var i = 0; i < this.arabicCharTable.length; i++) {\n      this.arabicMapTable.setValue(this.arabicCharTable[i][0], this.arabicCharTable[i]);\n    }\n  } //#endregion\n  //#region implementation\n\n\n  ArabicShapeRenderer.prototype.getCharacterShape = function (input, index) {\n    if (input >= this.hamza && input <= this.bwhb) {\n      var value = [];\n\n      if (this.arabicMapTable.getValue(input)) {\n        value = this.arabicMapTable.getValue(input);\n        return value[index + 1];\n      }\n    } else if (input >= this.lwawm && input <= this.lwa) {\n      return input;\n    }\n\n    return input;\n  };\n\n  ArabicShapeRenderer.prototype.shape = function (text, level) {\n    var builder = '';\n    var str2 = '';\n\n    for (var i = 0; i < text.length; i++) {\n      var c = text[i];\n\n      if (c >= '؀' && c <= 'ۿ') {\n        //if(c>= 0x0600.toString() && c<= 0x06FF.toString()) {\n        str2 = str2 + c;\n      } else {\n        if (str2.length > 0) {\n          var st = this.doShape(str2.toString(), 0);\n          builder = builder + st;\n          str2 = '';\n        }\n\n        builder = builder + c;\n      }\n    }\n\n    if (str2.length > 0) {\n      var st = this.doShape(str2.toString(), 0);\n      builder = builder + st;\n    }\n\n    return builder.toString();\n  };\n\n  ArabicShapeRenderer.prototype.doShape = function (input, level) {\n    var str = '';\n    var ligature = 0;\n    var len = 0;\n    var i = 0;\n    var next = '';\n    var previous = new ArabicShape();\n    var present = new ArabicShape();\n\n    while (i < input.length) {\n      next = input[i++];\n      ligature = this.ligature(next, present);\n\n      if (ligature === 0) {\n        var shapeCount = this.getShapeCount(next);\n        len = shapeCount === 1 ? 0 : 2;\n\n        if (previous.Shapes > 2) {\n          len += 1;\n        }\n\n        len = len % present.Shapes;\n        present.Value = this.getCharacterShape(present.Value, len);\n        str = this.append(str, previous, level);\n        previous = present;\n        present = new ArabicShape();\n        present.Value = next;\n        present.Shapes = shapeCount;\n        present.Ligature++;\n      }\n    }\n\n    len = previous.Shapes > 2 ? 1 : 0;\n    len = len % present.Shapes;\n    present.Value = this.getCharacterShape(present.Value, len);\n    str = this.append(str, previous, level);\n    str = this.append(str, present, level);\n    return str.toString();\n  };\n\n  ArabicShapeRenderer.prototype.append = function (builder, shape, level) {\n    if (shape.Value !== '') {\n      builder = builder + shape.Value;\n      shape.Ligature -= 1;\n\n      if (shape.Type !== '') {\n        if ((level & this.vowel) === 0) {\n          builder = builder + shape.Type;\n          shape.Ligature -= 1;\n        } else {\n          shape.Ligature -= 1;\n        }\n      }\n\n      if (shape.vowel !== '') {\n        if ((level & this.vowel) === 0) {\n          builder = builder + shape.vowel;\n          shape.Ligature -= 1;\n        } else {\n          shape.Ligature -= 1;\n        }\n      }\n    }\n\n    return builder;\n  };\n\n  ArabicShapeRenderer.prototype.ligature = function (value, shape) {\n    if (shape.Value !== '') {\n      var result = 0;\n\n      if (value >= this.fathatan && value <= this.hamzaBelow || value === this.superScriptalef) {\n        result = 1;\n\n        if (shape.vowel !== '' && value !== this.shadda) {\n          result = 2;\n        }\n\n        if (value === this.shadda) {\n          if (shape.Type == null) {\n            shape.Type = this.shadda;\n          } else {\n            return 0;\n          }\n        } else if (value === this.hamzaBelow) {\n          if (shape.Value === this.alef) {\n            shape.Value = this.alefHamzaBelow;\n            result = 2;\n          } else if (value === this.lwa) {\n            shape.Value = this.lwawhb;\n            result = 2;\n          } else {\n            shape.Type = this.hamzaBelow;\n          }\n        } else if (value === this.hamzaAbove) {\n          if (shape.Value === this.alef) {\n            shape.Value = this.alefHamza;\n            result = 2;\n          } else if (shape.Value === this.lwa) {\n            shape.Value = this.lwawh;\n            result = 2;\n          } else if (shape.Value === this.waw) {\n            shape.Value = this.wawHamza;\n            result = 2;\n          } else if (shape.Value === this.yeh || shape.Value === this.alefMaksura || shape.Value === this.farsiYeh) {\n            shape.Value = this.yehHamza;\n            result = 2;\n          } else {\n            shape.Type = this.hamzaAbove;\n          }\n        } else if (value === this.madda) {\n          if (shape.Value === this.alef) {\n            shape.Value = this.alefMadda;\n            result = 2;\n          }\n        } else {\n          shape.vowel = value;\n        }\n\n        if (result === 1) {\n          shape.Ligature++;\n        }\n\n        return result;\n      }\n\n      if (shape.vowel !== '') {\n        return 0;\n      }\n\n      if (shape.Value === this.lam) {\n        if (value === this.alef) {\n          shape.Value = this.lwa;\n          shape.Shapes = 2;\n          result = 3;\n        } else if (value === this.alefHamza) {\n          shape.Value = this.lwawh;\n          shape.Shapes = 2;\n          result = 3;\n        } else if (value === this.alefHamzaBelow) {\n          shape.Value = this.lwawhb;\n          shape.Shapes = 2;\n          result = 3;\n        } else if (value === this.alefMadda) {\n          shape.Value = this.lwawm;\n          shape.Shapes = 2;\n          result = 3;\n        }\n      } // else if (shape.Value === '') {\n      //     shape.Value = value;\n      //     shape.Shapes = this.getShapeCount(value);\n      //     result = 1;\n      // }\n\n\n      return result;\n    } else {\n      return 0;\n    }\n  };\n\n  ArabicShapeRenderer.prototype.getShapeCount = function (shape) {\n    if (shape >= this.hamza && shape <= this.bwhb && !(shape >= this.fathatan && shape <= this.hamzaBelow || shape === this.superScriptalef)) {\n      var c = [];\n\n      if (this.arabicMapTable.getValue(shape)) {\n        c = this.arabicMapTable.getValue(shape);\n        return c.length - 1;\n      }\n    } else if (shape === this.zeroWidthJoiner) {\n      return 4;\n    }\n\n    return 1;\n  };\n\n  return ArabicShapeRenderer;\n}();\n\nexport { ArabicShapeRenderer }; //#endregion\n//#region Internals\n\nvar ArabicShape =\n/** @class */\nfunction () {\n  function ArabicShape() {\n    //#region Fields\n    this.shapeValue = '';\n    this.shapeType = '';\n    this.shapeVowel = '';\n    this.shapeLigature = 0;\n    this.shapeShapes = 1; //#endregion\n  }\n\n  Object.defineProperty(ArabicShape.prototype, \"Value\", {\n    //#endregion\n    //#region Properties \n\n    /**\n     * Gets or sets the values.\n     * @private\n     */\n    get: function get() {\n      return this.shapeValue;\n    },\n    set: function set(value) {\n      this.shapeValue = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ArabicShape.prototype, \"Type\", {\n    /**\n     * Gets or sets the values.\n     * @private\n     */\n    get: function get() {\n      return this.shapeType;\n    },\n    set: function set(value) {\n      this.shapeType = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ArabicShape.prototype, \"vowel\", {\n    /**\n     * Gets or sets the values.\n     * @private\n     */\n    get: function get() {\n      return this.shapeVowel;\n    },\n    set: function set(value) {\n      this.shapeVowel = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ArabicShape.prototype, \"Ligature\", {\n    /**\n     * Gets or sets the values.\n     * @private\n     */\n    get: function get() {\n      return this.shapeLigature;\n    },\n    set: function set(value) {\n      this.shapeLigature = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ArabicShape.prototype, \"Shapes\", {\n    /**\n     * Gets or sets the values.\n     * @private\n     */\n    get: function get() {\n      return this.shapeShapes;\n    },\n    set: function set(value) {\n      this.shapeShapes = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return ArabicShape;\n}();\n\nexport { ArabicShape }; //#endregion","map":{"version":3,"names":["Dictionary","ArabicShapeRenderer","arabicCharTable","alef","alefHamza","alefHamzaBelow","alefMadda","lam","hamza","zeroWidthJoiner","hamzaAbove","hamzaBelow","wawHamza","yehHamza","waw","alefMaksura","yeh","farsiYeh","shadda","madda","lwa","lwawh","lwawhb","lwawm","bwhb","fathatan","superScriptalef","vowel","arabicMapTable","i","length","setValue","prototype","getCharacterShape","input","index","value","getValue","shape","text","level","builder","str2","c","st","doShape","toString","str","ligature","len","next","previous","ArabicShape","present","shapeCount","getShapeCount","Shapes","Value","append","Ligature","Type","result","shapeValue","shapeType","shapeVowel","shapeLigature","shapeShapes","Object","defineProperty","get","set","enumerable","configurable"],"sources":["D:/Theme/package/node_modules/@syncfusion/ej2-pdf-export/src/implementation/graphics/fonts/rtl/rtl-text-shape.js"],"sourcesContent":["/**\n * ArabicShapeRenderer.ts class for EJ2-PDF\n */\nimport { Dictionary } from './../../../collections/dictionary';\nvar ArabicShapeRenderer = /** @class */ (function () {\n    //#endregion\n    //#region Constructor\n    function ArabicShapeRenderer() {\n        //#region Constants\n        this.arabicCharTable = [['\\u0621', '\\uFE80'], ['\\u0622', '\\uFE81', '\\uFE82'],\n            ['\\u0623', '\\uFE83', '\\uFE84'],\n            ['\\u0624', '\\uFE85', '\\uFE86'],\n            ['\\u0625', '\\uFE87', '\\uFE88'],\n            ['\\u0626', '\\uFE89', '\\uFE8A', '\\uFE8B', '\\uFE8C'],\n            ['\\u0627', '\\uFE8D', '\\uFE8E'],\n            ['\\u0628', '\\uFE8F', '\\uFE90', '\\uFE91', '\\uFE92'],\n            ['\\u0629', '\\uFE93', '\\uFE94'],\n            ['\\u062A', '\\uFE95', '\\uFE96', '\\uFE97', '\\uFE98'],\n            ['\\u062B', '\\uFE99', '\\uFE9A', '\\uFE9B', '\\uFE9C'],\n            ['\\u062C', '\\uFE9D', '\\uFE9E', '\\uFE9F', '\\uFEA0'],\n            ['\\u062D', '\\uFEA1', '\\uFEA2', '\\uFEA3', '\\uFEA4'],\n            ['\\u062E', '\\uFEA5', '\\uFEA6', '\\uFEA7', '\\uFEA8'],\n            ['\\u062F', '\\uFEA9', '\\uFEAA'],\n            ['\\u0630', '\\uFEAB', '\\uFEAC'],\n            ['\\u0631', '\\uFEAD', '\\uFEAE'],\n            ['\\u0632', '\\uFEAF', '\\uFEB0'],\n            ['\\u0633', '\\uFEB1', '\\uFEB2', '\\uFEB3', '\\uFEB4'],\n            ['\\u0634', '\\uFEB5', '\\uFEB6', '\\uFEB7', '\\uFEB8'],\n            ['\\u0635', '\\uFEB9', '\\uFEBA', '\\uFEBB', '\\uFEBC'],\n            ['\\u0636', '\\uFEBD', '\\uFEBE', '\\uFEBF', '\\uFEC0'],\n            ['\\u0637', '\\uFEC1', '\\uFEC2', '\\uFEC3', '\\uFEC4'],\n            ['\\u0638', '\\uFEC5', '\\uFEC6', '\\uFEC7', '\\uFEC8'],\n            ['\\u0639', '\\uFEC9', '\\uFECA', '\\uFECB', '\\uFECC'],\n            ['\\u063A', '\\uFECD', '\\uFECE', '\\uFECF', '\\uFED0'],\n            ['\\u0640', '\\u0640', '\\u0640', '\\u0640', '\\u0640'],\n            ['\\u0641', '\\uFED1', '\\uFED2', '\\uFED3', '\\uFED4'],\n            ['\\u0642', '\\uFED5', '\\uFED6', '\\uFED7', '\\uFED8'],\n            ['\\u0643', '\\uFED9', '\\uFEDA', '\\uFEDB', '\\uFEDC'],\n            ['\\u0644', '\\uFEDD', '\\uFEDE', '\\uFEDF', '\\uFEE0'],\n            ['\\u0645', '\\uFEE1', '\\uFEE2', '\\uFEE3', '\\uFEE4'],\n            ['\\u0646', '\\uFEE5', '\\uFEE6', '\\uFEE7', '\\uFEE8'],\n            ['\\u0647', '\\uFEE9', '\\uFEEA', '\\uFEEB', '\\uFEEC'],\n            ['\\u0648', '\\uFEED', '\\uFEEE'],\n            ['\\u0649', '\\uFEEF', '\\uFEF0', '\\uFBE8', '\\uFBE9'],\n            ['\\u064A', '\\uFEF1', '\\uFEF2', '\\uFEF3', '\\uFEF4'],\n            ['\\u0671', '\\uFB50', '\\uFB51'],\n            ['\\u0679', '\\uFB66', '\\uFB67', '\\uFB68', '\\uFB69'],\n            ['\\u067A', '\\uFB5E', '\\uFB5F', '\\uFB60', '\\uFB61'],\n            ['\\u067B', '\\uFB52', '\\uFB53', '\\uFB54', '\\uFB55'],\n            ['\\u067E', '\\uFB56', '\\uFB57', '\\uFB58', '\\uFB59'],\n            ['\\u067F', '\\uFB62', '\\uFB63', '\\uFB64', '\\uFB65'],\n            ['\\u0680', '\\uFB5A', '\\uFB5B', '\\uFB5C', '\\uFB5D'],\n            ['\\u0683', '\\uFB76', '\\uFB77', '\\uFB78', '\\uFB79'],\n            ['\\u0684', '\\uFB72', '\\uFB73', '\\uFB74', '\\uFB75'],\n            ['\\u0686', '\\uFB7A', '\\uFB7B', '\\uFB7C', '\\uFB7D'],\n            ['\\u0687', '\\uFB7E', '\\uFB7F', '\\uFB80', '\\uFB81'],\n            ['\\u0688', '\\uFB88', '\\uFB89'],\n            ['\\u068C', '\\uFB84', '\\uFB85'],\n            ['\\u068D', '\\uFB82', '\\uFB83'],\n            ['\\u068E', '\\uFB86', '\\uFB87'],\n            ['\\u0691', '\\uFB8C', '\\uFB8D'],\n            ['\\u0698', '\\uFB8A', '\\uFB8B'],\n            ['\\u06A4', '\\uFB6A', '\\uFB6B', '\\uFB6C', '\\uFB6D'],\n            ['\\u06A6', '\\uFB6E', '\\uFB6F', '\\uFB70', '\\uFB71'],\n            ['\\u06A9', '\\uFB8E', '\\uFB8F', '\\uFB90', '\\uFB91'],\n            ['\\u06AD', '\\uFBD3', '\\uFBD4', '\\uFBD5', '\\uFBD6'],\n            ['\\u06AF', '\\uFB92', '\\uFB93', '\\uFB94', '\\uFB95'],\n            ['\\u06B1', '\\uFB9A', '\\uFB9B', '\\uFB9C', '\\uFB9D'],\n            ['\\u06B3', '\\uFB96', '\\uFB97', '\\uFB98', '\\uFB99'],\n            ['\\u06BA', '\\uFB9E', '\\uFB9F'],\n            ['\\u06BB', '\\uFBA0', '\\uFBA1', '\\uFBA2', '\\uFBA3'],\n            ['\\u06BE', '\\uFBAA', '\\uFBAB', '\\uFBAC', '\\uFBAD'],\n            ['\\u06C0', '\\uFBA4', '\\uFBA5'],\n            ['\\u06C1', '\\uFBA6', '\\uFBA7', '\\uFBA8', '\\uFBA9'],\n            ['\\u06C5', '\\uFBE0', '\\uFBE1'],\n            ['\\u06C6', '\\uFBD9', '\\uFBDA'],\n            ['\\u06C7', '\\uFBD7', '\\uFBD8'],\n            ['\\u06C8', '\\uFBDB', '\\uFBDC'],\n            ['\\u06C9', '\\uFBE2', '\\uFBE3'],\n            ['\\u06CB', '\\uFBDE', '\\uFBDF'],\n            ['\\u06CC', '\\uFBFC', '\\uFBFD', '\\uFBFE', '\\uFBFF'],\n            ['\\u06D0', '\\uFBE4', '\\uFBE5', '\\uFBE6', '\\uFBE7'],\n            ['\\u06D2', '\\uFBAE', '\\uFBAF'],\n            ['\\u06D3', '\\uFBB0', '\\uFBB1']\n        ];\n        this.alef = '\\u0627';\n        this.alefHamza = '\\u0623';\n        this.alefHamzaBelow = '\\u0625';\n        this.alefMadda = '\\u0622';\n        this.lam = '\\u0644';\n        this.hamza = '\\u0621';\n        this.zeroWidthJoiner = '\\u200D';\n        this.hamzaAbove = '\\u0654';\n        this.hamzaBelow = '\\u0655';\n        this.wawHamza = '\\u0624';\n        this.yehHamza = '\\u0626';\n        this.waw = '\\u0648';\n        this.alefMaksura = '\\u0649';\n        this.yeh = '\\u064A';\n        this.farsiYeh = '\\u06CC';\n        this.shadda = '\\u0651';\n        this.madda = '\\u0653';\n        this.lwa = '\\uFEFB';\n        this.lwawh = '\\uFEF7';\n        this.lwawhb = '\\uFEF9';\n        this.lwawm = '\\uFEF5';\n        this.bwhb = '\\u06D3';\n        this.fathatan = '\\u064B';\n        this.superScriptalef = '\\u0670';\n        this.vowel = 0x1;\n        // #endregion\n        //#region Fields\n        this.arabicMapTable = new Dictionary();\n        for (var i = 0; i < this.arabicCharTable.length; i++) {\n            this.arabicMapTable.setValue(this.arabicCharTable[i][0], this.arabicCharTable[i]);\n        }\n    }\n    //#endregion\n    //#region implementation\n    ArabicShapeRenderer.prototype.getCharacterShape = function (input, index) {\n        if ((input >= this.hamza) && (input <= this.bwhb)) {\n            var value = [];\n            if (this.arabicMapTable.getValue(input)) {\n                value = this.arabicMapTable.getValue(input);\n                return value[index + 1];\n            }\n        }\n        else if (input >= this.lwawm && input <= this.lwa) {\n            return (input);\n        }\n        return input;\n    };\n    ArabicShapeRenderer.prototype.shape = function (text, level) {\n        var builder = '';\n        var str2 = '';\n        for (var i = 0; i < text.length; i++) {\n            var c = text[i];\n            if (c >= '؀' && c <= 'ۿ') {\n                //if(c>= 0x0600.toString() && c<= 0x06FF.toString()) {\n                str2 = str2 + c;\n            }\n            else {\n                if (str2.length > 0) {\n                    var st = this.doShape(str2.toString(), 0);\n                    builder = builder + st;\n                    str2 = '';\n                }\n                builder = builder + c;\n            }\n        }\n        if (str2.length > 0) {\n            var st = this.doShape(str2.toString(), 0);\n            builder = builder + st;\n        }\n        return builder.toString();\n    };\n    ArabicShapeRenderer.prototype.doShape = function (input, level) {\n        var str = '';\n        var ligature = 0;\n        var len = 0;\n        var i = 0;\n        var next = '';\n        var previous = new ArabicShape();\n        var present = new ArabicShape();\n        while (i < input.length) {\n            next = input[i++];\n            ligature = this.ligature(next, present);\n            if (ligature === 0) {\n                var shapeCount = this.getShapeCount(next);\n                len = (shapeCount === 1) ? 0 : 2;\n                if (previous.Shapes > 2) {\n                    len += 1;\n                }\n                len = len % (present.Shapes);\n                present.Value = this.getCharacterShape(present.Value, len);\n                str = this.append(str, previous, level);\n                previous = present;\n                present = new ArabicShape();\n                present.Value = next;\n                present.Shapes = shapeCount;\n                present.Ligature++;\n            }\n        }\n        len = (previous.Shapes > 2) ? 1 : 0;\n        len = len % (present.Shapes);\n        present.Value = this.getCharacterShape(present.Value, len);\n        str = this.append(str, previous, level);\n        str = this.append(str, present, level);\n        return str.toString();\n    };\n    ArabicShapeRenderer.prototype.append = function (builder, shape, level) {\n        if (shape.Value !== '') {\n            builder = builder + shape.Value;\n            shape.Ligature -= 1;\n            if (shape.Type !== '') {\n                if ((level & this.vowel) === 0) {\n                    builder = builder + shape.Type;\n                    shape.Ligature -= 1;\n                }\n                else {\n                    shape.Ligature -= 1;\n                }\n            }\n            if (shape.vowel !== '') {\n                if ((level & this.vowel) === 0) {\n                    builder = builder + shape.vowel;\n                    shape.Ligature -= 1;\n                }\n                else {\n                    shape.Ligature -= 1;\n                }\n            }\n        }\n        return builder;\n    };\n    ArabicShapeRenderer.prototype.ligature = function (value, shape) {\n        if (shape.Value !== '') {\n            var result = 0;\n            if ((value >= this.fathatan && value <= this.hamzaBelow) || value === this.superScriptalef) {\n                result = 1;\n                if ((shape.vowel !== '') && (value !== this.shadda)) {\n                    result = 2;\n                }\n                if (value === this.shadda) {\n                    if (shape.Type == null) {\n                        shape.Type = this.shadda;\n                    }\n                    else {\n                        return 0;\n                    }\n                }\n                else if (value === this.hamzaBelow) {\n                    if (shape.Value === this.alef) {\n                        shape.Value = this.alefHamzaBelow;\n                        result = 2;\n                    }\n                    else if (value === this.lwa) {\n                        shape.Value = this.lwawhb;\n                        result = 2;\n                    }\n                    else {\n                        shape.Type = this.hamzaBelow;\n                    }\n                }\n                else if (value === this.hamzaAbove) {\n                    if (shape.Value === this.alef) {\n                        shape.Value = this.alefHamza;\n                        result = 2;\n                    }\n                    else if (shape.Value === this.lwa) {\n                        shape.Value = this.lwawh;\n                        result = 2;\n                    }\n                    else if (shape.Value === this.waw) {\n                        shape.Value = this.wawHamza;\n                        result = 2;\n                    }\n                    else if (shape.Value === this.yeh || shape.Value === this.alefMaksura || shape.Value === this.farsiYeh) {\n                        shape.Value = this.yehHamza;\n                        result = 2;\n                    }\n                    else {\n                        shape.Type = this.hamzaAbove;\n                    }\n                }\n                else if (value === this.madda) {\n                    if (shape.Value === this.alef) {\n                        shape.Value = this.alefMadda;\n                        result = 2;\n                    }\n                }\n                else {\n                    shape.vowel = value;\n                }\n                if (result === 1) {\n                    shape.Ligature++;\n                }\n                return result;\n            }\n            if (shape.vowel !== '') {\n                return 0;\n            }\n            if (shape.Value === this.lam) {\n                if (value === this.alef) {\n                    shape.Value = this.lwa;\n                    shape.Shapes = 2;\n                    result = 3;\n                }\n                else if (value === this.alefHamza) {\n                    shape.Value = this.lwawh;\n                    shape.Shapes = 2;\n                    result = 3;\n                }\n                else if (value === this.alefHamzaBelow) {\n                    shape.Value = this.lwawhb;\n                    shape.Shapes = 2;\n                    result = 3;\n                }\n                else if (value === this.alefMadda) {\n                    shape.Value = this.lwawm;\n                    shape.Shapes = 2;\n                    result = 3;\n                }\n            }\n            // else if (shape.Value === '') {\n            //     shape.Value = value;\n            //     shape.Shapes = this.getShapeCount(value);\n            //     result = 1;\n            // }\n            return result;\n        }\n        else {\n            return 0;\n        }\n    };\n    ArabicShapeRenderer.prototype.getShapeCount = function (shape) {\n        if ((shape >= this.hamza) && (shape <= this.bwhb) && !((shape >= this.fathatan && shape <= this.hamzaBelow)\n            || shape === this.superScriptalef)) {\n            var c = [];\n            if (this.arabicMapTable.getValue(shape)) {\n                c = this.arabicMapTable.getValue(shape);\n                return c.length - 1;\n            }\n        }\n        else if (shape === this.zeroWidthJoiner) {\n            return 4;\n        }\n        return 1;\n    };\n    return ArabicShapeRenderer;\n}());\nexport { ArabicShapeRenderer };\n//#endregion\n//#region Internals\nvar ArabicShape = /** @class */ (function () {\n    function ArabicShape() {\n        //#region Fields\n        this.shapeValue = '';\n        this.shapeType = '';\n        this.shapeVowel = '';\n        this.shapeLigature = 0;\n        this.shapeShapes = 1;\n        //#endregion\n    }\n    Object.defineProperty(ArabicShape.prototype, \"Value\", {\n        //#endregion\n        //#region Properties \n        /**\n         * Gets or sets the values.\n         * @private\n         */\n        get: function () {\n            return this.shapeValue;\n        },\n        set: function (value) {\n            this.shapeValue = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ArabicShape.prototype, \"Type\", {\n        /**\n         * Gets or sets the values.\n         * @private\n         */\n        get: function () {\n            return this.shapeType;\n        },\n        set: function (value) {\n            this.shapeType = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ArabicShape.prototype, \"vowel\", {\n        /**\n         * Gets or sets the values.\n         * @private\n         */\n        get: function () {\n            return this.shapeVowel;\n        },\n        set: function (value) {\n            this.shapeVowel = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ArabicShape.prototype, \"Ligature\", {\n        /**\n         * Gets or sets the values.\n         * @private\n         */\n        get: function () {\n            return this.shapeLigature;\n        },\n        set: function (value) {\n            this.shapeLigature = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ArabicShape.prototype, \"Shapes\", {\n        /**\n         * Gets or sets the values.\n         * @private\n         */\n        get: function () {\n            return this.shapeShapes;\n        },\n        set: function (value) {\n            this.shapeShapes = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return ArabicShape;\n}());\nexport { ArabicShape };\n//#endregion\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,UAAT,QAA2B,mCAA3B;;AACA,IAAIC,mBAAmB;AAAG;AAAe,YAAY;EACjD;EACA;EACA,SAASA,mBAAT,GAA+B;IAC3B;IACA,KAAKC,eAAL,GAAuB,CAAC,CAAC,QAAD,EAAW,QAAX,CAAD,EAAuB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,CAAvB,EACnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,CADmB,EAEnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,CAFmB,EAGnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,CAHmB,EAInB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,CAJmB,EAKnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,CALmB,EAMnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,CANmB,EAOnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,CAPmB,EAQnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,CARmB,EASnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,CATmB,EAUnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,CAVmB,EAWnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,CAXmB,EAYnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,CAZmB,EAanB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,CAbmB,EAcnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,CAdmB,EAenB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,CAfmB,EAgBnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,CAhBmB,EAiBnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,CAjBmB,EAkBnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,CAlBmB,EAmBnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,CAnBmB,EAoBnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,CApBmB,EAqBnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,CArBmB,EAsBnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,CAtBmB,EAuBnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,CAvBmB,EAwBnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,CAxBmB,EAyBnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,CAzBmB,EA0BnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,CA1BmB,EA2BnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,CA3BmB,EA4BnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,CA5BmB,EA6BnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,CA7BmB,EA8BnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,CA9BmB,EA+BnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,CA/BmB,EAgCnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,CAhCmB,EAiCnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,CAjCmB,EAkCnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,CAlCmB,EAmCnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,CAnCmB,EAoCnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,CApCmB,EAqCnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,CArCmB,EAsCnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,CAtCmB,EAuCnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,CAvCmB,EAwCnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,CAxCmB,EAyCnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,CAzCmB,EA0CnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,CA1CmB,EA2CnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,CA3CmB,EA4CnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,CA5CmB,EA6CnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,CA7CmB,EA8CnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,CA9CmB,EA+CnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,CA/CmB,EAgDnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,CAhDmB,EAiDnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,CAjDmB,EAkDnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,CAlDmB,EAmDnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,CAnDmB,EAoDnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,CApDmB,EAqDnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,CArDmB,EAsDnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,CAtDmB,EAuDnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,CAvDmB,EAwDnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,CAxDmB,EAyDnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,CAzDmB,EA0DnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,CA1DmB,EA2DnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,CA3DmB,EA4DnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,CA5DmB,EA6DnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,CA7DmB,EA8DnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,CA9DmB,EA+DnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,CA/DmB,EAgEnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,CAhEmB,EAiEnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,CAjEmB,EAkEnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,CAlEmB,EAmEnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,CAnEmB,EAoEnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,CApEmB,EAqEnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,CArEmB,EAsEnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,CAtEmB,EAuEnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,CAvEmB,EAwEnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,CAxEmB,EAyEnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,CAzEmB,EA0EnB,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,CA1EmB,CAAvB;IA4EA,KAAKC,IAAL,GAAY,QAAZ;IACA,KAAKC,SAAL,GAAiB,QAAjB;IACA,KAAKC,cAAL,GAAsB,QAAtB;IACA,KAAKC,SAAL,GAAiB,QAAjB;IACA,KAAKC,GAAL,GAAW,QAAX;IACA,KAAKC,KAAL,GAAa,QAAb;IACA,KAAKC,eAAL,GAAuB,QAAvB;IACA,KAAKC,UAAL,GAAkB,QAAlB;IACA,KAAKC,UAAL,GAAkB,QAAlB;IACA,KAAKC,QAAL,GAAgB,QAAhB;IACA,KAAKC,QAAL,GAAgB,QAAhB;IACA,KAAKC,GAAL,GAAW,QAAX;IACA,KAAKC,WAAL,GAAmB,QAAnB;IACA,KAAKC,GAAL,GAAW,QAAX;IACA,KAAKC,QAAL,GAAgB,QAAhB;IACA,KAAKC,MAAL,GAAc,QAAd;IACA,KAAKC,KAAL,GAAa,QAAb;IACA,KAAKC,GAAL,GAAW,QAAX;IACA,KAAKC,KAAL,GAAa,QAAb;IACA,KAAKC,MAAL,GAAc,QAAd;IACA,KAAKC,KAAL,GAAa,QAAb;IACA,KAAKC,IAAL,GAAY,QAAZ;IACA,KAAKC,QAAL,GAAgB,QAAhB;IACA,KAAKC,eAAL,GAAuB,QAAvB;IACA,KAAKC,KAAL,GAAa,GAAb,CAtG2B,CAuG3B;IACA;;IACA,KAAKC,cAAL,GAAsB,IAAI5B,UAAJ,EAAtB;;IACA,KAAK,IAAI6B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK3B,eAAL,CAAqB4B,MAAzC,EAAiDD,CAAC,EAAlD,EAAsD;MAClD,KAAKD,cAAL,CAAoBG,QAApB,CAA6B,KAAK7B,eAAL,CAAqB2B,CAArB,EAAwB,CAAxB,CAA7B,EAAyD,KAAK3B,eAAL,CAAqB2B,CAArB,CAAzD;IACH;EACJ,CAhHgD,CAiHjD;EACA;;;EACA5B,mBAAmB,CAAC+B,SAApB,CAA8BC,iBAA9B,GAAkD,UAAUC,KAAV,EAAiBC,KAAjB,EAAwB;IACtE,IAAKD,KAAK,IAAI,KAAK1B,KAAf,IAA0B0B,KAAK,IAAI,KAAKV,IAA5C,EAAmD;MAC/C,IAAIY,KAAK,GAAG,EAAZ;;MACA,IAAI,KAAKR,cAAL,CAAoBS,QAApB,CAA6BH,KAA7B,CAAJ,EAAyC;QACrCE,KAAK,GAAG,KAAKR,cAAL,CAAoBS,QAApB,CAA6BH,KAA7B,CAAR;QACA,OAAOE,KAAK,CAACD,KAAK,GAAG,CAAT,CAAZ;MACH;IACJ,CAND,MAOK,IAAID,KAAK,IAAI,KAAKX,KAAd,IAAuBW,KAAK,IAAI,KAAKd,GAAzC,EAA8C;MAC/C,OAAQc,KAAR;IACH;;IACD,OAAOA,KAAP;EACH,CAZD;;EAaAjC,mBAAmB,CAAC+B,SAApB,CAA8BM,KAA9B,GAAsC,UAAUC,IAAV,EAAgBC,KAAhB,EAAuB;IACzD,IAAIC,OAAO,GAAG,EAAd;IACA,IAAIC,IAAI,GAAG,EAAX;;IACA,KAAK,IAAIb,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGU,IAAI,CAACT,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;MAClC,IAAIc,CAAC,GAAGJ,IAAI,CAACV,CAAD,CAAZ;;MACA,IAAIc,CAAC,IAAI,GAAL,IAAYA,CAAC,IAAI,GAArB,EAA0B;QACtB;QACAD,IAAI,GAAGA,IAAI,GAAGC,CAAd;MACH,CAHD,MAIK;QACD,IAAID,IAAI,CAACZ,MAAL,GAAc,CAAlB,EAAqB;UACjB,IAAIc,EAAE,GAAG,KAAKC,OAAL,CAAaH,IAAI,CAACI,QAAL,EAAb,EAA8B,CAA9B,CAAT;UACAL,OAAO,GAAGA,OAAO,GAAGG,EAApB;UACAF,IAAI,GAAG,EAAP;QACH;;QACDD,OAAO,GAAGA,OAAO,GAAGE,CAApB;MACH;IACJ;;IACD,IAAID,IAAI,CAACZ,MAAL,GAAc,CAAlB,EAAqB;MACjB,IAAIc,EAAE,GAAG,KAAKC,OAAL,CAAaH,IAAI,CAACI,QAAL,EAAb,EAA8B,CAA9B,CAAT;MACAL,OAAO,GAAGA,OAAO,GAAGG,EAApB;IACH;;IACD,OAAOH,OAAO,CAACK,QAAR,EAAP;EACH,CAvBD;;EAwBA7C,mBAAmB,CAAC+B,SAApB,CAA8Ba,OAA9B,GAAwC,UAAUX,KAAV,EAAiBM,KAAjB,EAAwB;IAC5D,IAAIO,GAAG,GAAG,EAAV;IACA,IAAIC,QAAQ,GAAG,CAAf;IACA,IAAIC,GAAG,GAAG,CAAV;IACA,IAAIpB,CAAC,GAAG,CAAR;IACA,IAAIqB,IAAI,GAAG,EAAX;IACA,IAAIC,QAAQ,GAAG,IAAIC,WAAJ,EAAf;IACA,IAAIC,OAAO,GAAG,IAAID,WAAJ,EAAd;;IACA,OAAOvB,CAAC,GAAGK,KAAK,CAACJ,MAAjB,EAAyB;MACrBoB,IAAI,GAAGhB,KAAK,CAACL,CAAC,EAAF,CAAZ;MACAmB,QAAQ,GAAG,KAAKA,QAAL,CAAcE,IAAd,EAAoBG,OAApB,CAAX;;MACA,IAAIL,QAAQ,KAAK,CAAjB,EAAoB;QAChB,IAAIM,UAAU,GAAG,KAAKC,aAAL,CAAmBL,IAAnB,CAAjB;QACAD,GAAG,GAAIK,UAAU,KAAK,CAAhB,GAAqB,CAArB,GAAyB,CAA/B;;QACA,IAAIH,QAAQ,CAACK,MAAT,GAAkB,CAAtB,EAAyB;UACrBP,GAAG,IAAI,CAAP;QACH;;QACDA,GAAG,GAAGA,GAAG,GAAII,OAAO,CAACG,MAArB;QACAH,OAAO,CAACI,KAAR,GAAgB,KAAKxB,iBAAL,CAAuBoB,OAAO,CAACI,KAA/B,EAAsCR,GAAtC,CAAhB;QACAF,GAAG,GAAG,KAAKW,MAAL,CAAYX,GAAZ,EAAiBI,QAAjB,EAA2BX,KAA3B,CAAN;QACAW,QAAQ,GAAGE,OAAX;QACAA,OAAO,GAAG,IAAID,WAAJ,EAAV;QACAC,OAAO,CAACI,KAAR,GAAgBP,IAAhB;QACAG,OAAO,CAACG,MAAR,GAAiBF,UAAjB;QACAD,OAAO,CAACM,QAAR;MACH;IACJ;;IACDV,GAAG,GAAIE,QAAQ,CAACK,MAAT,GAAkB,CAAnB,GAAwB,CAAxB,GAA4B,CAAlC;IACAP,GAAG,GAAGA,GAAG,GAAII,OAAO,CAACG,MAArB;IACAH,OAAO,CAACI,KAAR,GAAgB,KAAKxB,iBAAL,CAAuBoB,OAAO,CAACI,KAA/B,EAAsCR,GAAtC,CAAhB;IACAF,GAAG,GAAG,KAAKW,MAAL,CAAYX,GAAZ,EAAiBI,QAAjB,EAA2BX,KAA3B,CAAN;IACAO,GAAG,GAAG,KAAKW,MAAL,CAAYX,GAAZ,EAAiBM,OAAjB,EAA0Bb,KAA1B,CAAN;IACA,OAAOO,GAAG,CAACD,QAAJ,EAAP;EACH,CAjCD;;EAkCA7C,mBAAmB,CAAC+B,SAApB,CAA8B0B,MAA9B,GAAuC,UAAUjB,OAAV,EAAmBH,KAAnB,EAA0BE,KAA1B,EAAiC;IACpE,IAAIF,KAAK,CAACmB,KAAN,KAAgB,EAApB,EAAwB;MACpBhB,OAAO,GAAGA,OAAO,GAAGH,KAAK,CAACmB,KAA1B;MACAnB,KAAK,CAACqB,QAAN,IAAkB,CAAlB;;MACA,IAAIrB,KAAK,CAACsB,IAAN,KAAe,EAAnB,EAAuB;QACnB,IAAI,CAACpB,KAAK,GAAG,KAAKb,KAAd,MAAyB,CAA7B,EAAgC;UAC5Bc,OAAO,GAAGA,OAAO,GAAGH,KAAK,CAACsB,IAA1B;UACAtB,KAAK,CAACqB,QAAN,IAAkB,CAAlB;QACH,CAHD,MAIK;UACDrB,KAAK,CAACqB,QAAN,IAAkB,CAAlB;QACH;MACJ;;MACD,IAAIrB,KAAK,CAACX,KAAN,KAAgB,EAApB,EAAwB;QACpB,IAAI,CAACa,KAAK,GAAG,KAAKb,KAAd,MAAyB,CAA7B,EAAgC;UAC5Bc,OAAO,GAAGA,OAAO,GAAGH,KAAK,CAACX,KAA1B;UACAW,KAAK,CAACqB,QAAN,IAAkB,CAAlB;QACH,CAHD,MAIK;UACDrB,KAAK,CAACqB,QAAN,IAAkB,CAAlB;QACH;MACJ;IACJ;;IACD,OAAOlB,OAAP;EACH,CAxBD;;EAyBAxC,mBAAmB,CAAC+B,SAApB,CAA8BgB,QAA9B,GAAyC,UAAUZ,KAAV,EAAiBE,KAAjB,EAAwB;IAC7D,IAAIA,KAAK,CAACmB,KAAN,KAAgB,EAApB,EAAwB;MACpB,IAAII,MAAM,GAAG,CAAb;;MACA,IAAKzB,KAAK,IAAI,KAAKX,QAAd,IAA0BW,KAAK,IAAI,KAAKzB,UAAzC,IAAwDyB,KAAK,KAAK,KAAKV,eAA3E,EAA4F;QACxFmC,MAAM,GAAG,CAAT;;QACA,IAAKvB,KAAK,CAACX,KAAN,KAAgB,EAAjB,IAAyBS,KAAK,KAAK,KAAKlB,MAA5C,EAAqD;UACjD2C,MAAM,GAAG,CAAT;QACH;;QACD,IAAIzB,KAAK,KAAK,KAAKlB,MAAnB,EAA2B;UACvB,IAAIoB,KAAK,CAACsB,IAAN,IAAc,IAAlB,EAAwB;YACpBtB,KAAK,CAACsB,IAAN,GAAa,KAAK1C,MAAlB;UACH,CAFD,MAGK;YACD,OAAO,CAAP;UACH;QACJ,CAPD,MAQK,IAAIkB,KAAK,KAAK,KAAKzB,UAAnB,EAA+B;UAChC,IAAI2B,KAAK,CAACmB,KAAN,KAAgB,KAAKtD,IAAzB,EAA+B;YAC3BmC,KAAK,CAACmB,KAAN,GAAc,KAAKpD,cAAnB;YACAwD,MAAM,GAAG,CAAT;UACH,CAHD,MAIK,IAAIzB,KAAK,KAAK,KAAKhB,GAAnB,EAAwB;YACzBkB,KAAK,CAACmB,KAAN,GAAc,KAAKnC,MAAnB;YACAuC,MAAM,GAAG,CAAT;UACH,CAHI,MAIA;YACDvB,KAAK,CAACsB,IAAN,GAAa,KAAKjD,UAAlB;UACH;QACJ,CAZI,MAaA,IAAIyB,KAAK,KAAK,KAAK1B,UAAnB,EAA+B;UAChC,IAAI4B,KAAK,CAACmB,KAAN,KAAgB,KAAKtD,IAAzB,EAA+B;YAC3BmC,KAAK,CAACmB,KAAN,GAAc,KAAKrD,SAAnB;YACAyD,MAAM,GAAG,CAAT;UACH,CAHD,MAIK,IAAIvB,KAAK,CAACmB,KAAN,KAAgB,KAAKrC,GAAzB,EAA8B;YAC/BkB,KAAK,CAACmB,KAAN,GAAc,KAAKpC,KAAnB;YACAwC,MAAM,GAAG,CAAT;UACH,CAHI,MAIA,IAAIvB,KAAK,CAACmB,KAAN,KAAgB,KAAK3C,GAAzB,EAA8B;YAC/BwB,KAAK,CAACmB,KAAN,GAAc,KAAK7C,QAAnB;YACAiD,MAAM,GAAG,CAAT;UACH,CAHI,MAIA,IAAIvB,KAAK,CAACmB,KAAN,KAAgB,KAAKzC,GAArB,IAA4BsB,KAAK,CAACmB,KAAN,KAAgB,KAAK1C,WAAjD,IAAgEuB,KAAK,CAACmB,KAAN,KAAgB,KAAKxC,QAAzF,EAAmG;YACpGqB,KAAK,CAACmB,KAAN,GAAc,KAAK5C,QAAnB;YACAgD,MAAM,GAAG,CAAT;UACH,CAHI,MAIA;YACDvB,KAAK,CAACsB,IAAN,GAAa,KAAKlD,UAAlB;UACH;QACJ,CApBI,MAqBA,IAAI0B,KAAK,KAAK,KAAKjB,KAAnB,EAA0B;UAC3B,IAAImB,KAAK,CAACmB,KAAN,KAAgB,KAAKtD,IAAzB,EAA+B;YAC3BmC,KAAK,CAACmB,KAAN,GAAc,KAAKnD,SAAnB;YACAuD,MAAM,GAAG,CAAT;UACH;QACJ,CALI,MAMA;UACDvB,KAAK,CAACX,KAAN,GAAcS,KAAd;QACH;;QACD,IAAIyB,MAAM,KAAK,CAAf,EAAkB;UACdvB,KAAK,CAACqB,QAAN;QACH;;QACD,OAAOE,MAAP;MACH;;MACD,IAAIvB,KAAK,CAACX,KAAN,KAAgB,EAApB,EAAwB;QACpB,OAAO,CAAP;MACH;;MACD,IAAIW,KAAK,CAACmB,KAAN,KAAgB,KAAKlD,GAAzB,EAA8B;QAC1B,IAAI6B,KAAK,KAAK,KAAKjC,IAAnB,EAAyB;UACrBmC,KAAK,CAACmB,KAAN,GAAc,KAAKrC,GAAnB;UACAkB,KAAK,CAACkB,MAAN,GAAe,CAAf;UACAK,MAAM,GAAG,CAAT;QACH,CAJD,MAKK,IAAIzB,KAAK,KAAK,KAAKhC,SAAnB,EAA8B;UAC/BkC,KAAK,CAACmB,KAAN,GAAc,KAAKpC,KAAnB;UACAiB,KAAK,CAACkB,MAAN,GAAe,CAAf;UACAK,MAAM,GAAG,CAAT;QACH,CAJI,MAKA,IAAIzB,KAAK,KAAK,KAAK/B,cAAnB,EAAmC;UACpCiC,KAAK,CAACmB,KAAN,GAAc,KAAKnC,MAAnB;UACAgB,KAAK,CAACkB,MAAN,GAAe,CAAf;UACAK,MAAM,GAAG,CAAT;QACH,CAJI,MAKA,IAAIzB,KAAK,KAAK,KAAK9B,SAAnB,EAA8B;UAC/BgC,KAAK,CAACmB,KAAN,GAAc,KAAKlC,KAAnB;UACAe,KAAK,CAACkB,MAAN,GAAe,CAAf;UACAK,MAAM,GAAG,CAAT;QACH;MACJ,CAvFmB,CAwFpB;MACA;MACA;MACA;MACA;;;MACA,OAAOA,MAAP;IACH,CA9FD,MA+FK;MACD,OAAO,CAAP;IACH;EACJ,CAnGD;;EAoGA5D,mBAAmB,CAAC+B,SAApB,CAA8BuB,aAA9B,GAA8C,UAAUjB,KAAV,EAAiB;IAC3D,IAAKA,KAAK,IAAI,KAAK9B,KAAf,IAA0B8B,KAAK,IAAI,KAAKd,IAAxC,IAAiD,EAAGc,KAAK,IAAI,KAAKb,QAAd,IAA0Ba,KAAK,IAAI,KAAK3B,UAAzC,IAChD2B,KAAK,KAAK,KAAKZ,eAD+B,CAArD,EACwC;MACpC,IAAIiB,CAAC,GAAG,EAAR;;MACA,IAAI,KAAKf,cAAL,CAAoBS,QAApB,CAA6BC,KAA7B,CAAJ,EAAyC;QACrCK,CAAC,GAAG,KAAKf,cAAL,CAAoBS,QAApB,CAA6BC,KAA7B,CAAJ;QACA,OAAOK,CAAC,CAACb,MAAF,GAAW,CAAlB;MACH;IACJ,CAPD,MAQK,IAAIQ,KAAK,KAAK,KAAK7B,eAAnB,EAAoC;MACrC,OAAO,CAAP;IACH;;IACD,OAAO,CAAP;EACH,CAbD;;EAcA,OAAOR,mBAAP;AACH,CAtUwC,EAAzC;;AAuUA,SAASA,mBAAT,G,CACA;AACA;;AACA,IAAImD,WAAW;AAAG;AAAe,YAAY;EACzC,SAASA,WAAT,GAAuB;IACnB;IACA,KAAKU,UAAL,GAAkB,EAAlB;IACA,KAAKC,SAAL,GAAiB,EAAjB;IACA,KAAKC,UAAL,GAAkB,EAAlB;IACA,KAAKC,aAAL,GAAqB,CAArB;IACA,KAAKC,WAAL,GAAmB,CAAnB,CANmB,CAOnB;EACH;;EACDC,MAAM,CAACC,cAAP,CAAsBhB,WAAW,CAACpB,SAAlC,EAA6C,OAA7C,EAAsD;IAClD;IACA;;IACA;AACR;AACA;AACA;IACQqC,GAAG,EAAE,eAAY;MACb,OAAO,KAAKP,UAAZ;IACH,CATiD;IAUlDQ,GAAG,EAAE,aAAUlC,KAAV,EAAiB;MAClB,KAAK0B,UAAL,GAAkB1B,KAAlB;IACH,CAZiD;IAalDmC,UAAU,EAAE,IAbsC;IAclDC,YAAY,EAAE;EAdoC,CAAtD;EAgBAL,MAAM,CAACC,cAAP,CAAsBhB,WAAW,CAACpB,SAAlC,EAA6C,MAA7C,EAAqD;IACjD;AACR;AACA;AACA;IACQqC,GAAG,EAAE,eAAY;MACb,OAAO,KAAKN,SAAZ;IACH,CAPgD;IAQjDO,GAAG,EAAE,aAAUlC,KAAV,EAAiB;MAClB,KAAK2B,SAAL,GAAiB3B,KAAjB;IACH,CAVgD;IAWjDmC,UAAU,EAAE,IAXqC;IAYjDC,YAAY,EAAE;EAZmC,CAArD;EAcAL,MAAM,CAACC,cAAP,CAAsBhB,WAAW,CAACpB,SAAlC,EAA6C,OAA7C,EAAsD;IAClD;AACR;AACA;AACA;IACQqC,GAAG,EAAE,eAAY;MACb,OAAO,KAAKL,UAAZ;IACH,CAPiD;IAQlDM,GAAG,EAAE,aAAUlC,KAAV,EAAiB;MAClB,KAAK4B,UAAL,GAAkB5B,KAAlB;IACH,CAViD;IAWlDmC,UAAU,EAAE,IAXsC;IAYlDC,YAAY,EAAE;EAZoC,CAAtD;EAcAL,MAAM,CAACC,cAAP,CAAsBhB,WAAW,CAACpB,SAAlC,EAA6C,UAA7C,EAAyD;IACrD;AACR;AACA;AACA;IACQqC,GAAG,EAAE,eAAY;MACb,OAAO,KAAKJ,aAAZ;IACH,CAPoD;IAQrDK,GAAG,EAAE,aAAUlC,KAAV,EAAiB;MAClB,KAAK6B,aAAL,GAAqB7B,KAArB;IACH,CAVoD;IAWrDmC,UAAU,EAAE,IAXyC;IAYrDC,YAAY,EAAE;EAZuC,CAAzD;EAcAL,MAAM,CAACC,cAAP,CAAsBhB,WAAW,CAACpB,SAAlC,EAA6C,QAA7C,EAAuD;IACnD;AACR;AACA;AACA;IACQqC,GAAG,EAAE,eAAY;MACb,OAAO,KAAKH,WAAZ;IACH,CAPkD;IAQnDI,GAAG,EAAE,aAAUlC,KAAV,EAAiB;MAClB,KAAK8B,WAAL,GAAmB9B,KAAnB;IACH,CAVkD;IAWnDmC,UAAU,EAAE,IAXuC;IAYnDC,YAAY,EAAE;EAZqC,CAAvD;EAcA,OAAOpB,WAAP;AACH,CAnFgC,EAAjC;;AAoFA,SAASA,WAAT,G,CACA"},"metadata":{},"sourceType":"module"}