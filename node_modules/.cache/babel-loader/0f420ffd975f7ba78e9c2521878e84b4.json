{"ast":null,"code":"/**\n * Render range navigator for financial chart\n */\nimport { RangeNavigator } from '../../range-navigator/range-navigator';\nimport { remove } from '@syncfusion/ej2-base';\nimport { getElement } from '../../common/utils/helper';\nimport { Size } from '@syncfusion/ej2-svg-base';\n/** @private */\n\nvar RangeSelector =\n/** @class */\nfunction () {\n  function RangeSelector(stockChart) {\n    this.stockChart = stockChart;\n  }\n\n  RangeSelector.prototype.initializeRangeNavigator = function () {\n    var _this = this;\n\n    var stockChart = this.stockChart;\n\n    if (!stockChart.selectorObject) {\n      stockChart.selectorObject = stockChart.renderer.createGroup({\n        id: stockChart.element.id + '_stockChart_rangeSelector',\n        transform: 'translate(' + 0 + ',' + stockChart.cartesianChart.cartesianChartSize.height + ')'\n      });\n      stockChart.mainObject.appendChild(stockChart.selectorObject);\n    } else {\n      var chartElement = document.getElementById(stockChart.selectorObject.id);\n\n      while (chartElement.firstChild) {\n        chartElement.removeChild(chartElement.firstChild);\n      }\n\n      if (getElement(stockChart.selectorObject.id + '_leftTooltip')) {\n        remove(getElement(stockChart.selectorObject.id + '_leftTooltip'));\n      }\n\n      if (getElement(stockChart.selectorObject.id + '_rightTooltip')) {\n        remove(getElement(stockChart.selectorObject.id + '_rightTooltip'));\n      }\n    }\n\n    stockChart.rangeNavigator = new RangeNavigator({\n      locale: 'en',\n      valueType: stockChart.primaryXAxis.valueType,\n      theme: this.stockChart.theme,\n      series: this.findSeriesCollection(stockChart.series),\n      height: this.calculateChartSize().height.toString(),\n      value: [new Date(stockChart.startValue), new Date(stockChart.endValue)],\n      margin: this.findMargin(stockChart),\n      tooltip: {\n        enable: stockChart.tooltip.enable,\n        displayMode: 'Always'\n      },\n      dataSource: stockChart.dataSource,\n      changed: function changed(args) {\n        var arg = {\n          name: 'rangeChange',\n          end: args.end,\n          selectedData: args.selectedData,\n          start: args.start,\n          zoomFactor: args.zoomFactor,\n          zoomPosition: args.zoomPosition,\n          data: undefined\n        };\n\n        _this.stockChart.trigger('rangeChange', arg);\n\n        _this.stockChart.startValue = args.start;\n        _this.stockChart.endValue = args.end;\n\n        if (!_this.stockChart.zoomChange) {\n          _this.stockChart.cartesianChart.cartesianChartRefresh(_this.stockChart, args.start, args.end, arg.data);\n        }\n\n        if (stockChart.periodSelector && stockChart.periodSelector.datePicker) {\n          stockChart.periodSelector.datePicker.startDate = new Date(args.start);\n          stockChart.periodSelector.datePicker.endDate = new Date(args.end);\n          stockChart.periodSelector.datePicker.dataBind();\n        }\n      }\n    });\n    stockChart.rangeNavigator.stockChart = stockChart;\n    stockChart.rangeNavigator.appendTo(stockChart.selectorObject);\n  };\n\n  RangeSelector.prototype.findMargin = function (stockChart) {\n    var margin = {};\n    margin.top = 5;\n    margin.left = 0;\n    margin.right = 0;\n    margin.bottom = 0;\n    return margin;\n  };\n\n  RangeSelector.prototype.findSeriesCollection = function (series) {\n    var chartSeries = [];\n\n    for (var i = 0, len = series.length; i < len; i++) {\n      chartSeries.push(series[i]);\n      chartSeries[i].xName = series[i].xName;\n      chartSeries[i].yName = series[i].yName === '' ? series[i].close : series[i].yName;\n    }\n\n    return chartSeries;\n  };\n\n  RangeSelector.prototype.calculateChartSize = function () {\n    var stockChart = this.stockChart;\n    return new Size(stockChart.availableSize.width, stockChart.enableSelector ? 80 : 0);\n  };\n  /**\n   * Performs slider change\n   * @param start\n   * @param end\n   */\n\n\n  RangeSelector.prototype.sliderChange = function (start, end) {\n    this.stockChart.rangeNavigator.rangeSlider.performAnimation(start, end, this.stockChart.rangeNavigator, 0);\n  };\n\n  return RangeSelector;\n}();\n\nexport { RangeSelector };","map":{"version":3,"names":["RangeNavigator","remove","getElement","Size","RangeSelector","stockChart","prototype","initializeRangeNavigator","_this","selectorObject","renderer","createGroup","id","element","transform","cartesianChart","cartesianChartSize","height","mainObject","appendChild","chartElement","document","getElementById","firstChild","removeChild","rangeNavigator","locale","valueType","primaryXAxis","theme","series","findSeriesCollection","calculateChartSize","toString","value","Date","startValue","endValue","margin","findMargin","tooltip","enable","displayMode","dataSource","changed","args","arg","name","end","selectedData","start","zoomFactor","zoomPosition","data","undefined","trigger","zoomChange","cartesianChartRefresh","periodSelector","datePicker","startDate","endDate","dataBind","appendTo","top","left","right","bottom","chartSeries","i","len","length","push","xName","yName","close","availableSize","width","enableSelector","sliderChange","rangeSlider","performAnimation"],"sources":["D:/Theme/package/node_modules/@syncfusion/ej2-charts/src/stock-chart/renderer/range-selector.js"],"sourcesContent":["/**\n * Render range navigator for financial chart\n */\nimport { RangeNavigator } from '../../range-navigator/range-navigator';\nimport { remove } from '@syncfusion/ej2-base';\nimport { getElement } from '../../common/utils/helper';\nimport { Size } from '@syncfusion/ej2-svg-base';\n/** @private */\nvar RangeSelector = /** @class */ (function () {\n    function RangeSelector(stockChart) {\n        this.stockChart = stockChart;\n    }\n    RangeSelector.prototype.initializeRangeNavigator = function () {\n        var _this = this;\n        var stockChart = this.stockChart;\n        if (!stockChart.selectorObject) {\n            stockChart.selectorObject = stockChart.renderer.createGroup({\n                id: stockChart.element.id + '_stockChart_rangeSelector',\n                transform: 'translate(' + 0 + ',' + stockChart.cartesianChart.cartesianChartSize.height + ')'\n            });\n            stockChart.mainObject.appendChild(stockChart.selectorObject);\n        }\n        else {\n            var chartElement = document.getElementById(stockChart.selectorObject.id);\n            while (chartElement.firstChild) {\n                chartElement.removeChild(chartElement.firstChild);\n            }\n            if (getElement(stockChart.selectorObject.id + '_leftTooltip')) {\n                remove(getElement(stockChart.selectorObject.id + '_leftTooltip'));\n            }\n            if (getElement(stockChart.selectorObject.id + '_rightTooltip')) {\n                remove(getElement(stockChart.selectorObject.id + '_rightTooltip'));\n            }\n        }\n        stockChart.rangeNavigator = new RangeNavigator({\n            locale: 'en',\n            valueType: stockChart.primaryXAxis.valueType,\n            theme: this.stockChart.theme,\n            series: this.findSeriesCollection(stockChart.series),\n            height: this.calculateChartSize().height.toString(),\n            value: [new Date(stockChart.startValue), new Date(stockChart.endValue)],\n            margin: this.findMargin(stockChart),\n            tooltip: { enable: stockChart.tooltip.enable, displayMode: 'Always' },\n            dataSource: stockChart.dataSource,\n            changed: function (args) {\n                var arg = {\n                    name: 'rangeChange',\n                    end: args.end,\n                    selectedData: args.selectedData,\n                    start: args.start,\n                    zoomFactor: args.zoomFactor,\n                    zoomPosition: args.zoomPosition,\n                    data: undefined\n                };\n                _this.stockChart.trigger('rangeChange', arg);\n                _this.stockChart.startValue = args.start;\n                _this.stockChart.endValue = args.end;\n                if (!_this.stockChart.zoomChange) {\n                    _this.stockChart.cartesianChart.cartesianChartRefresh(_this.stockChart, args.start, args.end, arg.data);\n                }\n                if (stockChart.periodSelector && stockChart.periodSelector.datePicker) {\n                    stockChart.periodSelector.datePicker.startDate = new Date(args.start);\n                    stockChart.periodSelector.datePicker.endDate = new Date(args.end);\n                    stockChart.periodSelector.datePicker.dataBind();\n                }\n            }\n        });\n        stockChart.rangeNavigator.stockChart = stockChart;\n        stockChart.rangeNavigator.appendTo(stockChart.selectorObject);\n    };\n    RangeSelector.prototype.findMargin = function (stockChart) {\n        var margin = {};\n        margin.top = 5;\n        margin.left = 0;\n        margin.right = 0;\n        margin.bottom = 0;\n        return margin;\n    };\n    RangeSelector.prototype.findSeriesCollection = function (series) {\n        var chartSeries = [];\n        for (var i = 0, len = series.length; i < len; i++) {\n            chartSeries.push(series[i]);\n            chartSeries[i].xName = series[i].xName;\n            chartSeries[i].yName = series[i].yName === '' ? series[i].close : series[i].yName;\n        }\n        return chartSeries;\n    };\n    RangeSelector.prototype.calculateChartSize = function () {\n        var stockChart = this.stockChart;\n        return (new Size(stockChart.availableSize.width, (stockChart.enableSelector) ? 80 : 0));\n    };\n    /**\n     * Performs slider change\n     * @param start\n     * @param end\n     */\n    RangeSelector.prototype.sliderChange = function (start, end) {\n        this.stockChart.rangeNavigator.rangeSlider.performAnimation(start, end, this.stockChart.rangeNavigator, 0);\n    };\n    return RangeSelector;\n}());\nexport { RangeSelector };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}