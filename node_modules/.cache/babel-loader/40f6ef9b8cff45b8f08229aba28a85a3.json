{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar dayjs = require(\"dayjs\");\n\nvar DateUtil_1 = require(\"../utils/DateUtil\");\n\nvar Constant_1 = require(\"../common/Constant\");\n\nvar Picker_1 = require(\"./Picker\");\n\nvar RangePickerInput_1 = require(\"./RangePickerInput\");\n\nvar Calendar_1 = require(\"./Calendar\");\n\nvar FunctionUtil_1 = require(\"../utils/FunctionUtil\");\n\nvar RangeDatePicker =\n/** @class */\nfunction (_super) {\n  __extends(RangeDatePicker, _super);\n\n  function RangeDatePicker(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.handleDateChange = function (actions) {\n      return function (date) {\n        var _a = _this.props,\n            onChange = _a.onChange,\n            dateFormat = _a.dateFormat;\n        var _b = _this.state,\n            start = _b.start,\n            end = _b.end;\n        var startDate;\n        var endDate;\n        startDate = start;\n        endDate = end;\n\n        if (!start) {\n          startDate = date;\n        } else {\n          if (end) {\n            startDate = date;\n            endDate = undefined;\n          } else {\n            if (!DateUtil_1.isDayBefore(date, start)) {\n              endDate = date;\n            } else {\n              startDate = date;\n            }\n          }\n        }\n\n        FunctionUtil_1.ifExistCall(onChange, startDate, endDate);\n\n        _this.setState(__assign({}, _this.state, {\n          start: startDate,\n          end: endDate,\n          startValue: DateUtil_1.formatDate(startDate, dateFormat),\n          endValue: DateUtil_1.formatDate(endDate, dateFormat)\n        }), function () {\n          if (_this.state.start && _this.state.end) {\n            actions.hide();\n          }\n        });\n      };\n    };\n\n    _this.handleInputChange = function (fieldType, value) {\n      var _a;\n\n      var key = fieldType === RangePickerInput_1.FieldType.START ? 'startValue' : 'endValue';\n\n      _this.setState(__assign({}, _this.state, (_a = {}, _a[key] = value, _a)));\n    };\n\n    _this.handleMouseOver = function (date) {\n      _this.setState(__assign({}, _this.state, {\n        hoverDate: date\n      }));\n    };\n\n    _this.handleInputBlur = function (fieldType, value) {\n      var dateFormat = _this.props.dateFormat;\n      var _a = _this.state,\n          start = _a.start,\n          end = _a.end;\n      var parsedDate = dayjs(value, dateFormat);\n      var startDate = start;\n      var endDate = end;\n\n      if (parsedDate.isValid() && dateFormat.length === value.length) {\n        if (fieldType === RangePickerInput_1.FieldType.END) {\n          endDate = parsedDate;\n        } else if (fieldType === RangePickerInput_1.FieldType.START) {\n          startDate = parsedDate;\n        }\n      }\n\n      if (startDate && endDate) {\n        if (DateUtil_1.isDayBefore(endDate, startDate) || DateUtil_1.isDayAfter(startDate, endDate)) {\n          // Swapping Date\n          var temp = void 0;\n          temp = startDate;\n          startDate = endDate;\n          endDate = temp;\n        }\n      }\n\n      _this.setState(__assign({}, _this.state, {\n        start: startDate,\n        end: endDate,\n        startValue: DateUtil_1.formatDate(startDate, dateFormat),\n        endValue: DateUtil_1.formatDate(endDate, dateFormat)\n      }));\n    };\n\n    _this.handleCalendarText = function (date) {\n      var _a = _this.props,\n          startText = _a.startText,\n          endText = _a.endText,\n          customDayText = _a.customDayText;\n      var _b = _this.state,\n          start = _b.start,\n          end = _b.end;\n      if (DateUtil_1.isDayEqual(start, date)) return startText;\n      if (DateUtil_1.isDayEqual(end, date)) return endText;\n      FunctionUtil_1.ifExistCall(customDayText, date);\n      return '';\n    };\n\n    _this.handleCalendarClass = function (date) {\n      var customDayClass = _this.props.customDayClass;\n      var _a = _this.state,\n          start = _a.start,\n          end = _a.end,\n          hoverDate = _a.hoverDate;\n\n      if (start && !end && hoverDate) {\n        if (DateUtil_1.isDayRange(date, start, hoverDate)) {\n          return 'calendar__day--range';\n        }\n      }\n\n      FunctionUtil_1.ifExistCall(customDayClass, date);\n      return '';\n    };\n\n    _this.handleInputClear = function (fieldType) {\n      if (fieldType === RangePickerInput_1.FieldType.START) {\n        _this.setState(__assign({}, _this.state, {\n          start: undefined,\n          startValue: ''\n        }));\n      } else if (fieldType === RangePickerInput_1.FieldType.END) {\n        _this.setState(__assign({}, _this.state, {\n          end: undefined,\n          endValue: ''\n        }));\n      }\n    };\n\n    _this.renderRangePickerInput = function () {\n      var _a = _this.props,\n          startPlaceholder = _a.startPlaceholder,\n          endPlaceholder = _a.endPlaceholder,\n          readOnly = _a.readOnly,\n          disabled = _a.disabled,\n          clear = _a.clear,\n          onChange = _a.onChange;\n      var _b = _this.state,\n          startValue = _b.startValue,\n          endValue = _b.endValue;\n      return React.createElement(RangePickerInput_1.default, {\n        startPlaceholder: startPlaceholder,\n        readOnly: readOnly,\n        disabled: disabled,\n        clear: clear,\n        endPlaceholder: endPlaceholder,\n        startValue: startValue,\n        endValue: endValue,\n        onChange: _this.handleInputChange,\n        onBlur: _this.handleInputBlur,\n        onClear: _this.handleInputClear\n      });\n    };\n\n    _this.renderCalendar = function (actions) {\n      var _a = _this.props,\n          showMonthCnt = _a.showMonthCnt,\n          initialDate = _a.initialDate,\n          wrapper = _a.wrapper;\n      var _b = _this.state,\n          start = _b.start,\n          end = _b.end;\n      var component;\n      var calendar = React.createElement(Calendar_1.default, __assign({}, _this.props, {\n        base: start || initialDate,\n        startDay: start,\n        endDay: end,\n        showMonthCnt: showMonthCnt,\n        onChange: _this.handleDateChange(actions),\n        onMouseOver: _this.handleMouseOver,\n        customDayText: _this.handleCalendarText,\n        customDayClass: _this.handleCalendarClass\n      }));\n      component = calendar;\n\n      if (wrapper) {\n        component = wrapper(calendar);\n      }\n\n      return component;\n    };\n\n    var dateFormat = props.dateFormat,\n        initialStartDate = props.initialStartDate,\n        initialEndDate = props.initialEndDate;\n    var start = initialStartDate;\n    var end = initialEndDate;\n    _this.state = {\n      start: start,\n      end: end,\n      startValue: DateUtil_1.formatDate(start, dateFormat),\n      endValue: DateUtil_1.formatDate(end, dateFormat)\n    };\n    return _this;\n  }\n\n  RangeDatePicker.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        portal = _a.portal,\n        direction = _a.direction,\n        disabled = _a.disabled,\n        readOnly = _a.readOnly;\n    return React.createElement(Picker_1.default, {\n      portal: portal,\n      direction: direction,\n      readOnly: readOnly,\n      disabled: disabled,\n      renderTrigger: function renderTrigger() {\n        return _this.renderRangePickerInput();\n      },\n      renderContents: function renderContents(_a) {\n        var actions = _a.actions;\n        return _this.renderCalendar(actions);\n      }\n    });\n  };\n\n  RangeDatePicker.defaultProps = {\n    dateFormat: Constant_1.DatePickerDefaults.dateFormat,\n    portal: false,\n    initialDate: dayjs(),\n    showMonthCnt: 2,\n    startText: '',\n    endText: ''\n  };\n  return RangeDatePicker;\n}(React.Component);\n\nexports.default = RangeDatePicker;","map":{"version":3,"mappings":"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","names":["__extends","props","_super","_this","actions","date","onChange","dateFormat","start","end","startDate","endDate","undefined","DateUtil_1","FunctionUtil_1","setState","__assign","state","startValue","endValue","hide","fieldType","value","key","RangePickerInput_1","START","_a","hoverDate","parsedDate","dayjs","isValid","length","END","temp","startText","endText","customDayText","customDayClass","startPlaceholder","endPlaceholder","readOnly","disabled","clear","React","handleInputChange","onBlur","handleInputBlur","onClear","handleInputClear","showMonthCnt","initialDate","wrapper","component","calendar","Calendar_1","base","startDay","endDay","handleDateChange","onMouseOver","handleMouseOver","handleCalendarText","handleCalendarClass","initialStartDate","initialEndDate","RangeDatePicker","portal","direction","Picker_1","renderTrigger","renderRangePickerInput","renderContents","renderCalendar","Constant_1","Component","exports"],"sourceRoot":"","sources":["../../src/components/RangeDatePicker.tsx"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}