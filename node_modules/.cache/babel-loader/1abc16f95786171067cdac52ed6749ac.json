{"ast":null,"code":"import _every from \"lodash/every\";\nimport _find from \"lodash/find\";\nimport _sortBy from \"lodash/sortBy\";\nimport _isFunction from \"lodash/isFunction\";\nimport _range from \"lodash/range\";\nimport _throttle from \"lodash/throttle\";\nimport _isNil from \"lodash/isNil\";\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nimport React, { Component, cloneElement, isValidElement, createElement } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport Surface from '../container/Surface';\nimport Layer from '../container/Layer';\nimport Tooltip from '../component/Tooltip';\nimport Legend from '../component/Legend';\nimport Curve from '../shape/Curve';\nimport Cross from '../shape/Cross';\nimport Sector from '../shape/Sector';\nimport Dot from '../shape/Dot';\nimport Rectangle from '../shape/Rectangle';\nimport { findAllByType, findChildByType, getDisplayName, parseChildIndex, getPresentationAttributes, validateWidthHeight, isChildrenEqual, renderByOrder, getReactEventByType, filterEventAttributes } from '../util/ReactUtils';\nimport CartesianAxis from '../cartesian/CartesianAxis';\nimport Brush from '../cartesian/Brush';\nimport { getOffset, calculateChartCoordinate } from '../util/DOMUtils';\nimport { getAnyElementOfObject, hasDuplicate, uniqueId, isNumber, findEntryInArray } from '../util/DataUtils';\nimport { calculateActiveTickIndex, getMainColorOfGraphicItem, getBarSizeList, getBarPosition, appendOffsetOfLegend, getLegendProps, combineEventHandlers, getTicksOfAxis, getCoordinatesOfGrid, getStackedDataOfItem, parseErrorBarsOfAxis, getBandSizeOfAxis, getStackGroupsByAxisId, getValueByDataKey, isCategorialAxis, getDomainOfItemsWithSameAxis, getDomainOfStackGroups, getDomainOfDataByKey, parseSpecifiedDomain, parseDomainOfCategoryAxis } from '../util/ChartUtils';\nimport { detectReferenceElementsDomain } from '../util/DetectReferenceElementsDomain';\nimport { inRangeOfSector, polarToCartesian } from '../util/PolarUtils';\nimport { shallowEqual } from '../util/ShallowEqual';\nimport { eventCenter, SYNC_EVENT } from '../util/Events';\nvar ORIENT_MAP = {\n  xAxis: ['bottom', 'top'],\n  yAxis: ['left', 'right']\n};\nvar originCoordinate = {\n  x: 0,\n  y: 0\n};\n\nvar generateCategoricalChart = function generateCategoricalChart(_ref) {\n  var chartName = _ref.chartName,\n      GraphicalChild = _ref.GraphicalChild,\n      _ref$eventType = _ref.eventType,\n      eventType = _ref$eventType === void 0 ? 'axis' : _ref$eventType,\n      axisComponents = _ref.axisComponents,\n      legendContent = _ref.legendContent,\n      formatAxisMap = _ref.formatAxisMap,\n      defaultProps = _ref.defaultProps,\n      propTypes = _ref.propTypes;\n\n  var CategoricalChartWrapper = /*#__PURE__*/function (_Component) {\n    _inherits(CategoricalChartWrapper, _Component);\n    /**\n     * Returns default, reset state for the categorical chart.\n     * @param {Object} props Props object to use when creating the default state\n     * @return {Object} Whole new state\n     */\n\n\n    function CategoricalChartWrapper(_props) {\n      var _this;\n\n      _classCallCheck(this, CategoricalChartWrapper);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(CategoricalChartWrapper).call(this, _props));\n\n      _this.handleLegendBBoxUpdate = function (box) {\n        if (box && _this.legendInstance) {\n          var _this$state = _this.state,\n              dataStartIndex = _this$state.dataStartIndex,\n              dataEndIndex = _this$state.dataEndIndex,\n              updateId = _this$state.updateId;\n\n          _this.setState(_this.updateStateOfAxisMapsOffsetAndStackGroups({\n            props: _this.props,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex,\n            updateId: updateId\n          }));\n        }\n      };\n\n      _this.handleReceiveSyncEvent = function (cId, chartId, data) {\n        var _this$props = _this.props,\n            syncId = _this$props.syncId,\n            layout = _this$props.layout;\n        var updateId = _this.state.updateId;\n\n        if (syncId === cId && chartId !== _this.uniqueChartId) {\n          var dataStartIndex = data.dataStartIndex,\n              dataEndIndex = data.dataEndIndex;\n\n          if (!_isNil(data.dataStartIndex) || !_isNil(data.dataEndIndex)) {\n            _this.setState(_objectSpread({\n              dataStartIndex: dataStartIndex,\n              dataEndIndex: dataEndIndex\n            }, _this.updateStateOfAxisMapsOffsetAndStackGroups({\n              props: _this.props,\n              dataStartIndex: dataStartIndex,\n              dataEndIndex: dataEndIndex,\n              updateId: updateId\n            })));\n          } else if (!_isNil(data.activeTooltipIndex)) {\n            var chartX = data.chartX,\n                chartY = data.chartY,\n                activeTooltipIndex = data.activeTooltipIndex;\n            var _this$state2 = _this.state,\n                offset = _this$state2.offset,\n                tooltipTicks = _this$state2.tooltipTicks;\n\n            if (!offset) {\n              return;\n            }\n\n            var viewBox = _objectSpread({}, offset, {\n              x: offset.left,\n              y: offset.top\n            }); // When a categotical chart is combined with another chart, the value of chartX\n            // and chartY may beyond the boundaries.\n\n\n            var validateChartX = Math.min(chartX, viewBox.x + viewBox.width);\n            var validateChartY = Math.min(chartY, viewBox.y + viewBox.height);\n            var activeLabel = tooltipTicks[activeTooltipIndex] && tooltipTicks[activeTooltipIndex].value;\n\n            var activePayload = _this.getTooltipContent(activeTooltipIndex);\n\n            var activeCoordinate = tooltipTicks[activeTooltipIndex] ? {\n              x: layout === 'horizontal' ? tooltipTicks[activeTooltipIndex].coordinate : validateChartX,\n              y: layout === 'horizontal' ? validateChartY : tooltipTicks[activeTooltipIndex].coordinate\n            } : originCoordinate;\n\n            _this.setState(_objectSpread({}, data, {\n              activeLabel: activeLabel,\n              activeCoordinate: activeCoordinate,\n              activePayload: activePayload\n            }));\n          } else {\n            _this.setState(data);\n          }\n        }\n      };\n\n      _this.handleBrushChange = function (_ref2) {\n        var startIndex = _ref2.startIndex,\n            endIndex = _ref2.endIndex; // Only trigger changes if the extents of the brush have actually changed\n\n        if (startIndex !== _this.state.dataStartIndex || endIndex !== _this.state.dataEndIndex) {\n          var updateId = _this.state.updateId;\n\n          _this.setState(function () {\n            return _objectSpread({\n              dataStartIndex: startIndex,\n              dataEndIndex: endIndex\n            }, _this.updateStateOfAxisMapsOffsetAndStackGroups({\n              props: _this.props,\n              dataStartIndex: startIndex,\n              dataEndIndex: endIndex,\n              updateId: updateId\n            }));\n          });\n\n          _this.triggerSyncEvent({\n            dataStartIndex: startIndex,\n            dataEndIndex: endIndex\n          });\n        }\n      };\n\n      _this.handleMouseEnter = function (e) {\n        var onMouseEnter = _this.props.onMouseEnter;\n\n        var mouse = _this.getMouseInfo(e);\n\n        if (mouse) {\n          var nextState = _objectSpread({}, mouse, {\n            isTooltipActive: true\n          });\n\n          _this.setState(nextState);\n\n          _this.triggerSyncEvent(nextState);\n\n          if (_isFunction(onMouseEnter)) {\n            onMouseEnter(nextState, e);\n          }\n        }\n      };\n\n      _this.triggeredAfterMouseMove = function (e) {\n        var onMouseMove = _this.props.onMouseMove;\n\n        var mouse = _this.getMouseInfo(e);\n\n        var nextState = mouse ? _objectSpread({}, mouse, {\n          isTooltipActive: true\n        }) : {\n          isTooltipActive: false\n        };\n\n        _this.setState(nextState);\n\n        _this.triggerSyncEvent(nextState);\n\n        if (_isFunction(onMouseMove)) {\n          onMouseMove(nextState, e);\n        }\n      };\n\n      _this.handleItemMouseEnter = function (el) {\n        _this.setState(function () {\n          return {\n            isTooltipActive: true,\n            activeItem: el,\n            activePayload: el.tooltipPayload,\n            activeCoordinate: el.tooltipPosition || {\n              x: el.cx,\n              y: el.cy\n            }\n          };\n        });\n      };\n\n      _this.handleItemMouseLeave = function () {\n        _this.setState(function () {\n          return {\n            isTooltipActive: false\n          };\n        });\n      };\n\n      _this.handleMouseMove = function (e) {\n        if (e && _isFunction(e.persist)) {\n          e.persist();\n        }\n\n        _this.triggeredAfterMouseMove(e);\n      };\n\n      _this.handleMouseLeave = function (e) {\n        var onMouseLeave = _this.props.onMouseLeave;\n        var nextState = {\n          isTooltipActive: false\n        };\n\n        _this.setState(nextState);\n\n        _this.triggerSyncEvent(nextState);\n\n        if (_isFunction(onMouseLeave)) {\n          onMouseLeave(nextState, e);\n        }\n      };\n\n      _this.handleOuterEvent = function (e) {\n        var eventName = getReactEventByType(e);\n\n        if (eventName && _isFunction(_this.props[eventName])) {\n          var mouse = _this.getMouseInfo(e);\n\n          var handler = _this.props[eventName];\n          handler(mouse, e);\n        }\n      };\n\n      _this.handleClick = function (e) {\n        var onClick = _this.props.onClick;\n\n        if (_isFunction(onClick)) {\n          var mouse = _this.getMouseInfo(e);\n\n          onClick(mouse, e);\n        }\n      };\n\n      _this.handleMouseDown = function (e) {\n        var onMouseDown = _this.props.onMouseDown;\n\n        if (_isFunction(onMouseDown)) {\n          var mouse = _this.getMouseInfo(e);\n\n          onMouseDown(mouse, e);\n        }\n      };\n\n      _this.handleMouseUp = function (e) {\n        var onMouseUp = _this.props.onMouseUp;\n\n        if (_isFunction(onMouseUp)) {\n          var mouse = _this.getMouseInfo(e);\n\n          onMouseUp(mouse, e);\n        }\n      };\n\n      _this.handleTouchMove = function (e) {\n        if (e.changedTouches != null && e.changedTouches.length > 0) {\n          _this.handleMouseMove(e.changedTouches[0]);\n        }\n      };\n\n      _this.handleTouchStart = function (e) {\n        if (e.changedTouches != null && e.changedTouches.length > 0) {\n          _this.handleMouseDown(e.changedTouches[0]);\n        }\n      };\n\n      _this.handleTouchEnd = function (e) {\n        if (e.changedTouches != null && e.changedTouches.length > 0) {\n          _this.handleMouseUp(e.changedTouches[0]);\n        }\n      };\n\n      _this.verticalCoordinatesGenerator = function (_ref3) {\n        var xAxis = _ref3.xAxis,\n            width = _ref3.width,\n            height = _ref3.height,\n            offset = _ref3.offset;\n        return getCoordinatesOfGrid(CartesianAxis.getTicks(_objectSpread({}, CartesianAxis.defaultProps, {}, xAxis, {\n          ticks: getTicksOfAxis(xAxis, true),\n          viewBox: {\n            x: 0,\n            y: 0,\n            width: width,\n            height: height\n          }\n        })), offset.left, offset.left + offset.width);\n      };\n\n      _this.horizontalCoordinatesGenerator = function (_ref4) {\n        var yAxis = _ref4.yAxis,\n            width = _ref4.width,\n            height = _ref4.height,\n            offset = _ref4.offset;\n        return getCoordinatesOfGrid(CartesianAxis.getTicks(_objectSpread({}, CartesianAxis.defaultProps, {}, yAxis, {\n          ticks: getTicksOfAxis(yAxis, true),\n          viewBox: {\n            x: 0,\n            y: 0,\n            width: width,\n            height: height\n          }\n        })), offset.top, offset.top + offset.height);\n      };\n\n      _this.axesTicksGenerator = function (axis) {\n        return getTicksOfAxis(axis, true);\n      };\n\n      _this.tooltipTicksGenerator = function (axisMap) {\n        var axis = getAnyElementOfObject(axisMap);\n        var tooltipTicks = getTicksOfAxis(axis, false, true);\n        return {\n          tooltipTicks: tooltipTicks,\n          orderedTooltipTicks: _sortBy(tooltipTicks, function (o) {\n            return o.coordinate;\n          }),\n          tooltipAxis: axis,\n          tooltipAxisBandSize: getBandSizeOfAxis(axis)\n        };\n      };\n\n      _this.renderCursor = function (element) {\n        var _this$state3 = _this.state,\n            isTooltipActive = _this$state3.isTooltipActive,\n            activeCoordinate = _this$state3.activeCoordinate,\n            activePayload = _this$state3.activePayload,\n            offset = _this$state3.offset;\n\n        if (!element || !element.props.cursor || !isTooltipActive || !activeCoordinate) {\n          return null;\n        }\n\n        var layout = _this.props.layout;\n        var restProps;\n        var cursorComp = Curve;\n\n        if (chartName === 'ScatterChart') {\n          restProps = activeCoordinate;\n          cursorComp = Cross;\n        } else if (chartName === 'BarChart') {\n          restProps = _this.getCursorRectangle();\n          cursorComp = Rectangle;\n        } else if (layout === 'radial') {\n          var _this$getCursorPoints = _this.getCursorPoints(),\n              cx = _this$getCursorPoints.cx,\n              cy = _this$getCursorPoints.cy,\n              radius = _this$getCursorPoints.radius,\n              startAngle = _this$getCursorPoints.startAngle,\n              endAngle = _this$getCursorPoints.endAngle;\n\n          restProps = {\n            cx: cx,\n            cy: cy,\n            startAngle: startAngle,\n            endAngle: endAngle,\n            innerRadius: radius,\n            outerRadius: radius\n          };\n          cursorComp = Sector;\n        } else {\n          restProps = {\n            points: _this.getCursorPoints()\n          };\n          cursorComp = Curve;\n        }\n\n        var key = element.key || '_recharts-cursor';\n\n        var cursorProps = _objectSpread({\n          stroke: '#ccc',\n          pointerEvents: 'none'\n        }, offset, {}, restProps, {}, getPresentationAttributes(element.props.cursor), {\n          payload: activePayload,\n          key: key,\n          className: 'recharts-tooltip-cursor'\n        });\n\n        return isValidElement(element.props.cursor) ? cloneElement(element.props.cursor, cursorProps) : createElement(cursorComp, cursorProps);\n      };\n\n      _this.renderPolarAxis = function (element, displayName, index) {\n        var axisType = element.type.axisType;\n\n        var axisMap = _this.state[\"\".concat(axisType, \"Map\")];\n\n        var axisOption = axisMap[element.props[\"\".concat(axisType, \"Id\")]];\n        return cloneElement(element, _objectSpread({}, axisOption, {\n          className: axisType,\n          key: element.key || \"\".concat(displayName, \"-\").concat(index),\n          ticks: getTicksOfAxis(axisOption, true)\n        }));\n      };\n\n      _this.renderXAxis = function (element, displayName, index) {\n        var xAxisMap = _this.state.xAxisMap;\n        var axisObj = xAxisMap[element.props.xAxisId];\n        return _this.renderAxis(axisObj, element, displayName, index);\n      };\n\n      _this.renderYAxis = function (element, displayName, index) {\n        var yAxisMap = _this.state.yAxisMap;\n        var axisObj = yAxisMap[element.props.yAxisId];\n        return _this.renderAxis(axisObj, element, displayName, index);\n      };\n\n      _this.renderGrid = function (element) {\n        var _this$state4 = _this.state,\n            xAxisMap = _this$state4.xAxisMap,\n            yAxisMap = _this$state4.yAxisMap,\n            offset = _this$state4.offset;\n        var _this$props2 = _this.props,\n            width = _this$props2.width,\n            height = _this$props2.height;\n        var xAxis = getAnyElementOfObject(xAxisMap);\n\n        var yAxisWithFiniteDomain = _find(yAxisMap, function (axis) {\n          return _every(axis.domain, Number.isFinite);\n        });\n\n        var yAxis = yAxisWithFiniteDomain || getAnyElementOfObject(yAxisMap);\n        var props = element.props || {};\n        return cloneElement(element, {\n          key: element.key || 'grid',\n          x: isNumber(props.x) ? props.x : offset.left,\n          y: isNumber(props.y) ? props.y : offset.top,\n          width: isNumber(props.width) ? props.width : offset.width,\n          height: isNumber(props.height) ? props.height : offset.height,\n          xAxis: xAxis,\n          yAxis: yAxis,\n          offset: offset,\n          chartWidth: width,\n          chartHeight: height,\n          verticalCoordinatesGenerator: props.verticalCoordinatesGenerator || _this.verticalCoordinatesGenerator,\n          horizontalCoordinatesGenerator: props.horizontalCoordinatesGenerator || _this.horizontalCoordinatesGenerator\n        });\n      };\n\n      _this.renderPolarGrid = function (element) {\n        var _this$state5 = _this.state,\n            radiusAxisMap = _this$state5.radiusAxisMap,\n            angleAxisMap = _this$state5.angleAxisMap;\n        var radiusAxis = getAnyElementOfObject(radiusAxisMap);\n        var angleAxis = getAnyElementOfObject(angleAxisMap);\n        var cx = angleAxis.cx,\n            cy = angleAxis.cy,\n            innerRadius = angleAxis.innerRadius,\n            outerRadius = angleAxis.outerRadius;\n        return cloneElement(element, {\n          polarAngles: getTicksOfAxis(angleAxis, true).map(function (entry) {\n            return entry.coordinate;\n          }),\n          polarRadius: getTicksOfAxis(radiusAxis, true).map(function (entry) {\n            return entry.coordinate;\n          }),\n          cx: cx,\n          cy: cy,\n          innerRadius: innerRadius,\n          outerRadius: outerRadius,\n          key: element.key || 'polar-grid'\n        });\n      };\n\n      _this.renderBrush = function (element) {\n        var _this$props3 = _this.props,\n            margin = _this$props3.margin,\n            data = _this$props3.data;\n        var _this$state6 = _this.state,\n            offset = _this$state6.offset,\n            dataStartIndex = _this$state6.dataStartIndex,\n            dataEndIndex = _this$state6.dataEndIndex,\n            updateId = _this$state6.updateId; // TODO: update brush when children update\n\n        return cloneElement(element, {\n          key: element.key || '_recharts-brush',\n          onChange: combineEventHandlers(_this.handleBrushChange, null, element.props.onChange),\n          data: data,\n          x: isNumber(element.props.x) ? element.props.x : offset.left,\n          y: isNumber(element.props.y) ? element.props.y : offset.top + offset.height + offset.brushBottom - (margin.bottom || 0),\n          width: isNumber(element.props.width) ? element.props.width : offset.width,\n          startIndex: dataStartIndex,\n          endIndex: dataEndIndex,\n          updateId: \"brush-\".concat(updateId)\n        });\n      };\n\n      _this.renderReferenceElement = function (element, displayName, index) {\n        if (!element) {\n          return null;\n        }\n\n        var _assertThisInitialize = _assertThisInitialized(_this),\n            clipPathId = _assertThisInitialize.clipPathId;\n\n        var _this$state7 = _this.state,\n            xAxisMap = _this$state7.xAxisMap,\n            yAxisMap = _this$state7.yAxisMap,\n            offset = _this$state7.offset;\n        var _element$props = element.props,\n            xAxisId = _element$props.xAxisId,\n            yAxisId = _element$props.yAxisId;\n        return cloneElement(element, {\n          key: element.key || \"\".concat(displayName, \"-\").concat(index),\n          xAxis: xAxisMap[xAxisId],\n          yAxis: yAxisMap[yAxisId],\n          viewBox: {\n            x: offset.left,\n            y: offset.top,\n            width: offset.width,\n            height: offset.height\n          },\n          clipPathId: clipPathId\n        });\n      };\n\n      _this.renderGraphicChild = function (element, displayName, index) {\n        var item = _this.filterFormatItem(element, displayName, index);\n\n        if (!item) {\n          return null;\n        }\n\n        var graphicalItem = cloneElement(element, item.props);\n        var _this$state8 = _this.state,\n            isTooltipActive = _this$state8.isTooltipActive,\n            tooltipAxis = _this$state8.tooltipAxis,\n            activeTooltipIndex = _this$state8.activeTooltipIndex,\n            activeLabel = _this$state8.activeLabel;\n        var children = _this.props.children;\n        var tooltipItem = findChildByType(children, Tooltip);\n        var _item$props = item.props,\n            points = _item$props.points,\n            isRange = _item$props.isRange,\n            baseLine = _item$props.baseLine;\n        var _item$item$props = item.item.props,\n            activeDot = _item$item$props.activeDot,\n            hide = _item$item$props.hide;\n        var hasActive = !hide && isTooltipActive && tooltipItem && activeDot && activeTooltipIndex >= 0;\n\n        function findWithPayload(entry) {\n          return tooltipAxis.dataKey(entry.payload);\n        }\n\n        if (hasActive) {\n          var activePoint, basePoint;\n\n          if (tooltipAxis.dataKey && !tooltipAxis.allowDuplicatedCategory) {\n            var specifiedKey = typeof tooltipAxis.dataKey === 'function' ? findWithPayload : 'payload.'.concat(tooltipAxis.dataKey);\n            activePoint = findEntryInArray(points, specifiedKey, activeLabel);\n            basePoint = isRange && baseLine && findEntryInArray(baseLine, specifiedKey, activeLabel);\n          } else {\n            activePoint = points[activeTooltipIndex];\n            basePoint = isRange && baseLine && baseLine[activeTooltipIndex];\n          }\n\n          if (!_isNil(activePoint)) {\n            return [graphicalItem].concat(_toConsumableArray(_this.renderActivePoints({\n              item: item,\n              activePoint: activePoint,\n              basePoint: basePoint,\n              childIndex: activeTooltipIndex,\n              isRange: isRange\n            })));\n          }\n        }\n\n        if (isRange) {\n          return [graphicalItem, null, null];\n        }\n\n        return [graphicalItem, null];\n      };\n\n      _this.renderCustomized = function (element) {\n        return cloneElement(element, _objectSpread({}, _this.props, {}, _this.state));\n      };\n\n      var defaultState = _this.constructor.createDefaultState(_props);\n\n      var _updateId = 0;\n      _this.state = _objectSpread({}, defaultState, {\n        updateId: 0\n      }, _this.updateStateOfAxisMapsOffsetAndStackGroups(_objectSpread({\n        props: _props\n      }, defaultState, {\n        updateId: _updateId\n      })));\n      _this.uniqueChartId = _isNil(_props.id) ? uniqueId('recharts') : _props.id;\n      _this.clipPathId = \"\".concat(_this.uniqueChartId, \"-clip\");\n\n      if (_props.throttleDelay) {\n        _this.triggeredAfterMouseMove = _throttle(_this.triggeredAfterMouseMove, _props.throttleDelay);\n      }\n\n      return _this;\n    }\n    /* eslint-disable  react/no-did-mount-set-state */\n\n\n    _createClass(CategoricalChartWrapper, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        if (!_isNil(this.props.syncId)) {\n          this.addListener();\n        }\n      } // eslint-disable-next-line camelcase\n\n    }, {\n      key: \"componentWillReceiveProps\",\n      value: function componentWillReceiveProps(nextProps) {\n        var _this2 = this;\n\n        var _this$props4 = this.props,\n            data = _this$props4.data,\n            children = _this$props4.children,\n            width = _this$props4.width,\n            height = _this$props4.height,\n            layout = _this$props4.layout,\n            stackOffset = _this$props4.stackOffset,\n            margin = _this$props4.margin;\n        var updateId = this.state.updateId;\n\n        if (nextProps.data !== data || nextProps.width !== width || nextProps.height !== height || nextProps.layout !== layout || nextProps.stackOffset !== stackOffset || !shallowEqual(nextProps.margin, margin)) {\n          var defaultState = this.constructor.createDefaultState(nextProps);\n          this.setState(_objectSpread({}, defaultState, {\n            updateId: updateId + 1\n          }, this.updateStateOfAxisMapsOffsetAndStackGroups(_objectSpread({\n            props: nextProps\n          }, defaultState, {\n            updateId: updateId + 1\n          }))));\n        } else if (!isChildrenEqual(nextProps.children, children)) {\n          // update configuration in chilren\n          var hasGlobalData = !_isNil(nextProps.data);\n          var newUpdateId = hasGlobalData ? updateId : updateId + 1;\n          this.setState(function (prevState) {\n            return _objectSpread({\n              updateId: newUpdateId\n            }, _this2.updateStateOfAxisMapsOffsetAndStackGroups(_objectSpread({\n              props: nextProps\n            }, prevState, {\n              updateId: newUpdateId\n            })));\n          });\n        } // add syncId\n\n\n        if (_isNil(this.props.syncId) && !_isNil(nextProps.syncId)) {\n          this.addListener();\n        } // remove syncId\n\n\n        if (!_isNil(this.props.syncId) && _isNil(nextProps.syncId)) {\n          this.removeListener();\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        if (!_isNil(this.props.syncId)) {\n          this.removeListener();\n        }\n\n        if (typeof this.triggeredAfterMouseMove.cancel === 'function') {\n          this.triggeredAfterMouseMove.cancel();\n        }\n      }\n      /**\n      * Get the configuration of all x-axis or y-axis\n      * @param  {Object} props          Latest props\n      * @param  {String} axisType       The type of axis\n      * @param  {Array}  graphicalItems The instances of item\n      * @param  {Object} stackGroups    The items grouped by axisId and stackId\n      * @param {Number} dataStartIndex  The start index of the data series when a brush is applied\n      * @param {Number} dataEndIndex    The end index of the data series when a brush is applied\n      * @return {Object}          Configuration\n      */\n\n    }, {\n      key: \"getAxisMap\",\n      value: function getAxisMap(props, _ref5) {\n        var _ref5$axisType = _ref5.axisType,\n            axisType = _ref5$axisType === void 0 ? 'xAxis' : _ref5$axisType,\n            AxisComp = _ref5.AxisComp,\n            graphicalItems = _ref5.graphicalItems,\n            stackGroups = _ref5.stackGroups,\n            dataStartIndex = _ref5.dataStartIndex,\n            dataEndIndex = _ref5.dataEndIndex;\n        var children = props.children;\n        var axisIdKey = \"\".concat(axisType, \"Id\"); // Get all the instance of Axis\n\n        var axes = findAllByType(children, AxisComp);\n        var axisMap = {};\n\n        if (axes && axes.length) {\n          axisMap = this.getAxisMapByAxes(props, {\n            axes: axes,\n            graphicalItems: graphicalItems,\n            axisType: axisType,\n            axisIdKey: axisIdKey,\n            stackGroups: stackGroups,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex\n          });\n        } else if (graphicalItems && graphicalItems.length) {\n          axisMap = this.getAxisMapByItems(props, {\n            Axis: AxisComp,\n            graphicalItems: graphicalItems,\n            axisType: axisType,\n            axisIdKey: axisIdKey,\n            stackGroups: stackGroups,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex\n          });\n        }\n\n        return axisMap;\n      }\n      /**\n       * Get the configuration of axis by the options of axis instance\n       * @param  {Object} props         Latest props\n       * @param {Array}  axes           The instance of axes\n       * @param  {Array} graphicalItems The instances of item\n       * @param  {String} axisType      The type of axis, xAxis - x-axis, yAxis - y-axis\n       * @param  {String} axisIdKey     The unique id of an axis\n       * @param  {Object} stackGroups   The items grouped by axisId and stackId\n       * @param {Number} dataStartIndex The start index of the data series when a brush is applied\n       * @param {Number} dataEndIndex   The end index of the data series when a brush is applied\n       * @return {Object}      Configuration\n       */\n\n    }, {\n      key: \"getAxisMapByAxes\",\n      value: function getAxisMapByAxes(props, _ref6) {\n        var _this3 = this;\n\n        var axes = _ref6.axes,\n            graphicalItems = _ref6.graphicalItems,\n            axisType = _ref6.axisType,\n            axisIdKey = _ref6.axisIdKey,\n            stackGroups = _ref6.stackGroups,\n            dataStartIndex = _ref6.dataStartIndex,\n            dataEndIndex = _ref6.dataEndIndex;\n        var layout = props.layout,\n            children = props.children,\n            stackOffset = props.stackOffset;\n        var isCategorial = isCategorialAxis(layout, axisType); // Eliminate duplicated axes\n\n        var axisMap = axes.reduce(function (result, child) {\n          var _child$props = child.props,\n              type = _child$props.type,\n              dataKey = _child$props.dataKey,\n              allowDataOverflow = _child$props.allowDataOverflow,\n              allowDuplicatedCategory = _child$props.allowDuplicatedCategory,\n              scale = _child$props.scale,\n              ticks = _child$props.ticks;\n          var axisId = child.props[axisIdKey];\n\n          var displayedData = _this3.constructor.getDisplayedData(props, {\n            graphicalItems: graphicalItems.filter(function (item) {\n              return item.props[axisIdKey] === axisId;\n            }),\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex\n          });\n\n          var len = displayedData.length;\n\n          if (!result[axisId]) {\n            var domain, duplicateDomain, categoricalDomain;\n\n            if (dataKey) {\n              domain = getDomainOfDataByKey(displayedData, dataKey, type);\n\n              if (type === 'category' && isCategorial) {\n                var duplicate = hasDuplicate(domain);\n\n                if (allowDuplicatedCategory && duplicate) {\n                  duplicateDomain = domain; // When category axis has duplicated text, serial numbers are used to generate scale\n\n                  domain = _range(0, len);\n                } else if (!allowDuplicatedCategory) {\n                  // remove duplicated category\n                  domain = parseDomainOfCategoryAxis(child.props.domain, domain, child).reduce(function (finalDomain, entry) {\n                    return finalDomain.indexOf(entry) >= 0 ? finalDomain : [].concat(_toConsumableArray(finalDomain), [entry]);\n                  }, []);\n                }\n              } else if (type === 'category') {\n                if (!allowDuplicatedCategory) {\n                  domain = parseDomainOfCategoryAxis(child.props.domain, domain, child).reduce(function (finalDomain, entry) {\n                    return finalDomain.indexOf(entry) >= 0 || entry === '' || _isNil(entry) ? finalDomain : [].concat(_toConsumableArray(finalDomain), [entry]);\n                  }, []);\n                } else {\n                  // eliminate undefined or null or empty string\n                  domain = domain.filter(function (entry) {\n                    return entry !== '' && !_isNil(entry);\n                  });\n                }\n              } else if (type === 'number') {\n                var errorBarsDomain = parseErrorBarsOfAxis(displayedData, graphicalItems.filter(function (item) {\n                  return item.props[axisIdKey] === axisId && !item.props.hide;\n                }), dataKey, axisType);\n\n                if (errorBarsDomain) {\n                  domain = errorBarsDomain;\n                }\n              }\n\n              if (isCategorial && (type === 'number' || scale !== 'auto')) {\n                categoricalDomain = getDomainOfDataByKey(displayedData, dataKey, 'category');\n              }\n            } else if (isCategorial) {\n              domain = _range(0, len);\n            } else if (stackGroups && stackGroups[axisId] && stackGroups[axisId].hasStack && type === 'number') {\n              // when stackOffset is 'expand', the domain may be calculated as [0, 1.000000000002]\n              domain = stackOffset === 'expand' ? [0, 1] : getDomainOfStackGroups(stackGroups[axisId].stackGroups, dataStartIndex, dataEndIndex);\n            } else {\n              domain = getDomainOfItemsWithSameAxis(displayedData, graphicalItems.filter(function (item) {\n                return item.props[axisIdKey] === axisId && !item.props.hide;\n              }), type, true);\n            }\n\n            if (type === 'number') {\n              // To detect wether there is any reference lines whose props alwaysShow is true\n              domain = detectReferenceElementsDomain(children, domain, axisId, axisType, ticks);\n\n              if (child.props.domain) {\n                domain = parseSpecifiedDomain(child.props.domain, domain, allowDataOverflow);\n              }\n            }\n\n            return _objectSpread({}, result, _defineProperty({}, axisId, _objectSpread({}, child.props, {\n              axisType: axisType,\n              domain: domain,\n              categoricalDomain: categoricalDomain,\n              duplicateDomain: duplicateDomain,\n              originalDomain: child.props.domain,\n              isCategorial: isCategorial,\n              layout: layout\n            })));\n          }\n\n          return result;\n        }, {});\n        return axisMap;\n      }\n      /**\n       * Get the configuration of axis by the options of item,\n       * this kind of axis does not display in chart\n       * @param  {Object} props         Latest props\n       * @param  {Array} graphicalItems The instances of item\n       * @param  {ReactElement} Axis    Axis Component\n       * @param  {String} axisType      The type of axis, xAxis - x-axis, yAxis - y-axis\n       * @param  {String} axisIdKey     The unique id of an axis\n       * @param  {Object} stackGroups   The items grouped by axisId and stackId\n       * @param {Number} dataStartIndex The start index of the data series when a brush is applied\n       * @param {Number} dataEndIndex   The end index of the data series when a brush is applied\n       * @return {Object}               Configuration\n       */\n\n    }, {\n      key: \"getAxisMapByItems\",\n      value: function getAxisMapByItems(props, _ref7) {\n        var graphicalItems = _ref7.graphicalItems,\n            Axis = _ref7.Axis,\n            axisType = _ref7.axisType,\n            axisIdKey = _ref7.axisIdKey,\n            stackGroups = _ref7.stackGroups,\n            dataStartIndex = _ref7.dataStartIndex,\n            dataEndIndex = _ref7.dataEndIndex;\n        var layout = props.layout,\n            children = props.children;\n        var displayedData = this.constructor.getDisplayedData(props, {\n          graphicalItems: graphicalItems,\n          dataStartIndex: dataStartIndex,\n          dataEndIndex: dataEndIndex\n        });\n        var len = displayedData.length;\n        var isCategorial = isCategorialAxis(layout, axisType);\n        var index = -1; // The default type of x-axis is category axis,\n        // The default contents of x-axis is the serial numbers of data\n        // The default type of y-axis is number axis\n        // The default contents of y-axis is the domain of data\n\n        var axisMap = graphicalItems.reduce(function (result, child) {\n          var axisId = child.props[axisIdKey];\n\n          if (!result[axisId]) {\n            index++;\n            var domain;\n\n            if (isCategorial) {\n              domain = _range(0, len);\n            } else if (stackGroups && stackGroups[axisId] && stackGroups[axisId].hasStack) {\n              domain = getDomainOfStackGroups(stackGroups[axisId].stackGroups, dataStartIndex, dataEndIndex);\n              domain = detectReferenceElementsDomain(children, domain, axisId, axisType);\n            } else {\n              domain = parseSpecifiedDomain(Axis.defaultProps.domain, getDomainOfItemsWithSameAxis(displayedData, graphicalItems.filter(function (item) {\n                return item.props[axisIdKey] === axisId && !item.props.hide;\n              }), 'number'), Axis.defaultProps.allowDataOverflow);\n              domain = detectReferenceElementsDomain(children, domain, axisId, axisType);\n            }\n\n            return _objectSpread({}, result, _defineProperty({}, axisId, _objectSpread({\n              axisType: axisType\n            }, Axis.defaultProps, {\n              hide: true,\n              orientation: ORIENT_MAP[axisType] && ORIENT_MAP[axisType][index % 2],\n              domain: domain,\n              originalDomain: Axis.defaultProps.domain,\n              isCategorial: isCategorial,\n              layout: layout // specify scale when no Axis\n              // scale: isCategorial ? 'band' : 'linear',\n\n            })));\n          }\n\n          return result;\n        }, {});\n        return axisMap;\n      }\n    }, {\n      key: \"getActiveCoordinate\",\n      value: function getActiveCoordinate(tooltipTicks, activeIndex, rangeObj) {\n        var layout = this.props.layout;\n        var entry = tooltipTicks.find(function (tick) {\n          return tick && tick.index === activeIndex;\n        });\n\n        if (entry) {\n          if (layout === 'horizontal') {\n            return {\n              x: entry.coordinate,\n              y: rangeObj.y\n            };\n          }\n\n          if (layout === 'vertical') {\n            return {\n              x: rangeObj.x,\n              y: entry.coordinate\n            };\n          }\n\n          if (layout === 'centric') {\n            var _angle = entry.coordinate;\n            var _radius = rangeObj.radius;\n            return _objectSpread({}, rangeObj, {}, polarToCartesian(rangeObj.cx, rangeObj.cy, _radius, _angle), {\n              angle: _angle,\n              radius: _radius\n            });\n          }\n\n          var radius = entry.coordinate;\n          var angle = rangeObj.angle;\n          return _objectSpread({}, rangeObj, {}, polarToCartesian(rangeObj.cx, rangeObj.cy, radius, angle), {\n            angle: angle,\n            radius: radius\n          });\n        }\n\n        return originCoordinate;\n      }\n      /**\n       * Get the information of mouse in chart, return null when the mouse is not in the chart\n       * @param  {Object} event    The event object\n       * @return {Object}          Mouse data\n       */\n\n    }, {\n      key: \"getMouseInfo\",\n      value: function getMouseInfo(event) {\n        if (!this.container) {\n          return null;\n        }\n\n        var containerOffset = getOffset(this.container);\n        var e = calculateChartCoordinate(event, containerOffset);\n        var rangeObj = this.inRange(e.chartX, e.chartY);\n\n        if (!rangeObj) {\n          return null;\n        }\n\n        var _this$state9 = this.state,\n            xAxisMap = _this$state9.xAxisMap,\n            yAxisMap = _this$state9.yAxisMap;\n\n        if (eventType !== 'axis' && xAxisMap && yAxisMap) {\n          var xScale = getAnyElementOfObject(xAxisMap).scale;\n          var yScale = getAnyElementOfObject(yAxisMap).scale;\n          var xValue = xScale && xScale.invert ? xScale.invert(e.chartX) : null;\n          var yValue = yScale && yScale.invert ? yScale.invert(e.chartY) : null;\n          return _objectSpread({}, e, {\n            xValue: xValue,\n            yValue: yValue\n          });\n        }\n\n        var _this$state10 = this.state,\n            ticks = _this$state10.orderedTooltipTicks,\n            axis = _this$state10.tooltipAxis,\n            tooltipTicks = _this$state10.tooltipTicks;\n        var pos = this.calculateTooltipPos(rangeObj);\n        var activeIndex = calculateActiveTickIndex(pos, ticks, tooltipTicks, axis);\n\n        if (activeIndex >= 0 && tooltipTicks) {\n          var activeLabel = tooltipTicks[activeIndex] && tooltipTicks[activeIndex].value;\n          var activePayload = this.getTooltipContent(activeIndex, activeLabel);\n          var activeCoordinate = this.getActiveCoordinate(ticks, activeIndex, rangeObj);\n          return _objectSpread({}, e, {\n            activeTooltipIndex: activeIndex,\n            activeLabel: activeLabel,\n            activePayload: activePayload,\n            activeCoordinate: activeCoordinate\n          });\n        }\n\n        return null;\n      }\n      /**\n       * Get the content to be displayed in the tooltip\n       * @param  {Number} activeIndex    Active index of data\n       * @param  {String} activeLabel    Active label of data\n       * @return {Array}                 The content of tooltip\n       */\n\n    }, {\n      key: \"getTooltipContent\",\n      value: function getTooltipContent(activeIndex, activeLabel) {\n        var _this$state11 = this.state,\n            graphicalItems = _this$state11.graphicalItems,\n            tooltipAxis = _this$state11.tooltipAxis;\n        var displayedData = this.constructor.getDisplayedData(this.props, this.state);\n\n        if (activeIndex < 0 || !graphicalItems || !graphicalItems.length || activeIndex >= displayedData.length) {\n          return null;\n        } // get data by activeIndex when the axis don't allow duplicated category\n\n\n        return graphicalItems.reduce(function (result, child) {\n          var hide = child.props.hide;\n\n          if (hide) {\n            return result;\n          }\n\n          var _child$props2 = child.props,\n              dataKey = _child$props2.dataKey,\n              name = _child$props2.name,\n              unit = _child$props2.unit,\n              formatter = _child$props2.formatter,\n              data = _child$props2.data,\n              tooltipType = _child$props2.tooltipType;\n          var payload;\n\n          if (tooltipAxis.dataKey && !tooltipAxis.allowDuplicatedCategory) {\n            // graphic child has data props\n            payload = findEntryInArray(data || displayedData, tooltipAxis.dataKey, activeLabel);\n          } else {\n            payload = data && data[activeIndex] || displayedData[activeIndex];\n          }\n\n          if (!payload) {\n            return result;\n          }\n\n          return [].concat(_toConsumableArray(result), [_objectSpread({}, getPresentationAttributes(child), {\n            dataKey: dataKey,\n            unit: unit,\n            formatter: formatter,\n            name: name || dataKey,\n            color: getMainColorOfGraphicItem(child),\n            value: getValueByDataKey(payload, dataKey),\n            type: tooltipType,\n            payload: payload\n          })]);\n        }, []);\n      }\n    }, {\n      key: \"getFormatItems\",\n      value: function getFormatItems(props, currentState) {\n        var _this4 = this;\n\n        var graphicalItems = currentState.graphicalItems,\n            stackGroups = currentState.stackGroups,\n            offset = currentState.offset,\n            updateId = currentState.updateId,\n            dataStartIndex = currentState.dataStartIndex,\n            dataEndIndex = currentState.dataEndIndex;\n        var barSize = props.barSize,\n            layout = props.layout,\n            barGap = props.barGap,\n            barCategoryGap = props.barCategoryGap,\n            globalMaxBarSize = props.maxBarSize;\n\n        var _this$constructor$get = this.constructor.getAxisNameByLayout(layout),\n            numericAxisName = _this$constructor$get.numericAxisName,\n            cateAxisName = _this$constructor$get.cateAxisName;\n\n        var hasBar = this.constructor.hasBar(graphicalItems);\n        var sizeList = hasBar && getBarSizeList({\n          barSize: barSize,\n          stackGroups: stackGroups\n        });\n        var formatedItems = [];\n        graphicalItems.forEach(function (item, index) {\n          var displayedData = _this4.constructor.getDisplayedData(props, {\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex\n          }, item);\n\n          var _item$props2 = item.props,\n              dataKey = _item$props2.dataKey,\n              childMaxBarSize = _item$props2.maxBarSize;\n          var numericAxisId = item.props[\"\".concat(numericAxisName, \"Id\")];\n          var cateAxisId = item.props[\"\".concat(cateAxisName, \"Id\")];\n          var axisObj = axisComponents.reduce(function (result, entry) {\n            var _objectSpread4;\n\n            var axisMap = currentState[\"\".concat(entry.axisType, \"Map\")];\n            var id = item.props[\"\".concat(entry.axisType, \"Id\")];\n            var axis = axisMap && axisMap[id];\n            return _objectSpread({}, result, (_objectSpread4 = {}, _defineProperty(_objectSpread4, entry.axisType, axis), _defineProperty(_objectSpread4, \"\".concat(entry.axisType, \"Ticks\"), getTicksOfAxis(axis)), _objectSpread4));\n          }, {});\n          var cateAxis = axisObj[cateAxisName];\n          var cateTicks = axisObj[\"\".concat(cateAxisName, \"Ticks\")];\n          var stackedData = stackGroups && stackGroups[numericAxisId] && stackGroups[numericAxisId].hasStack && getStackedDataOfItem(item, stackGroups[numericAxisId].stackGroups);\n          var bandSize = getBandSizeOfAxis(cateAxis, cateTicks);\n          var maxBarSize = _isNil(childMaxBarSize) ? globalMaxBarSize : childMaxBarSize;\n          var barPosition = hasBar && getBarPosition({\n            barGap: barGap,\n            barCategoryGap: barCategoryGap,\n            bandSize: bandSize,\n            sizeList: sizeList[cateAxisId],\n            maxBarSize: maxBarSize\n          });\n          var componsedFn = item && item.type && item.type.getComposedData;\n\n          if (componsedFn) {\n            var _objectSpread5;\n\n            formatedItems.push({\n              props: _objectSpread({}, componsedFn(_objectSpread({}, axisObj, {\n                displayedData: displayedData,\n                props: props,\n                dataKey: dataKey,\n                item: item,\n                bandSize: bandSize,\n                barPosition: barPosition,\n                offset: offset,\n                stackedData: stackedData,\n                layout: layout,\n                dataStartIndex: dataStartIndex,\n                dataEndIndex: dataEndIndex,\n                onItemMouseLeave: combineEventHandlers(_this4.handleItemMouseLeave, null, item.props.onMouseLeave),\n                onItemMouseEnter: combineEventHandlers(_this4.handleItemMouseEnter, null, item.props.onMouseEnter)\n              })), (_objectSpread5 = {\n                key: item.key || \"item-\".concat(index)\n              }, _defineProperty(_objectSpread5, numericAxisName, axisObj[numericAxisName]), _defineProperty(_objectSpread5, cateAxisName, axisObj[cateAxisName]), _defineProperty(_objectSpread5, \"animationId\", updateId), _objectSpread5)),\n              childIndex: parseChildIndex(item, props.children),\n              item: item\n            });\n          }\n        });\n        return formatedItems;\n      }\n    }, {\n      key: \"getCursorRectangle\",\n      value: function getCursorRectangle() {\n        var layout = this.props.layout;\n        var _this$state12 = this.state,\n            activeCoordinate = _this$state12.activeCoordinate,\n            offset = _this$state12.offset,\n            tooltipAxisBandSize = _this$state12.tooltipAxisBandSize;\n        var halfSize = tooltipAxisBandSize / 2;\n        return {\n          stroke: 'none',\n          fill: '#ccc',\n          x: layout === 'horizontal' ? activeCoordinate.x - halfSize : offset.left + 0.5,\n          y: layout === 'horizontal' ? offset.top + 0.5 : activeCoordinate.y - halfSize,\n          width: layout === 'horizontal' ? tooltipAxisBandSize : offset.width - 1,\n          height: layout === 'horizontal' ? offset.height - 1 : tooltipAxisBandSize\n        };\n      }\n    }, {\n      key: \"getCursorPoints\",\n      value: function getCursorPoints() {\n        var layout = this.props.layout;\n        var _this$state13 = this.state,\n            activeCoordinate = _this$state13.activeCoordinate,\n            offset = _this$state13.offset;\n        var x1, y1, x2, y2;\n\n        if (layout === 'horizontal') {\n          x1 = activeCoordinate.x;\n          x2 = x1;\n          y1 = offset.top;\n          y2 = offset.top + offset.height;\n        } else if (layout === 'vertical') {\n          y1 = activeCoordinate.y;\n          y2 = y1;\n          x1 = offset.left;\n          x2 = offset.left + offset.width;\n        } else if (!_isNil(activeCoordinate.cx) || !_isNil(activeCoordinate.cy)) {\n          if (layout === 'centric') {\n            var cx = activeCoordinate.cx,\n                cy = activeCoordinate.cy,\n                innerRadius = activeCoordinate.innerRadius,\n                outerRadius = activeCoordinate.outerRadius,\n                angle = activeCoordinate.angle;\n            var innerPoint = polarToCartesian(cx, cy, innerRadius, angle);\n            var outerPoint = polarToCartesian(cx, cy, outerRadius, angle);\n            x1 = innerPoint.x;\n            y1 = innerPoint.y;\n            x2 = outerPoint.x;\n            y2 = outerPoint.y;\n          } else {\n            var _cx = activeCoordinate.cx,\n                _cy = activeCoordinate.cy,\n                radius = activeCoordinate.radius,\n                startAngle = activeCoordinate.startAngle,\n                endAngle = activeCoordinate.endAngle;\n            var startPoint = polarToCartesian(_cx, _cy, radius, startAngle);\n            var endPoint = polarToCartesian(_cx, _cy, radius, endAngle);\n            return {\n              points: [startPoint, endPoint],\n              cx: _cx,\n              cy: _cy,\n              radius: radius,\n              startAngle: startAngle,\n              endAngle: endAngle\n            };\n          }\n        }\n\n        return [{\n          x: x1,\n          y: y1\n        }, {\n          x: x2,\n          y: y2\n        }];\n      }\n    }, {\n      key: \"calculateTooltipPos\",\n      value: function calculateTooltipPos(rangeObj) {\n        var layout = this.props.layout;\n\n        if (layout === 'horizontal') {\n          return rangeObj.x;\n        }\n\n        if (layout === 'vertical') {\n          return rangeObj.y;\n        }\n\n        if (layout === 'centric') {\n          return rangeObj.angle;\n        }\n\n        return rangeObj.radius;\n      }\n    }, {\n      key: \"inRange\",\n      value: function inRange(x, y) {\n        var layout = this.props.layout;\n\n        if (layout === 'horizontal' || layout === 'vertical') {\n          var offset = this.state.offset;\n          var isInRange = x >= offset.left && x <= offset.left + offset.width && y >= offset.top && y <= offset.top + offset.height;\n          return isInRange ? {\n            x: x,\n            y: y\n          } : null;\n        }\n\n        var _this$state14 = this.state,\n            angleAxisMap = _this$state14.angleAxisMap,\n            radiusAxisMap = _this$state14.radiusAxisMap;\n\n        if (angleAxisMap && radiusAxisMap) {\n          var angleAxis = getAnyElementOfObject(angleAxisMap);\n          return inRangeOfSector({\n            x: x,\n            y: y\n          }, angleAxis);\n        }\n\n        return null;\n      }\n    }, {\n      key: \"parseEventsOfWrapper\",\n      value: function parseEventsOfWrapper() {\n        var children = this.props.children;\n        var tooltipItem = findChildByType(children, Tooltip);\n        var tooltipEvents = tooltipItem && eventType === 'axis' ? {\n          onMouseEnter: this.handleMouseEnter,\n          onMouseMove: this.handleMouseMove,\n          onMouseLeave: this.handleMouseLeave,\n          onTouchMove: this.handleTouchMove,\n          onTouchStart: this.handleTouchStart,\n          onTouchEnd: this.handleTouchEnd\n        } : {};\n        var outerEvents = filterEventAttributes(this.props, this.handleOuterEvent);\n        return _objectSpread({}, outerEvents, {}, tooltipEvents);\n      }\n      /**\n       * The AxisMaps are expensive to render on large data sets\n       * so provide the ability to store them in state and only update them when necessary\n       * they are dependent upon the start and end index of\n       * the brush so it's important that this method is called _after_\n       * the state is updated with any new start/end indices\n       *\n       * @param {Object} props          The props object to be used for updating the axismaps\n       * @param {Number} dataStartIndex The start index of the data series when a brush is applied\n       * @param {Number} dataEndIndex   The end index of the data series when a brush is applied\n       * @param {Number} updateId       The update id\n       * @return {Object} state New state to set\n       */\n\n    }, {\n      key: \"updateStateOfAxisMapsOffsetAndStackGroups\",\n      value: function updateStateOfAxisMapsOffsetAndStackGroups(_ref8) {\n        var _this5 = this;\n\n        var props = _ref8.props,\n            dataStartIndex = _ref8.dataStartIndex,\n            dataEndIndex = _ref8.dataEndIndex,\n            updateId = _ref8.updateId;\n\n        if (!validateWidthHeight({\n          props: props\n        })) {\n          return null;\n        }\n\n        var children = props.children,\n            layout = props.layout,\n            stackOffset = props.stackOffset,\n            data = props.data,\n            reverseStackOrder = props.reverseStackOrder;\n\n        var _this$constructor$get2 = this.constructor.getAxisNameByLayout(layout),\n            numericAxisName = _this$constructor$get2.numericAxisName,\n            cateAxisName = _this$constructor$get2.cateAxisName;\n\n        var graphicalItems = findAllByType(children, GraphicalChild);\n        var stackGroups = getStackGroupsByAxisId(data, graphicalItems, \"\".concat(numericAxisName, \"Id\"), \"\".concat(cateAxisName, \"Id\"), stackOffset, reverseStackOrder);\n        var axisObj = axisComponents.reduce(function (result, entry) {\n          var name = \"\".concat(entry.axisType, \"Map\");\n          return _objectSpread({}, result, _defineProperty({}, name, _this5.getAxisMap(props, _objectSpread({}, entry, {\n            graphicalItems: graphicalItems,\n            stackGroups: entry.axisType === numericAxisName && stackGroups,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex\n          }))));\n        }, {});\n        var offset = this.calculateOffset(_objectSpread({}, axisObj, {\n          props: props,\n          graphicalItems: graphicalItems\n        }));\n        Object.keys(axisObj).forEach(function (key) {\n          axisObj[key] = formatAxisMap(props, axisObj[key], offset, key.replace('Map', ''), chartName);\n        });\n        var cateAxisMap = axisObj[\"\".concat(cateAxisName, \"Map\")];\n        var ticksObj = this.tooltipTicksGenerator(cateAxisMap);\n        var formatedGraphicalItems = this.getFormatItems(props, _objectSpread({}, axisObj, {\n          dataStartIndex: dataStartIndex,\n          dataEndIndex: dataEndIndex,\n          updateId: updateId,\n          graphicalItems: graphicalItems,\n          stackGroups: stackGroups,\n          offset: offset\n        }));\n        return _objectSpread({\n          formatedGraphicalItems: formatedGraphicalItems,\n          graphicalItems: graphicalItems,\n          offset: offset,\n          stackGroups: stackGroups\n        }, ticksObj, {}, axisObj);\n      }\n      /* eslint-disable  no-underscore-dangle */\n\n    }, {\n      key: \"addListener\",\n      value: function addListener() {\n        eventCenter.on(SYNC_EVENT, this.handleReceiveSyncEvent);\n\n        if (eventCenter.setMaxListeners && eventCenter._maxListeners) {\n          eventCenter.setMaxListeners(eventCenter._maxListeners + 1);\n        }\n      }\n    }, {\n      key: \"removeListener\",\n      value: function removeListener() {\n        eventCenter.removeListener(SYNC_EVENT, this.handleReceiveSyncEvent);\n\n        if (eventCenter.setMaxListeners && eventCenter._maxListeners) {\n          eventCenter.setMaxListeners(eventCenter._maxListeners - 1);\n        }\n      }\n      /**\n       * Calculate the offset of main part in the svg element\n       * @param  {Object} props          Latest props\n       * @param  {Array}  graphicalItems The instances of item\n       * @param  {Object} xAxisMap       The configuration of x-axis\n       * @param  {Object} yAxisMap       The configuration of y-axis\n       * @return {Object} The offset of main part in the svg element\n       */\n\n    }, {\n      key: \"calculateOffset\",\n      value: function calculateOffset(_ref9) {\n        var props = _ref9.props,\n            graphicalItems = _ref9.graphicalItems,\n            _ref9$xAxisMap = _ref9.xAxisMap,\n            xAxisMap = _ref9$xAxisMap === void 0 ? {} : _ref9$xAxisMap,\n            _ref9$yAxisMap = _ref9.yAxisMap,\n            yAxisMap = _ref9$yAxisMap === void 0 ? {} : _ref9$yAxisMap;\n        var width = props.width,\n            height = props.height,\n            children = props.children;\n        var margin = props.margin || {};\n        var brushItem = findChildByType(children, Brush);\n        var legendItem = findChildByType(children, Legend);\n        var offsetH = Object.keys(yAxisMap).reduce(function (result, id) {\n          var entry = yAxisMap[id];\n          var orientation = entry.orientation;\n\n          if (!entry.mirror && !entry.hide) {\n            return _objectSpread({}, result, _defineProperty({}, orientation, result[orientation] + entry.width));\n          }\n\n          return result;\n        }, {\n          left: margin.left || 0,\n          right: margin.right || 0\n        });\n        var offsetV = Object.keys(xAxisMap).reduce(function (result, id) {\n          var entry = xAxisMap[id];\n          var orientation = entry.orientation;\n\n          if (!entry.mirror && !entry.hide) {\n            return _objectSpread({}, result, _defineProperty({}, orientation, result[orientation] + entry.height));\n          }\n\n          return result;\n        }, {\n          top: margin.top || 0,\n          bottom: margin.bottom || 0\n        });\n\n        var offset = _objectSpread({}, offsetV, {}, offsetH);\n\n        var brushBottom = offset.bottom;\n\n        if (brushItem) {\n          offset.bottom += brushItem.props.height || Brush.defaultProps.height;\n        }\n\n        if (legendItem && this.legendInstance) {\n          var legendBox = this.legendInstance.getBBox();\n          offset = appendOffsetOfLegend(offset, graphicalItems, props, legendBox);\n        }\n\n        return _objectSpread({\n          brushBottom: brushBottom\n        }, offset, {\n          width: width - offset.left - offset.right,\n          height: height - offset.top - offset.bottom\n        });\n      }\n    }, {\n      key: \"triggerSyncEvent\",\n      value: function triggerSyncEvent(data) {\n        var syncId = this.props.syncId;\n\n        if (!_isNil(syncId)) {\n          eventCenter.emit(SYNC_EVENT, syncId, this.uniqueChartId, data);\n        }\n      }\n    }, {\n      key: \"filterFormatItem\",\n      value: function filterFormatItem(item, displayName, childIndex) {\n        var formatedGraphicalItems = this.state.formatedGraphicalItems;\n\n        for (var i = 0, len = formatedGraphicalItems.length; i < len; i++) {\n          var entry = formatedGraphicalItems[i];\n\n          if (entry.item === item || entry.props.key === item.key || displayName === getDisplayName(entry.item.type) && childIndex === entry.childIndex) {\n            return entry;\n          }\n        }\n\n        return null;\n      }\n    }, {\n      key: \"renderAxis\",\n\n      /**\n       * Draw axis\n       * @param {Object} axisOptions The options of axis\n       * @param {Object} element      The axis element\n       * @param {String} displayName  The display name of axis\n       * @param {Number} index        The index of element\n       * @return {ReactElement}       The instance of x-axes\n       */\n      value: function renderAxis(axisOptions, element, displayName, index) {\n        var _this$props5 = this.props,\n            width = _this$props5.width,\n            height = _this$props5.height;\n        return React.createElement(CartesianAxis, _extends({}, axisOptions, {\n          className: \"recharts-\".concat(axisOptions.axisType, \" \").concat(axisOptions.axisType),\n          key: element.key || \"\".concat(displayName, \"-\").concat(index),\n          viewBox: {\n            x: 0,\n            y: 0,\n            width: width,\n            height: height\n          },\n          ticksGenerator: this.axesTicksGenerator\n        }));\n      }\n      /**\n       * Draw grid\n       * @param  {ReactElement} element the grid item\n       * @return {ReactElement} The instance of grid\n       */\n\n    }, {\n      key: \"renderLegend\",\n\n      /**\n       * Draw legend\n       * @return {ReactElement}            The instance of Legend\n       */\n      value: function renderLegend() {\n        var _this6 = this;\n\n        var formatedGraphicalItems = this.state.formatedGraphicalItems;\n        var _this$props6 = this.props,\n            children = _this$props6.children,\n            width = _this$props6.width,\n            height = _this$props6.height;\n        var margin = this.props.margin || {};\n        var legendWidth = width - (margin.left || 0) - (margin.right || 0);\n        var legendHeight = height - (margin.top || 0) - (margin.bottom || 0);\n        var props = getLegendProps({\n          children: children,\n          formatedGraphicalItems: formatedGraphicalItems,\n          legendWidth: legendWidth,\n          legendHeight: legendHeight,\n          legendContent: legendContent\n        });\n\n        if (!props) {\n          return null;\n        }\n\n        var item = props.item,\n            otherProps = _objectWithoutProperties(props, [\"item\"]);\n\n        return cloneElement(item, _objectSpread({}, otherProps, {\n          chartWidth: width,\n          chartHeight: height,\n          margin: margin,\n          ref: function ref(legend) {\n            _this6.legendInstance = legend;\n          },\n          onBBoxUpdate: this.handleLegendBBoxUpdate\n        }));\n      }\n      /**\n       * Draw Tooltip\n       * @return {ReactElement}  The instance of Tooltip\n       */\n\n    }, {\n      key: \"renderTooltip\",\n      value: function renderTooltip() {\n        var children = this.props.children;\n        var tooltipItem = findChildByType(children, Tooltip);\n\n        if (!tooltipItem) {\n          return null;\n        }\n\n        var _this$state15 = this.state,\n            isTooltipActive = _this$state15.isTooltipActive,\n            activeCoordinate = _this$state15.activeCoordinate,\n            activePayload = _this$state15.activePayload,\n            activeLabel = _this$state15.activeLabel,\n            offset = _this$state15.offset;\n        return cloneElement(tooltipItem, {\n          viewBox: _objectSpread({}, offset, {\n            x: offset.left,\n            y: offset.top\n          }),\n          active: isTooltipActive,\n          label: activeLabel,\n          payload: isTooltipActive ? activePayload : [],\n          coordinate: activeCoordinate\n        });\n      }\n    }, {\n      key: \"renderActivePoints\",\n      value: function renderActivePoints(_ref10) {\n        var item = _ref10.item,\n            activePoint = _ref10.activePoint,\n            basePoint = _ref10.basePoint,\n            childIndex = _ref10.childIndex,\n            isRange = _ref10.isRange;\n        var result = [];\n        var key = item.props.key;\n        var _item$item$props2 = item.item.props,\n            activeDot = _item$item$props2.activeDot,\n            dataKey = _item$item$props2.dataKey;\n\n        var dotProps = _objectSpread({\n          index: childIndex,\n          dataKey: dataKey,\n          cx: activePoint.x,\n          cy: activePoint.y,\n          r: 4,\n          fill: getMainColorOfGraphicItem(item.item),\n          strokeWidth: 2,\n          stroke: '#fff',\n          payload: activePoint.payload,\n          value: activePoint.value,\n          key: \"\".concat(key, \"-activePoint-\").concat(childIndex)\n        }, getPresentationAttributes(activeDot), {}, filterEventAttributes(activeDot));\n\n        result.push(this.constructor.renderActiveDot(activeDot, dotProps, childIndex));\n\n        if (basePoint) {\n          result.push(this.constructor.renderActiveDot(activeDot, _objectSpread({}, dotProps, {\n            cx: basePoint.x,\n            cy: basePoint.y,\n            key: \"\".concat(key, \"-basePoint-\").concat(childIndex)\n          }), childIndex));\n        } else if (isRange) {\n          result.push(null);\n        }\n\n        return result;\n      }\n    }, {\n      key: \"renderClipPath\",\n      value: function renderClipPath() {\n        var clipPathId = this.clipPathId;\n        var _this$state$offset = this.state.offset,\n            left = _this$state$offset.left,\n            top = _this$state$offset.top,\n            height = _this$state$offset.height,\n            width = _this$state$offset.width;\n        return React.createElement(\"defs\", null, React.createElement(\"clipPath\", {\n          id: clipPathId\n        }, React.createElement(\"rect\", {\n          x: left,\n          y: top,\n          height: height,\n          width: width\n        })));\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this7 = this;\n\n        if (!validateWidthHeight(this)) {\n          return null;\n        }\n\n        var _this$props7 = this.props,\n            children = _this$props7.children,\n            className = _this$props7.className,\n            width = _this$props7.width,\n            height = _this$props7.height,\n            style = _this$props7.style,\n            compact = _this$props7.compact,\n            others = _objectWithoutProperties(_this$props7, [\"children\", \"className\", \"width\", \"height\", \"style\", \"compact\"]);\n\n        var attrs = getPresentationAttributes(others);\n        var map = {\n          CartesianGrid: {\n            handler: this.renderGrid,\n            once: true\n          },\n          ReferenceArea: {\n            handler: this.renderReferenceElement\n          },\n          ReferenceLine: {\n            handler: this.renderReferenceElement\n          },\n          ReferenceDot: {\n            handler: this.renderReferenceElement\n          },\n          XAxis: {\n            handler: this.renderXAxis\n          },\n          YAxis: {\n            handler: this.renderYAxis\n          },\n          Brush: {\n            handler: this.renderBrush,\n            once: true\n          },\n          Bar: {\n            handler: this.renderGraphicChild\n          },\n          Line: {\n            handler: this.renderGraphicChild\n          },\n          Area: {\n            handler: this.renderGraphicChild\n          },\n          Radar: {\n            handler: this.renderGraphicChild\n          },\n          RadialBar: {\n            handler: this.renderGraphicChild\n          },\n          Scatter: {\n            handler: this.renderGraphicChild\n          },\n          Pie: {\n            handler: this.renderGraphicChild\n          },\n          Funnel: {\n            handler: this.renderGraphicChild\n          },\n          Tooltip: {\n            handler: this.renderCursor,\n            once: true\n          },\n          PolarGrid: {\n            handler: this.renderPolarGrid,\n            once: true\n          },\n          PolarAngleAxis: {\n            handler: this.renderPolarAxis\n          },\n          PolarRadiusAxis: {\n            handler: this.renderPolarAxis\n          },\n          Customized: {\n            handler: this.renderCustomized\n          }\n        }; // The \"compact\" mode is mainly used as the panorama within Brush\n\n        if (compact) {\n          return React.createElement(Surface, _extends({}, attrs, {\n            width: width,\n            height: height\n          }), this.renderClipPath(), renderByOrder(children, map));\n        }\n\n        var events = this.parseEventsOfWrapper();\n        return React.createElement(\"div\", _extends({\n          className: classNames('recharts-wrapper', className),\n          style: _objectSpread({\n            position: 'relative',\n            cursor: 'default',\n            width: width,\n            height: height\n          }, style)\n        }, events, {\n          ref: function ref(node) {\n            _this7.container = node;\n          }\n        }), React.createElement(Surface, _extends({}, attrs, {\n          width: width,\n          height: height\n        }), this.renderClipPath(), renderByOrder(children, map)), this.renderLegend(), this.renderTooltip());\n      }\n    }], [{\n      key: \"getAxisNameByLayout\",\n      value: function getAxisNameByLayout(layout) {\n        if (layout === 'horizontal') {\n          return {\n            numericAxisName: 'yAxis',\n            cateAxisName: 'xAxis'\n          };\n        }\n\n        if (layout === 'vertical') {\n          return {\n            numericAxisName: 'xAxis',\n            cateAxisName: 'yAxis'\n          };\n        }\n\n        if (layout === 'centric') {\n          return {\n            numericAxisName: 'radiusAxis',\n            cateAxisName: 'angleAxis'\n          };\n        }\n\n        return {\n          numericAxisName: 'angleAxis',\n          cateAxisName: 'radiusAxis'\n        };\n      }\n    }, {\n      key: \"renderActiveDot\",\n      value: function renderActiveDot(option, props) {\n        var dot;\n\n        if (isValidElement(option)) {\n          dot = cloneElement(option, props);\n        } else if (_isFunction(option)) {\n          dot = option(props);\n        } else {\n          dot = React.createElement(Dot, props);\n        }\n\n        return React.createElement(Layer, {\n          className: \"recharts-active-dot\",\n          key: props.key\n        }, dot);\n      }\n    }]);\n\n    return CategoricalChartWrapper;\n  }(Component);\n\n  CategoricalChartWrapper.displayName = chartName;\n  CategoricalChartWrapper.propTypes = _objectSpread({\n    syncId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    compact: PropTypes.bool,\n    width: PropTypes.number,\n    height: PropTypes.number,\n    data: PropTypes.arrayOf(PropTypes.object),\n    layout: PropTypes.oneOf(['horizontal', 'vertical']),\n    stackOffset: PropTypes.oneOf(['sign', 'expand', 'none', 'wiggle', 'silhouette']),\n    throttleDelay: PropTypes.number,\n    margin: PropTypes.shape({\n      top: PropTypes.number,\n      right: PropTypes.number,\n      bottom: PropTypes.number,\n      left: PropTypes.number\n    }),\n    barCategoryGap: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    barGap: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    barSize: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    maxBarSize: PropTypes.number,\n    style: PropTypes.object,\n    className: PropTypes.string,\n    children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n    defaultShowTooltip: PropTypes.bool,\n    onClick: PropTypes.func,\n    onMouseLeave: PropTypes.func,\n    onMouseEnter: PropTypes.func,\n    onMouseMove: PropTypes.func,\n    onMouseDown: PropTypes.func,\n    onMouseUp: PropTypes.func,\n    reverseStackOrder: PropTypes.bool,\n    id: PropTypes.string\n  }, propTypes);\n  CategoricalChartWrapper.defaultProps = _objectSpread({\n    layout: 'horizontal',\n    stackOffset: 'none',\n    barCategoryGap: '10%',\n    barGap: 4,\n    margin: {\n      top: 5,\n      right: 5,\n      bottom: 5,\n      left: 5\n    },\n    reverseStackOrder: false\n  }, defaultProps);\n\n  CategoricalChartWrapper.createDefaultState = function (props) {\n    var children = props.children,\n        defaultShowTooltip = props.defaultShowTooltip;\n    var brushItem = findChildByType(children, Brush);\n    var startIndex = brushItem && brushItem.props && brushItem.props.startIndex || 0;\n    var endIndex = brushItem && brushItem.props && brushItem.props.endIndex || props.data && props.data.length - 1 || 0;\n    return {\n      chartX: 0,\n      chartY: 0,\n      dataStartIndex: startIndex,\n      dataEndIndex: endIndex,\n      activeTooltipIndex: -1,\n      isTooltipActive: !_isNil(defaultShowTooltip) ? defaultShowTooltip : false\n    };\n  };\n\n  CategoricalChartWrapper.hasBar = function (graphicalItems) {\n    if (!graphicalItems || !graphicalItems.length) {\n      return false;\n    }\n\n    return graphicalItems.some(function (item) {\n      var name = getDisplayName(item && item.type);\n      return name && name.indexOf('Bar') >= 0;\n    });\n  };\n\n  CategoricalChartWrapper.getDisplayedData = function (props, _ref11, item) {\n    var graphicalItems = _ref11.graphicalItems,\n        dataStartIndex = _ref11.dataStartIndex,\n        dataEndIndex = _ref11.dataEndIndex;\n    var itemsData = (graphicalItems || []).reduce(function (result, child) {\n      var itemData = child.props.data;\n\n      if (itemData && itemData.length) {\n        return [].concat(_toConsumableArray(result), _toConsumableArray(itemData));\n      }\n\n      return result;\n    }, []);\n\n    if (itemsData && itemsData.length > 0) {\n      return itemsData;\n    }\n\n    if (item && item.props && item.props.data && item.props.data.length > 0) {\n      return item.props.data;\n    }\n\n    var data = props.data;\n\n    if (data && data.length && isNumber(dataStartIndex) && isNumber(dataEndIndex)) {\n      return data.slice(dataStartIndex, dataEndIndex + 1);\n    }\n\n    return [];\n  };\n\n  return CategoricalChartWrapper;\n};\n\nexport default generateCategoricalChart;","map":{"version":3,"names":["_every","_find","_sortBy","_isFunction","_range","_throttle","_isNil","_typeof","obj","Symbol","iterator","constructor","prototype","_objectWithoutProperties","source","excluded","target","_objectWithoutPropertiesLoose","key","i","Object","getOwnPropertySymbols","sourceSymbolKeys","length","indexOf","propertyIsEnumerable","call","sourceKeys","keys","_extends","assign","arguments","hasOwnProperty","apply","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","TypeError","iter","toString","Array","from","isArray","arr2","ownKeys","object","enumerableOnly","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","value","configurable","writable","_classCallCheck","instance","Constructor","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_inherits","subClass","superClass","create","_setPrototypeOf","p","React","Component","cloneElement","isValidElement","createElement","PropTypes","classNames","Surface","Layer","Tooltip","Legend","Curve","Cross","Sector","Dot","Rectangle","findAllByType","findChildByType","getDisplayName","parseChildIndex","getPresentationAttributes","validateWidthHeight","isChildrenEqual","renderByOrder","getReactEventByType","filterEventAttributes","CartesianAxis","Brush","getOffset","calculateChartCoordinate","getAnyElementOfObject","hasDuplicate","uniqueId","isNumber","findEntryInArray","calculateActiveTickIndex","getMainColorOfGraphicItem","getBarSizeList","getBarPosition","appendOffsetOfLegend","getLegendProps","combineEventHandlers","getTicksOfAxis","getCoordinatesOfGrid","getStackedDataOfItem","parseErrorBarsOfAxis","getBandSizeOfAxis","getStackGroupsByAxisId","getValueByDataKey","isCategorialAxis","getDomainOfItemsWithSameAxis","getDomainOfStackGroups","getDomainOfDataByKey","parseSpecifiedDomain","parseDomainOfCategoryAxis","detectReferenceElementsDomain","inRangeOfSector","polarToCartesian","shallowEqual","eventCenter","SYNC_EVENT","ORIENT_MAP","xAxis","yAxis","originCoordinate","x","y","generateCategoricalChart","_ref","chartName","GraphicalChild","_ref$eventType","eventType","axisComponents","legendContent","formatAxisMap","defaultProps","propTypes","CategoricalChartWrapper","_Component","_props","_this","handleLegendBBoxUpdate","box","legendInstance","_this$state","state","dataStartIndex","dataEndIndex","updateId","setState","updateStateOfAxisMapsOffsetAndStackGroups","handleReceiveSyncEvent","cId","chartId","data","_this$props","syncId","layout","uniqueChartId","activeTooltipIndex","chartX","chartY","_this$state2","offset","tooltipTicks","viewBox","left","top","validateChartX","Math","min","width","validateChartY","height","activeLabel","activePayload","getTooltipContent","activeCoordinate","coordinate","handleBrushChange","_ref2","startIndex","endIndex","triggerSyncEvent","handleMouseEnter","e","onMouseEnter","mouse","getMouseInfo","nextState","isTooltipActive","triggeredAfterMouseMove","onMouseMove","handleItemMouseEnter","el","activeItem","tooltipPayload","tooltipPosition","cx","cy","handleItemMouseLeave","handleMouseMove","persist","handleMouseLeave","onMouseLeave","handleOuterEvent","eventName","handler","handleClick","onClick","handleMouseDown","onMouseDown","handleMouseUp","onMouseUp","handleTouchMove","changedTouches","handleTouchStart","handleTouchEnd","verticalCoordinatesGenerator","_ref3","getTicks","ticks","horizontalCoordinatesGenerator","_ref4","axesTicksGenerator","axis","tooltipTicksGenerator","axisMap","orderedTooltipTicks","tooltipAxis","tooltipAxisBandSize","renderCursor","element","_this$state3","cursor","restProps","cursorComp","getCursorRectangle","_this$getCursorPoints","getCursorPoints","radius","startAngle","endAngle","innerRadius","outerRadius","points","cursorProps","stroke","pointerEvents","payload","className","renderPolarAxis","displayName","index","axisType","type","concat","axisOption","renderXAxis","xAxisMap","axisObj","xAxisId","renderAxis","renderYAxis","yAxisMap","yAxisId","renderGrid","_this$state4","_this$props2","yAxisWithFiniteDomain","domain","Number","isFinite","chartWidth","chartHeight","renderPolarGrid","_this$state5","radiusAxisMap","angleAxisMap","radiusAxis","angleAxis","polarAngles","map","entry","polarRadius","renderBrush","_this$props3","margin","_this$state6","onChange","brushBottom","bottom","renderReferenceElement","_assertThisInitialize","clipPathId","_this$state7","_element$props","renderGraphicChild","item","filterFormatItem","graphicalItem","_this$state8","children","tooltipItem","_item$props","isRange","baseLine","_item$item$props","activeDot","hide","hasActive","findWithPayload","dataKey","activePoint","basePoint","allowDuplicatedCategory","specifiedKey","renderActivePoints","childIndex","renderCustomized","defaultState","createDefaultState","_updateId","id","throttleDelay","componentDidMount","addListener","componentWillReceiveProps","nextProps","_this2","_this$props4","stackOffset","hasGlobalData","newUpdateId","prevState","removeListener","componentWillUnmount","cancel","getAxisMap","_ref5","_ref5$axisType","AxisComp","graphicalItems","stackGroups","axisIdKey","axes","getAxisMapByAxes","getAxisMapByItems","Axis","_ref6","_this3","isCategorial","reduce","result","child","_child$props","allowDataOverflow","scale","axisId","displayedData","getDisplayedData","len","duplicateDomain","categoricalDomain","duplicate","finalDomain","errorBarsDomain","hasStack","originalDomain","_ref7","orientation","getActiveCoordinate","activeIndex","rangeObj","find","tick","_angle","_radius","angle","event","container","containerOffset","inRange","_this$state9","xScale","yScale","xValue","invert","yValue","_this$state10","pos","calculateTooltipPos","_this$state11","_child$props2","name","unit","formatter","tooltipType","color","getFormatItems","currentState","_this4","barSize","barGap","barCategoryGap","globalMaxBarSize","maxBarSize","_this$constructor$get","getAxisNameByLayout","numericAxisName","cateAxisName","hasBar","sizeList","formatedItems","_item$props2","childMaxBarSize","numericAxisId","cateAxisId","_objectSpread4","cateAxis","cateTicks","stackedData","bandSize","barPosition","componsedFn","getComposedData","_objectSpread5","onItemMouseLeave","onItemMouseEnter","_this$state12","halfSize","fill","_this$state13","x1","y1","x2","y2","innerPoint","outerPoint","_cx","_cy","startPoint","endPoint","isInRange","_this$state14","parseEventsOfWrapper","tooltipEvents","onTouchMove","onTouchStart","onTouchEnd","outerEvents","_ref8","_this5","reverseStackOrder","_this$constructor$get2","calculateOffset","replace","cateAxisMap","ticksObj","formatedGraphicalItems","on","setMaxListeners","_maxListeners","_ref9","_ref9$xAxisMap","_ref9$yAxisMap","brushItem","legendItem","offsetH","mirror","right","offsetV","legendBox","getBBox","emit","axisOptions","_this$props5","ticksGenerator","renderLegend","_this6","_this$props6","legendWidth","legendHeight","otherProps","ref","legend","onBBoxUpdate","renderTooltip","_this$state15","active","label","_ref10","_item$item$props2","dotProps","r","strokeWidth","renderActiveDot","renderClipPath","_this$state$offset","render","_this7","_this$props7","style","compact","others","attrs","CartesianGrid","once","ReferenceArea","ReferenceLine","ReferenceDot","XAxis","YAxis","Bar","Line","Area","Radar","RadialBar","Scatter","Pie","Funnel","PolarGrid","PolarAngleAxis","PolarRadiusAxis","Customized","events","position","node","option","dot","oneOfType","string","number","bool","arrayOf","oneOf","shape","defaultShowTooltip","func","some","_ref11","itemsData","itemData","slice"],"sources":["D:/Theme/package/node_modules/recharts/es6/chart/generateCategoricalChart.js"],"sourcesContent":["import _every from \"lodash/every\";\nimport _find from \"lodash/find\";\nimport _sortBy from \"lodash/sortBy\";\nimport _isFunction from \"lodash/isFunction\";\nimport _range from \"lodash/range\";\nimport _throttle from \"lodash/throttle\";\nimport _isNil from \"lodash/isNil\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport React, { Component, cloneElement, isValidElement, createElement } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport Surface from '../container/Surface';\nimport Layer from '../container/Layer';\nimport Tooltip from '../component/Tooltip';\nimport Legend from '../component/Legend';\nimport Curve from '../shape/Curve';\nimport Cross from '../shape/Cross';\nimport Sector from '../shape/Sector';\nimport Dot from '../shape/Dot';\nimport Rectangle from '../shape/Rectangle';\nimport { findAllByType, findChildByType, getDisplayName, parseChildIndex, getPresentationAttributes, validateWidthHeight, isChildrenEqual, renderByOrder, getReactEventByType, filterEventAttributes } from '../util/ReactUtils';\nimport CartesianAxis from '../cartesian/CartesianAxis';\nimport Brush from '../cartesian/Brush';\nimport { getOffset, calculateChartCoordinate } from '../util/DOMUtils';\nimport { getAnyElementOfObject, hasDuplicate, uniqueId, isNumber, findEntryInArray } from '../util/DataUtils';\nimport { calculateActiveTickIndex, getMainColorOfGraphicItem, getBarSizeList, getBarPosition, appendOffsetOfLegend, getLegendProps, combineEventHandlers, getTicksOfAxis, getCoordinatesOfGrid, getStackedDataOfItem, parseErrorBarsOfAxis, getBandSizeOfAxis, getStackGroupsByAxisId, getValueByDataKey, isCategorialAxis, getDomainOfItemsWithSameAxis, getDomainOfStackGroups, getDomainOfDataByKey, parseSpecifiedDomain, parseDomainOfCategoryAxis } from '../util/ChartUtils';\nimport { detectReferenceElementsDomain } from '../util/DetectReferenceElementsDomain';\nimport { inRangeOfSector, polarToCartesian } from '../util/PolarUtils';\nimport { shallowEqual } from '../util/ShallowEqual';\nimport { eventCenter, SYNC_EVENT } from '../util/Events';\nvar ORIENT_MAP = {\n  xAxis: ['bottom', 'top'],\n  yAxis: ['left', 'right']\n};\nvar originCoordinate = {\n  x: 0,\n  y: 0\n};\n\nvar generateCategoricalChart = function generateCategoricalChart(_ref) {\n  var chartName = _ref.chartName,\n      GraphicalChild = _ref.GraphicalChild,\n      _ref$eventType = _ref.eventType,\n      eventType = _ref$eventType === void 0 ? 'axis' : _ref$eventType,\n      axisComponents = _ref.axisComponents,\n      legendContent = _ref.legendContent,\n      formatAxisMap = _ref.formatAxisMap,\n      defaultProps = _ref.defaultProps,\n      propTypes = _ref.propTypes;\n\n  var CategoricalChartWrapper =\n  /*#__PURE__*/\n  function (_Component) {\n    _inherits(CategoricalChartWrapper, _Component);\n\n    /**\n     * Returns default, reset state for the categorical chart.\n     * @param {Object} props Props object to use when creating the default state\n     * @return {Object} Whole new state\n     */\n    function CategoricalChartWrapper(_props) {\n      var _this;\n\n      _classCallCheck(this, CategoricalChartWrapper);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(CategoricalChartWrapper).call(this, _props));\n\n      _this.handleLegendBBoxUpdate = function (box) {\n        if (box && _this.legendInstance) {\n          var _this$state = _this.state,\n              dataStartIndex = _this$state.dataStartIndex,\n              dataEndIndex = _this$state.dataEndIndex,\n              updateId = _this$state.updateId;\n\n          _this.setState(_this.updateStateOfAxisMapsOffsetAndStackGroups({\n            props: _this.props,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex,\n            updateId: updateId\n          }));\n        }\n      };\n\n      _this.handleReceiveSyncEvent = function (cId, chartId, data) {\n        var _this$props = _this.props,\n            syncId = _this$props.syncId,\n            layout = _this$props.layout;\n        var updateId = _this.state.updateId;\n\n        if (syncId === cId && chartId !== _this.uniqueChartId) {\n          var dataStartIndex = data.dataStartIndex,\n              dataEndIndex = data.dataEndIndex;\n\n          if (!_isNil(data.dataStartIndex) || !_isNil(data.dataEndIndex)) {\n            _this.setState(_objectSpread({\n              dataStartIndex: dataStartIndex,\n              dataEndIndex: dataEndIndex\n            }, _this.updateStateOfAxisMapsOffsetAndStackGroups({\n              props: _this.props,\n              dataStartIndex: dataStartIndex,\n              dataEndIndex: dataEndIndex,\n              updateId: updateId\n            })));\n          } else if (!_isNil(data.activeTooltipIndex)) {\n            var chartX = data.chartX,\n                chartY = data.chartY,\n                activeTooltipIndex = data.activeTooltipIndex;\n            var _this$state2 = _this.state,\n                offset = _this$state2.offset,\n                tooltipTicks = _this$state2.tooltipTicks;\n\n            if (!offset) {\n              return;\n            }\n\n            var viewBox = _objectSpread({}, offset, {\n              x: offset.left,\n              y: offset.top\n            }); // When a categotical chart is combined with another chart, the value of chartX\n            // and chartY may beyond the boundaries.\n\n\n            var validateChartX = Math.min(chartX, viewBox.x + viewBox.width);\n            var validateChartY = Math.min(chartY, viewBox.y + viewBox.height);\n            var activeLabel = tooltipTicks[activeTooltipIndex] && tooltipTicks[activeTooltipIndex].value;\n\n            var activePayload = _this.getTooltipContent(activeTooltipIndex);\n\n            var activeCoordinate = tooltipTicks[activeTooltipIndex] ? {\n              x: layout === 'horizontal' ? tooltipTicks[activeTooltipIndex].coordinate : validateChartX,\n              y: layout === 'horizontal' ? validateChartY : tooltipTicks[activeTooltipIndex].coordinate\n            } : originCoordinate;\n\n            _this.setState(_objectSpread({}, data, {\n              activeLabel: activeLabel,\n              activeCoordinate: activeCoordinate,\n              activePayload: activePayload\n            }));\n          } else {\n            _this.setState(data);\n          }\n        }\n      };\n\n      _this.handleBrushChange = function (_ref2) {\n        var startIndex = _ref2.startIndex,\n            endIndex = _ref2.endIndex;\n\n        // Only trigger changes if the extents of the brush have actually changed\n        if (startIndex !== _this.state.dataStartIndex || endIndex !== _this.state.dataEndIndex) {\n          var updateId = _this.state.updateId;\n\n          _this.setState(function () {\n            return _objectSpread({\n              dataStartIndex: startIndex,\n              dataEndIndex: endIndex\n            }, _this.updateStateOfAxisMapsOffsetAndStackGroups({\n              props: _this.props,\n              dataStartIndex: startIndex,\n              dataEndIndex: endIndex,\n              updateId: updateId\n            }));\n          });\n\n          _this.triggerSyncEvent({\n            dataStartIndex: startIndex,\n            dataEndIndex: endIndex\n          });\n        }\n      };\n\n      _this.handleMouseEnter = function (e) {\n        var onMouseEnter = _this.props.onMouseEnter;\n\n        var mouse = _this.getMouseInfo(e);\n\n        if (mouse) {\n          var nextState = _objectSpread({}, mouse, {\n            isTooltipActive: true\n          });\n\n          _this.setState(nextState);\n\n          _this.triggerSyncEvent(nextState);\n\n          if (_isFunction(onMouseEnter)) {\n            onMouseEnter(nextState, e);\n          }\n        }\n      };\n\n      _this.triggeredAfterMouseMove = function (e) {\n        var onMouseMove = _this.props.onMouseMove;\n\n        var mouse = _this.getMouseInfo(e);\n\n        var nextState = mouse ? _objectSpread({}, mouse, {\n          isTooltipActive: true\n        }) : {\n          isTooltipActive: false\n        };\n\n        _this.setState(nextState);\n\n        _this.triggerSyncEvent(nextState);\n\n        if (_isFunction(onMouseMove)) {\n          onMouseMove(nextState, e);\n        }\n      };\n\n      _this.handleItemMouseEnter = function (el) {\n        _this.setState(function () {\n          return {\n            isTooltipActive: true,\n            activeItem: el,\n            activePayload: el.tooltipPayload,\n            activeCoordinate: el.tooltipPosition || {\n              x: el.cx,\n              y: el.cy\n            }\n          };\n        });\n      };\n\n      _this.handleItemMouseLeave = function () {\n        _this.setState(function () {\n          return {\n            isTooltipActive: false\n          };\n        });\n      };\n\n      _this.handleMouseMove = function (e) {\n        if (e && _isFunction(e.persist)) {\n          e.persist();\n        }\n\n        _this.triggeredAfterMouseMove(e);\n      };\n\n      _this.handleMouseLeave = function (e) {\n        var onMouseLeave = _this.props.onMouseLeave;\n        var nextState = {\n          isTooltipActive: false\n        };\n\n        _this.setState(nextState);\n\n        _this.triggerSyncEvent(nextState);\n\n        if (_isFunction(onMouseLeave)) {\n          onMouseLeave(nextState, e);\n        }\n      };\n\n      _this.handleOuterEvent = function (e) {\n        var eventName = getReactEventByType(e);\n\n        if (eventName && _isFunction(_this.props[eventName])) {\n          var mouse = _this.getMouseInfo(e);\n\n          var handler = _this.props[eventName];\n          handler(mouse, e);\n        }\n      };\n\n      _this.handleClick = function (e) {\n        var onClick = _this.props.onClick;\n\n        if (_isFunction(onClick)) {\n          var mouse = _this.getMouseInfo(e);\n\n          onClick(mouse, e);\n        }\n      };\n\n      _this.handleMouseDown = function (e) {\n        var onMouseDown = _this.props.onMouseDown;\n\n        if (_isFunction(onMouseDown)) {\n          var mouse = _this.getMouseInfo(e);\n\n          onMouseDown(mouse, e);\n        }\n      };\n\n      _this.handleMouseUp = function (e) {\n        var onMouseUp = _this.props.onMouseUp;\n\n        if (_isFunction(onMouseUp)) {\n          var mouse = _this.getMouseInfo(e);\n\n          onMouseUp(mouse, e);\n        }\n      };\n\n      _this.handleTouchMove = function (e) {\n        if (e.changedTouches != null && e.changedTouches.length > 0) {\n          _this.handleMouseMove(e.changedTouches[0]);\n        }\n      };\n\n      _this.handleTouchStart = function (e) {\n        if (e.changedTouches != null && e.changedTouches.length > 0) {\n          _this.handleMouseDown(e.changedTouches[0]);\n        }\n      };\n\n      _this.handleTouchEnd = function (e) {\n        if (e.changedTouches != null && e.changedTouches.length > 0) {\n          _this.handleMouseUp(e.changedTouches[0]);\n        }\n      };\n\n      _this.verticalCoordinatesGenerator = function (_ref3) {\n        var xAxis = _ref3.xAxis,\n            width = _ref3.width,\n            height = _ref3.height,\n            offset = _ref3.offset;\n        return getCoordinatesOfGrid(CartesianAxis.getTicks(_objectSpread({}, CartesianAxis.defaultProps, {}, xAxis, {\n          ticks: getTicksOfAxis(xAxis, true),\n          viewBox: {\n            x: 0,\n            y: 0,\n            width: width,\n            height: height\n          }\n        })), offset.left, offset.left + offset.width);\n      };\n\n      _this.horizontalCoordinatesGenerator = function (_ref4) {\n        var yAxis = _ref4.yAxis,\n            width = _ref4.width,\n            height = _ref4.height,\n            offset = _ref4.offset;\n        return getCoordinatesOfGrid(CartesianAxis.getTicks(_objectSpread({}, CartesianAxis.defaultProps, {}, yAxis, {\n          ticks: getTicksOfAxis(yAxis, true),\n          viewBox: {\n            x: 0,\n            y: 0,\n            width: width,\n            height: height\n          }\n        })), offset.top, offset.top + offset.height);\n      };\n\n      _this.axesTicksGenerator = function (axis) {\n        return getTicksOfAxis(axis, true);\n      };\n\n      _this.tooltipTicksGenerator = function (axisMap) {\n        var axis = getAnyElementOfObject(axisMap);\n        var tooltipTicks = getTicksOfAxis(axis, false, true);\n        return {\n          tooltipTicks: tooltipTicks,\n          orderedTooltipTicks: _sortBy(tooltipTicks, function (o) {\n            return o.coordinate;\n          }),\n          tooltipAxis: axis,\n          tooltipAxisBandSize: getBandSizeOfAxis(axis)\n        };\n      };\n\n      _this.renderCursor = function (element) {\n        var _this$state3 = _this.state,\n            isTooltipActive = _this$state3.isTooltipActive,\n            activeCoordinate = _this$state3.activeCoordinate,\n            activePayload = _this$state3.activePayload,\n            offset = _this$state3.offset;\n\n        if (!element || !element.props.cursor || !isTooltipActive || !activeCoordinate) {\n          return null;\n        }\n\n        var layout = _this.props.layout;\n        var restProps;\n        var cursorComp = Curve;\n\n        if (chartName === 'ScatterChart') {\n          restProps = activeCoordinate;\n          cursorComp = Cross;\n        } else if (chartName === 'BarChart') {\n          restProps = _this.getCursorRectangle();\n          cursorComp = Rectangle;\n        } else if (layout === 'radial') {\n          var _this$getCursorPoints = _this.getCursorPoints(),\n              cx = _this$getCursorPoints.cx,\n              cy = _this$getCursorPoints.cy,\n              radius = _this$getCursorPoints.radius,\n              startAngle = _this$getCursorPoints.startAngle,\n              endAngle = _this$getCursorPoints.endAngle;\n\n          restProps = {\n            cx: cx,\n            cy: cy,\n            startAngle: startAngle,\n            endAngle: endAngle,\n            innerRadius: radius,\n            outerRadius: radius\n          };\n          cursorComp = Sector;\n        } else {\n          restProps = {\n            points: _this.getCursorPoints()\n          };\n          cursorComp = Curve;\n        }\n\n        var key = element.key || '_recharts-cursor';\n\n        var cursorProps = _objectSpread({\n          stroke: '#ccc',\n          pointerEvents: 'none'\n        }, offset, {}, restProps, {}, getPresentationAttributes(element.props.cursor), {\n          payload: activePayload,\n          key: key,\n          className: 'recharts-tooltip-cursor'\n        });\n\n        return isValidElement(element.props.cursor) ? cloneElement(element.props.cursor, cursorProps) : createElement(cursorComp, cursorProps);\n      };\n\n      _this.renderPolarAxis = function (element, displayName, index) {\n        var axisType = element.type.axisType;\n\n        var axisMap = _this.state[\"\".concat(axisType, \"Map\")];\n\n        var axisOption = axisMap[element.props[\"\".concat(axisType, \"Id\")]];\n        return cloneElement(element, _objectSpread({}, axisOption, {\n          className: axisType,\n          key: element.key || \"\".concat(displayName, \"-\").concat(index),\n          ticks: getTicksOfAxis(axisOption, true)\n        }));\n      };\n\n      _this.renderXAxis = function (element, displayName, index) {\n        var xAxisMap = _this.state.xAxisMap;\n        var axisObj = xAxisMap[element.props.xAxisId];\n        return _this.renderAxis(axisObj, element, displayName, index);\n      };\n\n      _this.renderYAxis = function (element, displayName, index) {\n        var yAxisMap = _this.state.yAxisMap;\n        var axisObj = yAxisMap[element.props.yAxisId];\n        return _this.renderAxis(axisObj, element, displayName, index);\n      };\n\n      _this.renderGrid = function (element) {\n        var _this$state4 = _this.state,\n            xAxisMap = _this$state4.xAxisMap,\n            yAxisMap = _this$state4.yAxisMap,\n            offset = _this$state4.offset;\n        var _this$props2 = _this.props,\n            width = _this$props2.width,\n            height = _this$props2.height;\n        var xAxis = getAnyElementOfObject(xAxisMap);\n\n        var yAxisWithFiniteDomain = _find(yAxisMap, function (axis) {\n          return _every(axis.domain, Number.isFinite);\n        });\n\n        var yAxis = yAxisWithFiniteDomain || getAnyElementOfObject(yAxisMap);\n        var props = element.props || {};\n        return cloneElement(element, {\n          key: element.key || 'grid',\n          x: isNumber(props.x) ? props.x : offset.left,\n          y: isNumber(props.y) ? props.y : offset.top,\n          width: isNumber(props.width) ? props.width : offset.width,\n          height: isNumber(props.height) ? props.height : offset.height,\n          xAxis: xAxis,\n          yAxis: yAxis,\n          offset: offset,\n          chartWidth: width,\n          chartHeight: height,\n          verticalCoordinatesGenerator: props.verticalCoordinatesGenerator || _this.verticalCoordinatesGenerator,\n          horizontalCoordinatesGenerator: props.horizontalCoordinatesGenerator || _this.horizontalCoordinatesGenerator\n        });\n      };\n\n      _this.renderPolarGrid = function (element) {\n        var _this$state5 = _this.state,\n            radiusAxisMap = _this$state5.radiusAxisMap,\n            angleAxisMap = _this$state5.angleAxisMap;\n        var radiusAxis = getAnyElementOfObject(radiusAxisMap);\n        var angleAxis = getAnyElementOfObject(angleAxisMap);\n        var cx = angleAxis.cx,\n            cy = angleAxis.cy,\n            innerRadius = angleAxis.innerRadius,\n            outerRadius = angleAxis.outerRadius;\n        return cloneElement(element, {\n          polarAngles: getTicksOfAxis(angleAxis, true).map(function (entry) {\n            return entry.coordinate;\n          }),\n          polarRadius: getTicksOfAxis(radiusAxis, true).map(function (entry) {\n            return entry.coordinate;\n          }),\n          cx: cx,\n          cy: cy,\n          innerRadius: innerRadius,\n          outerRadius: outerRadius,\n          key: element.key || 'polar-grid'\n        });\n      };\n\n      _this.renderBrush = function (element) {\n        var _this$props3 = _this.props,\n            margin = _this$props3.margin,\n            data = _this$props3.data;\n        var _this$state6 = _this.state,\n            offset = _this$state6.offset,\n            dataStartIndex = _this$state6.dataStartIndex,\n            dataEndIndex = _this$state6.dataEndIndex,\n            updateId = _this$state6.updateId; // TODO: update brush when children update\n\n        return cloneElement(element, {\n          key: element.key || '_recharts-brush',\n          onChange: combineEventHandlers(_this.handleBrushChange, null, element.props.onChange),\n          data: data,\n          x: isNumber(element.props.x) ? element.props.x : offset.left,\n          y: isNumber(element.props.y) ? element.props.y : offset.top + offset.height + offset.brushBottom - (margin.bottom || 0),\n          width: isNumber(element.props.width) ? element.props.width : offset.width,\n          startIndex: dataStartIndex,\n          endIndex: dataEndIndex,\n          updateId: \"brush-\".concat(updateId)\n        });\n      };\n\n      _this.renderReferenceElement = function (element, displayName, index) {\n        if (!element) {\n          return null;\n        }\n\n        var _assertThisInitialize = _assertThisInitialized(_this),\n            clipPathId = _assertThisInitialize.clipPathId;\n\n        var _this$state7 = _this.state,\n            xAxisMap = _this$state7.xAxisMap,\n            yAxisMap = _this$state7.yAxisMap,\n            offset = _this$state7.offset;\n        var _element$props = element.props,\n            xAxisId = _element$props.xAxisId,\n            yAxisId = _element$props.yAxisId;\n        return cloneElement(element, {\n          key: element.key || \"\".concat(displayName, \"-\").concat(index),\n          xAxis: xAxisMap[xAxisId],\n          yAxis: yAxisMap[yAxisId],\n          viewBox: {\n            x: offset.left,\n            y: offset.top,\n            width: offset.width,\n            height: offset.height\n          },\n          clipPathId: clipPathId\n        });\n      };\n\n      _this.renderGraphicChild = function (element, displayName, index) {\n        var item = _this.filterFormatItem(element, displayName, index);\n\n        if (!item) {\n          return null;\n        }\n\n        var graphicalItem = cloneElement(element, item.props);\n        var _this$state8 = _this.state,\n            isTooltipActive = _this$state8.isTooltipActive,\n            tooltipAxis = _this$state8.tooltipAxis,\n            activeTooltipIndex = _this$state8.activeTooltipIndex,\n            activeLabel = _this$state8.activeLabel;\n        var children = _this.props.children;\n        var tooltipItem = findChildByType(children, Tooltip);\n        var _item$props = item.props,\n            points = _item$props.points,\n            isRange = _item$props.isRange,\n            baseLine = _item$props.baseLine;\n        var _item$item$props = item.item.props,\n            activeDot = _item$item$props.activeDot,\n            hide = _item$item$props.hide;\n        var hasActive = !hide && isTooltipActive && tooltipItem && activeDot && activeTooltipIndex >= 0;\n\n        function findWithPayload(entry) {\n          return tooltipAxis.dataKey(entry.payload);\n        }\n\n        if (hasActive) {\n          var activePoint, basePoint;\n\n          if (tooltipAxis.dataKey && !tooltipAxis.allowDuplicatedCategory) {\n            var specifiedKey = typeof tooltipAxis.dataKey === 'function' ? findWithPayload : 'payload.'.concat(tooltipAxis.dataKey);\n            activePoint = findEntryInArray(points, specifiedKey, activeLabel);\n            basePoint = isRange && baseLine && findEntryInArray(baseLine, specifiedKey, activeLabel);\n          } else {\n            activePoint = points[activeTooltipIndex];\n            basePoint = isRange && baseLine && baseLine[activeTooltipIndex];\n          }\n\n          if (!_isNil(activePoint)) {\n            return [graphicalItem].concat(_toConsumableArray(_this.renderActivePoints({\n              item: item,\n              activePoint: activePoint,\n              basePoint: basePoint,\n              childIndex: activeTooltipIndex,\n              isRange: isRange\n            })));\n          }\n        }\n\n        if (isRange) {\n          return [graphicalItem, null, null];\n        }\n\n        return [graphicalItem, null];\n      };\n\n      _this.renderCustomized = function (element) {\n        return cloneElement(element, _objectSpread({}, _this.props, {}, _this.state));\n      };\n\n      var defaultState = _this.constructor.createDefaultState(_props);\n\n      var _updateId = 0;\n      _this.state = _objectSpread({}, defaultState, {\n        updateId: 0\n      }, _this.updateStateOfAxisMapsOffsetAndStackGroups(_objectSpread({\n        props: _props\n      }, defaultState, {\n        updateId: _updateId\n      })));\n      _this.uniqueChartId = _isNil(_props.id) ? uniqueId('recharts') : _props.id;\n      _this.clipPathId = \"\".concat(_this.uniqueChartId, \"-clip\");\n\n      if (_props.throttleDelay) {\n        _this.triggeredAfterMouseMove = _throttle(_this.triggeredAfterMouseMove, _props.throttleDelay);\n      }\n\n      return _this;\n    }\n    /* eslint-disable  react/no-did-mount-set-state */\n\n\n    _createClass(CategoricalChartWrapper, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        if (!_isNil(this.props.syncId)) {\n          this.addListener();\n        }\n      } // eslint-disable-next-line camelcase\n\n    }, {\n      key: \"componentWillReceiveProps\",\n      value: function componentWillReceiveProps(nextProps) {\n        var _this2 = this;\n\n        var _this$props4 = this.props,\n            data = _this$props4.data,\n            children = _this$props4.children,\n            width = _this$props4.width,\n            height = _this$props4.height,\n            layout = _this$props4.layout,\n            stackOffset = _this$props4.stackOffset,\n            margin = _this$props4.margin;\n        var updateId = this.state.updateId;\n\n        if (nextProps.data !== data || nextProps.width !== width || nextProps.height !== height || nextProps.layout !== layout || nextProps.stackOffset !== stackOffset || !shallowEqual(nextProps.margin, margin)) {\n          var defaultState = this.constructor.createDefaultState(nextProps);\n          this.setState(_objectSpread({}, defaultState, {\n            updateId: updateId + 1\n          }, this.updateStateOfAxisMapsOffsetAndStackGroups(_objectSpread({\n            props: nextProps\n          }, defaultState, {\n            updateId: updateId + 1\n          }))));\n        } else if (!isChildrenEqual(nextProps.children, children)) {\n          // update configuration in chilren\n          var hasGlobalData = !_isNil(nextProps.data);\n          var newUpdateId = hasGlobalData ? updateId : updateId + 1;\n          this.setState(function (prevState) {\n            return _objectSpread({\n              updateId: newUpdateId\n            }, _this2.updateStateOfAxisMapsOffsetAndStackGroups(_objectSpread({\n              props: nextProps\n            }, prevState, {\n              updateId: newUpdateId\n            })));\n          });\n        } // add syncId\n\n\n        if (_isNil(this.props.syncId) && !_isNil(nextProps.syncId)) {\n          this.addListener();\n        } // remove syncId\n\n\n        if (!_isNil(this.props.syncId) && _isNil(nextProps.syncId)) {\n          this.removeListener();\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        if (!_isNil(this.props.syncId)) {\n          this.removeListener();\n        }\n\n        if (typeof this.triggeredAfterMouseMove.cancel === 'function') {\n          this.triggeredAfterMouseMove.cancel();\n        }\n      }\n      /**\n      * Get the configuration of all x-axis or y-axis\n      * @param  {Object} props          Latest props\n      * @param  {String} axisType       The type of axis\n      * @param  {Array}  graphicalItems The instances of item\n      * @param  {Object} stackGroups    The items grouped by axisId and stackId\n      * @param {Number} dataStartIndex  The start index of the data series when a brush is applied\n      * @param {Number} dataEndIndex    The end index of the data series when a brush is applied\n      * @return {Object}          Configuration\n      */\n\n    }, {\n      key: \"getAxisMap\",\n      value: function getAxisMap(props, _ref5) {\n        var _ref5$axisType = _ref5.axisType,\n            axisType = _ref5$axisType === void 0 ? 'xAxis' : _ref5$axisType,\n            AxisComp = _ref5.AxisComp,\n            graphicalItems = _ref5.graphicalItems,\n            stackGroups = _ref5.stackGroups,\n            dataStartIndex = _ref5.dataStartIndex,\n            dataEndIndex = _ref5.dataEndIndex;\n        var children = props.children;\n        var axisIdKey = \"\".concat(axisType, \"Id\"); // Get all the instance of Axis\n\n        var axes = findAllByType(children, AxisComp);\n        var axisMap = {};\n\n        if (axes && axes.length) {\n          axisMap = this.getAxisMapByAxes(props, {\n            axes: axes,\n            graphicalItems: graphicalItems,\n            axisType: axisType,\n            axisIdKey: axisIdKey,\n            stackGroups: stackGroups,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex\n          });\n        } else if (graphicalItems && graphicalItems.length) {\n          axisMap = this.getAxisMapByItems(props, {\n            Axis: AxisComp,\n            graphicalItems: graphicalItems,\n            axisType: axisType,\n            axisIdKey: axisIdKey,\n            stackGroups: stackGroups,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex\n          });\n        }\n\n        return axisMap;\n      }\n      /**\n       * Get the configuration of axis by the options of axis instance\n       * @param  {Object} props         Latest props\n       * @param {Array}  axes           The instance of axes\n       * @param  {Array} graphicalItems The instances of item\n       * @param  {String} axisType      The type of axis, xAxis - x-axis, yAxis - y-axis\n       * @param  {String} axisIdKey     The unique id of an axis\n       * @param  {Object} stackGroups   The items grouped by axisId and stackId\n       * @param {Number} dataStartIndex The start index of the data series when a brush is applied\n       * @param {Number} dataEndIndex   The end index of the data series when a brush is applied\n       * @return {Object}      Configuration\n       */\n\n    }, {\n      key: \"getAxisMapByAxes\",\n      value: function getAxisMapByAxes(props, _ref6) {\n        var _this3 = this;\n\n        var axes = _ref6.axes,\n            graphicalItems = _ref6.graphicalItems,\n            axisType = _ref6.axisType,\n            axisIdKey = _ref6.axisIdKey,\n            stackGroups = _ref6.stackGroups,\n            dataStartIndex = _ref6.dataStartIndex,\n            dataEndIndex = _ref6.dataEndIndex;\n        var layout = props.layout,\n            children = props.children,\n            stackOffset = props.stackOffset;\n        var isCategorial = isCategorialAxis(layout, axisType); // Eliminate duplicated axes\n\n        var axisMap = axes.reduce(function (result, child) {\n          var _child$props = child.props,\n              type = _child$props.type,\n              dataKey = _child$props.dataKey,\n              allowDataOverflow = _child$props.allowDataOverflow,\n              allowDuplicatedCategory = _child$props.allowDuplicatedCategory,\n              scale = _child$props.scale,\n              ticks = _child$props.ticks;\n          var axisId = child.props[axisIdKey];\n\n          var displayedData = _this3.constructor.getDisplayedData(props, {\n            graphicalItems: graphicalItems.filter(function (item) {\n              return item.props[axisIdKey] === axisId;\n            }),\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex\n          });\n\n          var len = displayedData.length;\n\n          if (!result[axisId]) {\n            var domain, duplicateDomain, categoricalDomain;\n\n            if (dataKey) {\n              domain = getDomainOfDataByKey(displayedData, dataKey, type);\n\n              if (type === 'category' && isCategorial) {\n                var duplicate = hasDuplicate(domain);\n\n                if (allowDuplicatedCategory && duplicate) {\n                  duplicateDomain = domain; // When category axis has duplicated text, serial numbers are used to generate scale\n\n                  domain = _range(0, len);\n                } else if (!allowDuplicatedCategory) {\n                  // remove duplicated category\n                  domain = parseDomainOfCategoryAxis(child.props.domain, domain, child).reduce(function (finalDomain, entry) {\n                    return finalDomain.indexOf(entry) >= 0 ? finalDomain : [].concat(_toConsumableArray(finalDomain), [entry]);\n                  }, []);\n                }\n              } else if (type === 'category') {\n                if (!allowDuplicatedCategory) {\n                  domain = parseDomainOfCategoryAxis(child.props.domain, domain, child).reduce(function (finalDomain, entry) {\n                    return finalDomain.indexOf(entry) >= 0 || entry === '' || _isNil(entry) ? finalDomain : [].concat(_toConsumableArray(finalDomain), [entry]);\n                  }, []);\n                } else {\n                  // eliminate undefined or null or empty string\n                  domain = domain.filter(function (entry) {\n                    return entry !== '' && !_isNil(entry);\n                  });\n                }\n              } else if (type === 'number') {\n                var errorBarsDomain = parseErrorBarsOfAxis(displayedData, graphicalItems.filter(function (item) {\n                  return item.props[axisIdKey] === axisId && !item.props.hide;\n                }), dataKey, axisType);\n\n                if (errorBarsDomain) {\n                  domain = errorBarsDomain;\n                }\n              }\n\n              if (isCategorial && (type === 'number' || scale !== 'auto')) {\n                categoricalDomain = getDomainOfDataByKey(displayedData, dataKey, 'category');\n              }\n            } else if (isCategorial) {\n              domain = _range(0, len);\n            } else if (stackGroups && stackGroups[axisId] && stackGroups[axisId].hasStack && type === 'number') {\n              // when stackOffset is 'expand', the domain may be calculated as [0, 1.000000000002]\n              domain = stackOffset === 'expand' ? [0, 1] : getDomainOfStackGroups(stackGroups[axisId].stackGroups, dataStartIndex, dataEndIndex);\n            } else {\n              domain = getDomainOfItemsWithSameAxis(displayedData, graphicalItems.filter(function (item) {\n                return item.props[axisIdKey] === axisId && !item.props.hide;\n              }), type, true);\n            }\n\n            if (type === 'number') {\n              // To detect wether there is any reference lines whose props alwaysShow is true\n              domain = detectReferenceElementsDomain(children, domain, axisId, axisType, ticks);\n\n              if (child.props.domain) {\n                domain = parseSpecifiedDomain(child.props.domain, domain, allowDataOverflow);\n              }\n            }\n\n            return _objectSpread({}, result, _defineProperty({}, axisId, _objectSpread({}, child.props, {\n              axisType: axisType,\n              domain: domain,\n              categoricalDomain: categoricalDomain,\n              duplicateDomain: duplicateDomain,\n              originalDomain: child.props.domain,\n              isCategorial: isCategorial,\n              layout: layout\n            })));\n          }\n\n          return result;\n        }, {});\n        return axisMap;\n      }\n      /**\n       * Get the configuration of axis by the options of item,\n       * this kind of axis does not display in chart\n       * @param  {Object} props         Latest props\n       * @param  {Array} graphicalItems The instances of item\n       * @param  {ReactElement} Axis    Axis Component\n       * @param  {String} axisType      The type of axis, xAxis - x-axis, yAxis - y-axis\n       * @param  {String} axisIdKey     The unique id of an axis\n       * @param  {Object} stackGroups   The items grouped by axisId and stackId\n       * @param {Number} dataStartIndex The start index of the data series when a brush is applied\n       * @param {Number} dataEndIndex   The end index of the data series when a brush is applied\n       * @return {Object}               Configuration\n       */\n\n    }, {\n      key: \"getAxisMapByItems\",\n      value: function getAxisMapByItems(props, _ref7) {\n        var graphicalItems = _ref7.graphicalItems,\n            Axis = _ref7.Axis,\n            axisType = _ref7.axisType,\n            axisIdKey = _ref7.axisIdKey,\n            stackGroups = _ref7.stackGroups,\n            dataStartIndex = _ref7.dataStartIndex,\n            dataEndIndex = _ref7.dataEndIndex;\n        var layout = props.layout,\n            children = props.children;\n        var displayedData = this.constructor.getDisplayedData(props, {\n          graphicalItems: graphicalItems,\n          dataStartIndex: dataStartIndex,\n          dataEndIndex: dataEndIndex\n        });\n        var len = displayedData.length;\n        var isCategorial = isCategorialAxis(layout, axisType);\n        var index = -1; // The default type of x-axis is category axis,\n        // The default contents of x-axis is the serial numbers of data\n        // The default type of y-axis is number axis\n        // The default contents of y-axis is the domain of data\n\n        var axisMap = graphicalItems.reduce(function (result, child) {\n          var axisId = child.props[axisIdKey];\n\n          if (!result[axisId]) {\n            index++;\n            var domain;\n\n            if (isCategorial) {\n              domain = _range(0, len);\n            } else if (stackGroups && stackGroups[axisId] && stackGroups[axisId].hasStack) {\n              domain = getDomainOfStackGroups(stackGroups[axisId].stackGroups, dataStartIndex, dataEndIndex);\n              domain = detectReferenceElementsDomain(children, domain, axisId, axisType);\n            } else {\n              domain = parseSpecifiedDomain(Axis.defaultProps.domain, getDomainOfItemsWithSameAxis(displayedData, graphicalItems.filter(function (item) {\n                return item.props[axisIdKey] === axisId && !item.props.hide;\n              }), 'number'), Axis.defaultProps.allowDataOverflow);\n              domain = detectReferenceElementsDomain(children, domain, axisId, axisType);\n            }\n\n            return _objectSpread({}, result, _defineProperty({}, axisId, _objectSpread({\n              axisType: axisType\n            }, Axis.defaultProps, {\n              hide: true,\n              orientation: ORIENT_MAP[axisType] && ORIENT_MAP[axisType][index % 2],\n              domain: domain,\n              originalDomain: Axis.defaultProps.domain,\n              isCategorial: isCategorial,\n              layout: layout // specify scale when no Axis\n              // scale: isCategorial ? 'band' : 'linear',\n\n            })));\n          }\n\n          return result;\n        }, {});\n        return axisMap;\n      }\n    }, {\n      key: \"getActiveCoordinate\",\n      value: function getActiveCoordinate(tooltipTicks, activeIndex, rangeObj) {\n        var layout = this.props.layout;\n        var entry = tooltipTicks.find(function (tick) {\n          return tick && tick.index === activeIndex;\n        });\n\n        if (entry) {\n          if (layout === 'horizontal') {\n            return {\n              x: entry.coordinate,\n              y: rangeObj.y\n            };\n          }\n\n          if (layout === 'vertical') {\n            return {\n              x: rangeObj.x,\n              y: entry.coordinate\n            };\n          }\n\n          if (layout === 'centric') {\n            var _angle = entry.coordinate;\n            var _radius = rangeObj.radius;\n            return _objectSpread({}, rangeObj, {}, polarToCartesian(rangeObj.cx, rangeObj.cy, _radius, _angle), {\n              angle: _angle,\n              radius: _radius\n            });\n          }\n\n          var radius = entry.coordinate;\n          var angle = rangeObj.angle;\n          return _objectSpread({}, rangeObj, {}, polarToCartesian(rangeObj.cx, rangeObj.cy, radius, angle), {\n            angle: angle,\n            radius: radius\n          });\n        }\n\n        return originCoordinate;\n      }\n      /**\n       * Get the information of mouse in chart, return null when the mouse is not in the chart\n       * @param  {Object} event    The event object\n       * @return {Object}          Mouse data\n       */\n\n    }, {\n      key: \"getMouseInfo\",\n      value: function getMouseInfo(event) {\n        if (!this.container) {\n          return null;\n        }\n\n        var containerOffset = getOffset(this.container);\n        var e = calculateChartCoordinate(event, containerOffset);\n        var rangeObj = this.inRange(e.chartX, e.chartY);\n\n        if (!rangeObj) {\n          return null;\n        }\n\n        var _this$state9 = this.state,\n            xAxisMap = _this$state9.xAxisMap,\n            yAxisMap = _this$state9.yAxisMap;\n\n        if (eventType !== 'axis' && xAxisMap && yAxisMap) {\n          var xScale = getAnyElementOfObject(xAxisMap).scale;\n          var yScale = getAnyElementOfObject(yAxisMap).scale;\n          var xValue = xScale && xScale.invert ? xScale.invert(e.chartX) : null;\n          var yValue = yScale && yScale.invert ? yScale.invert(e.chartY) : null;\n          return _objectSpread({}, e, {\n            xValue: xValue,\n            yValue: yValue\n          });\n        }\n\n        var _this$state10 = this.state,\n            ticks = _this$state10.orderedTooltipTicks,\n            axis = _this$state10.tooltipAxis,\n            tooltipTicks = _this$state10.tooltipTicks;\n        var pos = this.calculateTooltipPos(rangeObj);\n        var activeIndex = calculateActiveTickIndex(pos, ticks, tooltipTicks, axis);\n\n        if (activeIndex >= 0 && tooltipTicks) {\n          var activeLabel = tooltipTicks[activeIndex] && tooltipTicks[activeIndex].value;\n          var activePayload = this.getTooltipContent(activeIndex, activeLabel);\n          var activeCoordinate = this.getActiveCoordinate(ticks, activeIndex, rangeObj);\n          return _objectSpread({}, e, {\n            activeTooltipIndex: activeIndex,\n            activeLabel: activeLabel,\n            activePayload: activePayload,\n            activeCoordinate: activeCoordinate\n          });\n        }\n\n        return null;\n      }\n      /**\n       * Get the content to be displayed in the tooltip\n       * @param  {Number} activeIndex    Active index of data\n       * @param  {String} activeLabel    Active label of data\n       * @return {Array}                 The content of tooltip\n       */\n\n    }, {\n      key: \"getTooltipContent\",\n      value: function getTooltipContent(activeIndex, activeLabel) {\n        var _this$state11 = this.state,\n            graphicalItems = _this$state11.graphicalItems,\n            tooltipAxis = _this$state11.tooltipAxis;\n        var displayedData = this.constructor.getDisplayedData(this.props, this.state);\n\n        if (activeIndex < 0 || !graphicalItems || !graphicalItems.length || activeIndex >= displayedData.length) {\n          return null;\n        } // get data by activeIndex when the axis don't allow duplicated category\n\n\n        return graphicalItems.reduce(function (result, child) {\n          var hide = child.props.hide;\n\n          if (hide) {\n            return result;\n          }\n\n          var _child$props2 = child.props,\n              dataKey = _child$props2.dataKey,\n              name = _child$props2.name,\n              unit = _child$props2.unit,\n              formatter = _child$props2.formatter,\n              data = _child$props2.data,\n              tooltipType = _child$props2.tooltipType;\n          var payload;\n\n          if (tooltipAxis.dataKey && !tooltipAxis.allowDuplicatedCategory) {\n            // graphic child has data props\n            payload = findEntryInArray(data || displayedData, tooltipAxis.dataKey, activeLabel);\n          } else {\n            payload = data && data[activeIndex] || displayedData[activeIndex];\n          }\n\n          if (!payload) {\n            return result;\n          }\n\n          return [].concat(_toConsumableArray(result), [_objectSpread({}, getPresentationAttributes(child), {\n            dataKey: dataKey,\n            unit: unit,\n            formatter: formatter,\n            name: name || dataKey,\n            color: getMainColorOfGraphicItem(child),\n            value: getValueByDataKey(payload, dataKey),\n            type: tooltipType,\n            payload: payload\n          })]);\n        }, []);\n      }\n    }, {\n      key: \"getFormatItems\",\n      value: function getFormatItems(props, currentState) {\n        var _this4 = this;\n\n        var graphicalItems = currentState.graphicalItems,\n            stackGroups = currentState.stackGroups,\n            offset = currentState.offset,\n            updateId = currentState.updateId,\n            dataStartIndex = currentState.dataStartIndex,\n            dataEndIndex = currentState.dataEndIndex;\n        var barSize = props.barSize,\n            layout = props.layout,\n            barGap = props.barGap,\n            barCategoryGap = props.barCategoryGap,\n            globalMaxBarSize = props.maxBarSize;\n\n        var _this$constructor$get = this.constructor.getAxisNameByLayout(layout),\n            numericAxisName = _this$constructor$get.numericAxisName,\n            cateAxisName = _this$constructor$get.cateAxisName;\n\n        var hasBar = this.constructor.hasBar(graphicalItems);\n        var sizeList = hasBar && getBarSizeList({\n          barSize: barSize,\n          stackGroups: stackGroups\n        });\n        var formatedItems = [];\n        graphicalItems.forEach(function (item, index) {\n          var displayedData = _this4.constructor.getDisplayedData(props, {\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex\n          }, item);\n\n          var _item$props2 = item.props,\n              dataKey = _item$props2.dataKey,\n              childMaxBarSize = _item$props2.maxBarSize;\n          var numericAxisId = item.props[\"\".concat(numericAxisName, \"Id\")];\n          var cateAxisId = item.props[\"\".concat(cateAxisName, \"Id\")];\n          var axisObj = axisComponents.reduce(function (result, entry) {\n            var _objectSpread4;\n\n            var axisMap = currentState[\"\".concat(entry.axisType, \"Map\")];\n            var id = item.props[\"\".concat(entry.axisType, \"Id\")];\n            var axis = axisMap && axisMap[id];\n            return _objectSpread({}, result, (_objectSpread4 = {}, _defineProperty(_objectSpread4, entry.axisType, axis), _defineProperty(_objectSpread4, \"\".concat(entry.axisType, \"Ticks\"), getTicksOfAxis(axis)), _objectSpread4));\n          }, {});\n          var cateAxis = axisObj[cateAxisName];\n          var cateTicks = axisObj[\"\".concat(cateAxisName, \"Ticks\")];\n          var stackedData = stackGroups && stackGroups[numericAxisId] && stackGroups[numericAxisId].hasStack && getStackedDataOfItem(item, stackGroups[numericAxisId].stackGroups);\n          var bandSize = getBandSizeOfAxis(cateAxis, cateTicks);\n          var maxBarSize = _isNil(childMaxBarSize) ? globalMaxBarSize : childMaxBarSize;\n          var barPosition = hasBar && getBarPosition({\n            barGap: barGap,\n            barCategoryGap: barCategoryGap,\n            bandSize: bandSize,\n            sizeList: sizeList[cateAxisId],\n            maxBarSize: maxBarSize\n          });\n          var componsedFn = item && item.type && item.type.getComposedData;\n\n          if (componsedFn) {\n            var _objectSpread5;\n\n            formatedItems.push({\n              props: _objectSpread({}, componsedFn(_objectSpread({}, axisObj, {\n                displayedData: displayedData,\n                props: props,\n                dataKey: dataKey,\n                item: item,\n                bandSize: bandSize,\n                barPosition: barPosition,\n                offset: offset,\n                stackedData: stackedData,\n                layout: layout,\n                dataStartIndex: dataStartIndex,\n                dataEndIndex: dataEndIndex,\n                onItemMouseLeave: combineEventHandlers(_this4.handleItemMouseLeave, null, item.props.onMouseLeave),\n                onItemMouseEnter: combineEventHandlers(_this4.handleItemMouseEnter, null, item.props.onMouseEnter)\n              })), (_objectSpread5 = {\n                key: item.key || \"item-\".concat(index)\n              }, _defineProperty(_objectSpread5, numericAxisName, axisObj[numericAxisName]), _defineProperty(_objectSpread5, cateAxisName, axisObj[cateAxisName]), _defineProperty(_objectSpread5, \"animationId\", updateId), _objectSpread5)),\n              childIndex: parseChildIndex(item, props.children),\n              item: item\n            });\n          }\n        });\n        return formatedItems;\n      }\n    }, {\n      key: \"getCursorRectangle\",\n      value: function getCursorRectangle() {\n        var layout = this.props.layout;\n        var _this$state12 = this.state,\n            activeCoordinate = _this$state12.activeCoordinate,\n            offset = _this$state12.offset,\n            tooltipAxisBandSize = _this$state12.tooltipAxisBandSize;\n        var halfSize = tooltipAxisBandSize / 2;\n        return {\n          stroke: 'none',\n          fill: '#ccc',\n          x: layout === 'horizontal' ? activeCoordinate.x - halfSize : offset.left + 0.5,\n          y: layout === 'horizontal' ? offset.top + 0.5 : activeCoordinate.y - halfSize,\n          width: layout === 'horizontal' ? tooltipAxisBandSize : offset.width - 1,\n          height: layout === 'horizontal' ? offset.height - 1 : tooltipAxisBandSize\n        };\n      }\n    }, {\n      key: \"getCursorPoints\",\n      value: function getCursorPoints() {\n        var layout = this.props.layout;\n        var _this$state13 = this.state,\n            activeCoordinate = _this$state13.activeCoordinate,\n            offset = _this$state13.offset;\n        var x1, y1, x2, y2;\n\n        if (layout === 'horizontal') {\n          x1 = activeCoordinate.x;\n          x2 = x1;\n          y1 = offset.top;\n          y2 = offset.top + offset.height;\n        } else if (layout === 'vertical') {\n          y1 = activeCoordinate.y;\n          y2 = y1;\n          x1 = offset.left;\n          x2 = offset.left + offset.width;\n        } else if (!_isNil(activeCoordinate.cx) || !_isNil(activeCoordinate.cy)) {\n          if (layout === 'centric') {\n            var cx = activeCoordinate.cx,\n                cy = activeCoordinate.cy,\n                innerRadius = activeCoordinate.innerRadius,\n                outerRadius = activeCoordinate.outerRadius,\n                angle = activeCoordinate.angle;\n            var innerPoint = polarToCartesian(cx, cy, innerRadius, angle);\n            var outerPoint = polarToCartesian(cx, cy, outerRadius, angle);\n            x1 = innerPoint.x;\n            y1 = innerPoint.y;\n            x2 = outerPoint.x;\n            y2 = outerPoint.y;\n          } else {\n            var _cx = activeCoordinate.cx,\n                _cy = activeCoordinate.cy,\n                radius = activeCoordinate.radius,\n                startAngle = activeCoordinate.startAngle,\n                endAngle = activeCoordinate.endAngle;\n            var startPoint = polarToCartesian(_cx, _cy, radius, startAngle);\n            var endPoint = polarToCartesian(_cx, _cy, radius, endAngle);\n            return {\n              points: [startPoint, endPoint],\n              cx: _cx,\n              cy: _cy,\n              radius: radius,\n              startAngle: startAngle,\n              endAngle: endAngle\n            };\n          }\n        }\n\n        return [{\n          x: x1,\n          y: y1\n        }, {\n          x: x2,\n          y: y2\n        }];\n      }\n    }, {\n      key: \"calculateTooltipPos\",\n      value: function calculateTooltipPos(rangeObj) {\n        var layout = this.props.layout;\n\n        if (layout === 'horizontal') {\n          return rangeObj.x;\n        }\n\n        if (layout === 'vertical') {\n          return rangeObj.y;\n        }\n\n        if (layout === 'centric') {\n          return rangeObj.angle;\n        }\n\n        return rangeObj.radius;\n      }\n    }, {\n      key: \"inRange\",\n      value: function inRange(x, y) {\n        var layout = this.props.layout;\n\n        if (layout === 'horizontal' || layout === 'vertical') {\n          var offset = this.state.offset;\n          var isInRange = x >= offset.left && x <= offset.left + offset.width && y >= offset.top && y <= offset.top + offset.height;\n          return isInRange ? {\n            x: x,\n            y: y\n          } : null;\n        }\n\n        var _this$state14 = this.state,\n            angleAxisMap = _this$state14.angleAxisMap,\n            radiusAxisMap = _this$state14.radiusAxisMap;\n\n        if (angleAxisMap && radiusAxisMap) {\n          var angleAxis = getAnyElementOfObject(angleAxisMap);\n          return inRangeOfSector({\n            x: x,\n            y: y\n          }, angleAxis);\n        }\n\n        return null;\n      }\n    }, {\n      key: \"parseEventsOfWrapper\",\n      value: function parseEventsOfWrapper() {\n        var children = this.props.children;\n        var tooltipItem = findChildByType(children, Tooltip);\n        var tooltipEvents = tooltipItem && eventType === 'axis' ? {\n          onMouseEnter: this.handleMouseEnter,\n          onMouseMove: this.handleMouseMove,\n          onMouseLeave: this.handleMouseLeave,\n          onTouchMove: this.handleTouchMove,\n          onTouchStart: this.handleTouchStart,\n          onTouchEnd: this.handleTouchEnd\n        } : {};\n        var outerEvents = filterEventAttributes(this.props, this.handleOuterEvent);\n        return _objectSpread({}, outerEvents, {}, tooltipEvents);\n      }\n      /**\n       * The AxisMaps are expensive to render on large data sets\n       * so provide the ability to store them in state and only update them when necessary\n       * they are dependent upon the start and end index of\n       * the brush so it's important that this method is called _after_\n       * the state is updated with any new start/end indices\n       *\n       * @param {Object} props          The props object to be used for updating the axismaps\n       * @param {Number} dataStartIndex The start index of the data series when a brush is applied\n       * @param {Number} dataEndIndex   The end index of the data series when a brush is applied\n       * @param {Number} updateId       The update id\n       * @return {Object} state New state to set\n       */\n\n    }, {\n      key: \"updateStateOfAxisMapsOffsetAndStackGroups\",\n      value: function updateStateOfAxisMapsOffsetAndStackGroups(_ref8) {\n        var _this5 = this;\n\n        var props = _ref8.props,\n            dataStartIndex = _ref8.dataStartIndex,\n            dataEndIndex = _ref8.dataEndIndex,\n            updateId = _ref8.updateId;\n\n        if (!validateWidthHeight({\n          props: props\n        })) {\n          return null;\n        }\n\n        var children = props.children,\n            layout = props.layout,\n            stackOffset = props.stackOffset,\n            data = props.data,\n            reverseStackOrder = props.reverseStackOrder;\n\n        var _this$constructor$get2 = this.constructor.getAxisNameByLayout(layout),\n            numericAxisName = _this$constructor$get2.numericAxisName,\n            cateAxisName = _this$constructor$get2.cateAxisName;\n\n        var graphicalItems = findAllByType(children, GraphicalChild);\n        var stackGroups = getStackGroupsByAxisId(data, graphicalItems, \"\".concat(numericAxisName, \"Id\"), \"\".concat(cateAxisName, \"Id\"), stackOffset, reverseStackOrder);\n        var axisObj = axisComponents.reduce(function (result, entry) {\n          var name = \"\".concat(entry.axisType, \"Map\");\n          return _objectSpread({}, result, _defineProperty({}, name, _this5.getAxisMap(props, _objectSpread({}, entry, {\n            graphicalItems: graphicalItems,\n            stackGroups: entry.axisType === numericAxisName && stackGroups,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex\n          }))));\n        }, {});\n        var offset = this.calculateOffset(_objectSpread({}, axisObj, {\n          props: props,\n          graphicalItems: graphicalItems\n        }));\n        Object.keys(axisObj).forEach(function (key) {\n          axisObj[key] = formatAxisMap(props, axisObj[key], offset, key.replace('Map', ''), chartName);\n        });\n        var cateAxisMap = axisObj[\"\".concat(cateAxisName, \"Map\")];\n        var ticksObj = this.tooltipTicksGenerator(cateAxisMap);\n        var formatedGraphicalItems = this.getFormatItems(props, _objectSpread({}, axisObj, {\n          dataStartIndex: dataStartIndex,\n          dataEndIndex: dataEndIndex,\n          updateId: updateId,\n          graphicalItems: graphicalItems,\n          stackGroups: stackGroups,\n          offset: offset\n        }));\n        return _objectSpread({\n          formatedGraphicalItems: formatedGraphicalItems,\n          graphicalItems: graphicalItems,\n          offset: offset,\n          stackGroups: stackGroups\n        }, ticksObj, {}, axisObj);\n      }\n      /* eslint-disable  no-underscore-dangle */\n\n    }, {\n      key: \"addListener\",\n      value: function addListener() {\n        eventCenter.on(SYNC_EVENT, this.handleReceiveSyncEvent);\n\n        if (eventCenter.setMaxListeners && eventCenter._maxListeners) {\n          eventCenter.setMaxListeners(eventCenter._maxListeners + 1);\n        }\n      }\n    }, {\n      key: \"removeListener\",\n      value: function removeListener() {\n        eventCenter.removeListener(SYNC_EVENT, this.handleReceiveSyncEvent);\n\n        if (eventCenter.setMaxListeners && eventCenter._maxListeners) {\n          eventCenter.setMaxListeners(eventCenter._maxListeners - 1);\n        }\n      }\n      /**\n       * Calculate the offset of main part in the svg element\n       * @param  {Object} props          Latest props\n       * @param  {Array}  graphicalItems The instances of item\n       * @param  {Object} xAxisMap       The configuration of x-axis\n       * @param  {Object} yAxisMap       The configuration of y-axis\n       * @return {Object} The offset of main part in the svg element\n       */\n\n    }, {\n      key: \"calculateOffset\",\n      value: function calculateOffset(_ref9) {\n        var props = _ref9.props,\n            graphicalItems = _ref9.graphicalItems,\n            _ref9$xAxisMap = _ref9.xAxisMap,\n            xAxisMap = _ref9$xAxisMap === void 0 ? {} : _ref9$xAxisMap,\n            _ref9$yAxisMap = _ref9.yAxisMap,\n            yAxisMap = _ref9$yAxisMap === void 0 ? {} : _ref9$yAxisMap;\n        var width = props.width,\n            height = props.height,\n            children = props.children;\n        var margin = props.margin || {};\n        var brushItem = findChildByType(children, Brush);\n        var legendItem = findChildByType(children, Legend);\n        var offsetH = Object.keys(yAxisMap).reduce(function (result, id) {\n          var entry = yAxisMap[id];\n          var orientation = entry.orientation;\n\n          if (!entry.mirror && !entry.hide) {\n            return _objectSpread({}, result, _defineProperty({}, orientation, result[orientation] + entry.width));\n          }\n\n          return result;\n        }, {\n          left: margin.left || 0,\n          right: margin.right || 0\n        });\n        var offsetV = Object.keys(xAxisMap).reduce(function (result, id) {\n          var entry = xAxisMap[id];\n          var orientation = entry.orientation;\n\n          if (!entry.mirror && !entry.hide) {\n            return _objectSpread({}, result, _defineProperty({}, orientation, result[orientation] + entry.height));\n          }\n\n          return result;\n        }, {\n          top: margin.top || 0,\n          bottom: margin.bottom || 0\n        });\n\n        var offset = _objectSpread({}, offsetV, {}, offsetH);\n\n        var brushBottom = offset.bottom;\n\n        if (brushItem) {\n          offset.bottom += brushItem.props.height || Brush.defaultProps.height;\n        }\n\n        if (legendItem && this.legendInstance) {\n          var legendBox = this.legendInstance.getBBox();\n          offset = appendOffsetOfLegend(offset, graphicalItems, props, legendBox);\n        }\n\n        return _objectSpread({\n          brushBottom: brushBottom\n        }, offset, {\n          width: width - offset.left - offset.right,\n          height: height - offset.top - offset.bottom\n        });\n      }\n    }, {\n      key: \"triggerSyncEvent\",\n      value: function triggerSyncEvent(data) {\n        var syncId = this.props.syncId;\n\n        if (!_isNil(syncId)) {\n          eventCenter.emit(SYNC_EVENT, syncId, this.uniqueChartId, data);\n        }\n      }\n    }, {\n      key: \"filterFormatItem\",\n      value: function filterFormatItem(item, displayName, childIndex) {\n        var formatedGraphicalItems = this.state.formatedGraphicalItems;\n\n        for (var i = 0, len = formatedGraphicalItems.length; i < len; i++) {\n          var entry = formatedGraphicalItems[i];\n\n          if (entry.item === item || entry.props.key === item.key || displayName === getDisplayName(entry.item.type) && childIndex === entry.childIndex) {\n            return entry;\n          }\n        }\n\n        return null;\n      }\n    }, {\n      key: \"renderAxis\",\n\n      /**\n       * Draw axis\n       * @param {Object} axisOptions The options of axis\n       * @param {Object} element      The axis element\n       * @param {String} displayName  The display name of axis\n       * @param {Number} index        The index of element\n       * @return {ReactElement}       The instance of x-axes\n       */\n      value: function renderAxis(axisOptions, element, displayName, index) {\n        var _this$props5 = this.props,\n            width = _this$props5.width,\n            height = _this$props5.height;\n        return React.createElement(CartesianAxis, _extends({}, axisOptions, {\n          className: \"recharts-\".concat(axisOptions.axisType, \" \").concat(axisOptions.axisType),\n          key: element.key || \"\".concat(displayName, \"-\").concat(index),\n          viewBox: {\n            x: 0,\n            y: 0,\n            width: width,\n            height: height\n          },\n          ticksGenerator: this.axesTicksGenerator\n        }));\n      }\n      /**\n       * Draw grid\n       * @param  {ReactElement} element the grid item\n       * @return {ReactElement} The instance of grid\n       */\n\n    }, {\n      key: \"renderLegend\",\n\n      /**\n       * Draw legend\n       * @return {ReactElement}            The instance of Legend\n       */\n      value: function renderLegend() {\n        var _this6 = this;\n\n        var formatedGraphicalItems = this.state.formatedGraphicalItems;\n        var _this$props6 = this.props,\n            children = _this$props6.children,\n            width = _this$props6.width,\n            height = _this$props6.height;\n        var margin = this.props.margin || {};\n        var legendWidth = width - (margin.left || 0) - (margin.right || 0);\n        var legendHeight = height - (margin.top || 0) - (margin.bottom || 0);\n        var props = getLegendProps({\n          children: children,\n          formatedGraphicalItems: formatedGraphicalItems,\n          legendWidth: legendWidth,\n          legendHeight: legendHeight,\n          legendContent: legendContent\n        });\n\n        if (!props) {\n          return null;\n        }\n\n        var item = props.item,\n            otherProps = _objectWithoutProperties(props, [\"item\"]);\n\n        return cloneElement(item, _objectSpread({}, otherProps, {\n          chartWidth: width,\n          chartHeight: height,\n          margin: margin,\n          ref: function ref(legend) {\n            _this6.legendInstance = legend;\n          },\n          onBBoxUpdate: this.handleLegendBBoxUpdate\n        }));\n      }\n      /**\n       * Draw Tooltip\n       * @return {ReactElement}  The instance of Tooltip\n       */\n\n    }, {\n      key: \"renderTooltip\",\n      value: function renderTooltip() {\n        var children = this.props.children;\n        var tooltipItem = findChildByType(children, Tooltip);\n\n        if (!tooltipItem) {\n          return null;\n        }\n\n        var _this$state15 = this.state,\n            isTooltipActive = _this$state15.isTooltipActive,\n            activeCoordinate = _this$state15.activeCoordinate,\n            activePayload = _this$state15.activePayload,\n            activeLabel = _this$state15.activeLabel,\n            offset = _this$state15.offset;\n        return cloneElement(tooltipItem, {\n          viewBox: _objectSpread({}, offset, {\n            x: offset.left,\n            y: offset.top\n          }),\n          active: isTooltipActive,\n          label: activeLabel,\n          payload: isTooltipActive ? activePayload : [],\n          coordinate: activeCoordinate\n        });\n      }\n    }, {\n      key: \"renderActivePoints\",\n      value: function renderActivePoints(_ref10) {\n        var item = _ref10.item,\n            activePoint = _ref10.activePoint,\n            basePoint = _ref10.basePoint,\n            childIndex = _ref10.childIndex,\n            isRange = _ref10.isRange;\n        var result = [];\n        var key = item.props.key;\n        var _item$item$props2 = item.item.props,\n            activeDot = _item$item$props2.activeDot,\n            dataKey = _item$item$props2.dataKey;\n\n        var dotProps = _objectSpread({\n          index: childIndex,\n          dataKey: dataKey,\n          cx: activePoint.x,\n          cy: activePoint.y,\n          r: 4,\n          fill: getMainColorOfGraphicItem(item.item),\n          strokeWidth: 2,\n          stroke: '#fff',\n          payload: activePoint.payload,\n          value: activePoint.value,\n          key: \"\".concat(key, \"-activePoint-\").concat(childIndex)\n        }, getPresentationAttributes(activeDot), {}, filterEventAttributes(activeDot));\n\n        result.push(this.constructor.renderActiveDot(activeDot, dotProps, childIndex));\n\n        if (basePoint) {\n          result.push(this.constructor.renderActiveDot(activeDot, _objectSpread({}, dotProps, {\n            cx: basePoint.x,\n            cy: basePoint.y,\n            key: \"\".concat(key, \"-basePoint-\").concat(childIndex)\n          }), childIndex));\n        } else if (isRange) {\n          result.push(null);\n        }\n\n        return result;\n      }\n    }, {\n      key: \"renderClipPath\",\n      value: function renderClipPath() {\n        var clipPathId = this.clipPathId;\n        var _this$state$offset = this.state.offset,\n            left = _this$state$offset.left,\n            top = _this$state$offset.top,\n            height = _this$state$offset.height,\n            width = _this$state$offset.width;\n        return React.createElement(\"defs\", null, React.createElement(\"clipPath\", {\n          id: clipPathId\n        }, React.createElement(\"rect\", {\n          x: left,\n          y: top,\n          height: height,\n          width: width\n        })));\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this7 = this;\n\n        if (!validateWidthHeight(this)) {\n          return null;\n        }\n\n        var _this$props7 = this.props,\n            children = _this$props7.children,\n            className = _this$props7.className,\n            width = _this$props7.width,\n            height = _this$props7.height,\n            style = _this$props7.style,\n            compact = _this$props7.compact,\n            others = _objectWithoutProperties(_this$props7, [\"children\", \"className\", \"width\", \"height\", \"style\", \"compact\"]);\n\n        var attrs = getPresentationAttributes(others);\n        var map = {\n          CartesianGrid: {\n            handler: this.renderGrid,\n            once: true\n          },\n          ReferenceArea: {\n            handler: this.renderReferenceElement\n          },\n          ReferenceLine: {\n            handler: this.renderReferenceElement\n          },\n          ReferenceDot: {\n            handler: this.renderReferenceElement\n          },\n          XAxis: {\n            handler: this.renderXAxis\n          },\n          YAxis: {\n            handler: this.renderYAxis\n          },\n          Brush: {\n            handler: this.renderBrush,\n            once: true\n          },\n          Bar: {\n            handler: this.renderGraphicChild\n          },\n          Line: {\n            handler: this.renderGraphicChild\n          },\n          Area: {\n            handler: this.renderGraphicChild\n          },\n          Radar: {\n            handler: this.renderGraphicChild\n          },\n          RadialBar: {\n            handler: this.renderGraphicChild\n          },\n          Scatter: {\n            handler: this.renderGraphicChild\n          },\n          Pie: {\n            handler: this.renderGraphicChild\n          },\n          Funnel: {\n            handler: this.renderGraphicChild\n          },\n          Tooltip: {\n            handler: this.renderCursor,\n            once: true\n          },\n          PolarGrid: {\n            handler: this.renderPolarGrid,\n            once: true\n          },\n          PolarAngleAxis: {\n            handler: this.renderPolarAxis\n          },\n          PolarRadiusAxis: {\n            handler: this.renderPolarAxis\n          },\n          Customized: {\n            handler: this.renderCustomized\n          }\n        }; // The \"compact\" mode is mainly used as the panorama within Brush\n\n        if (compact) {\n          return React.createElement(Surface, _extends({}, attrs, {\n            width: width,\n            height: height\n          }), this.renderClipPath(), renderByOrder(children, map));\n        }\n\n        var events = this.parseEventsOfWrapper();\n        return React.createElement(\"div\", _extends({\n          className: classNames('recharts-wrapper', className),\n          style: _objectSpread({\n            position: 'relative',\n            cursor: 'default',\n            width: width,\n            height: height\n          }, style)\n        }, events, {\n          ref: function ref(node) {\n            _this7.container = node;\n          }\n        }), React.createElement(Surface, _extends({}, attrs, {\n          width: width,\n          height: height\n        }), this.renderClipPath(), renderByOrder(children, map)), this.renderLegend(), this.renderTooltip());\n      }\n    }], [{\n      key: \"getAxisNameByLayout\",\n      value: function getAxisNameByLayout(layout) {\n        if (layout === 'horizontal') {\n          return {\n            numericAxisName: 'yAxis',\n            cateAxisName: 'xAxis'\n          };\n        }\n\n        if (layout === 'vertical') {\n          return {\n            numericAxisName: 'xAxis',\n            cateAxisName: 'yAxis'\n          };\n        }\n\n        if (layout === 'centric') {\n          return {\n            numericAxisName: 'radiusAxis',\n            cateAxisName: 'angleAxis'\n          };\n        }\n\n        return {\n          numericAxisName: 'angleAxis',\n          cateAxisName: 'radiusAxis'\n        };\n      }\n    }, {\n      key: \"renderActiveDot\",\n      value: function renderActiveDot(option, props) {\n        var dot;\n\n        if (isValidElement(option)) {\n          dot = cloneElement(option, props);\n        } else if (_isFunction(option)) {\n          dot = option(props);\n        } else {\n          dot = React.createElement(Dot, props);\n        }\n\n        return React.createElement(Layer, {\n          className: \"recharts-active-dot\",\n          key: props.key\n        }, dot);\n      }\n    }]);\n\n    return CategoricalChartWrapper;\n  }(Component);\n\n  CategoricalChartWrapper.displayName = chartName;\n  CategoricalChartWrapper.propTypes = _objectSpread({\n    syncId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    compact: PropTypes.bool,\n    width: PropTypes.number,\n    height: PropTypes.number,\n    data: PropTypes.arrayOf(PropTypes.object),\n    layout: PropTypes.oneOf(['horizontal', 'vertical']),\n    stackOffset: PropTypes.oneOf(['sign', 'expand', 'none', 'wiggle', 'silhouette']),\n    throttleDelay: PropTypes.number,\n    margin: PropTypes.shape({\n      top: PropTypes.number,\n      right: PropTypes.number,\n      bottom: PropTypes.number,\n      left: PropTypes.number\n    }),\n    barCategoryGap: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    barGap: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    barSize: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    maxBarSize: PropTypes.number,\n    style: PropTypes.object,\n    className: PropTypes.string,\n    children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n    defaultShowTooltip: PropTypes.bool,\n    onClick: PropTypes.func,\n    onMouseLeave: PropTypes.func,\n    onMouseEnter: PropTypes.func,\n    onMouseMove: PropTypes.func,\n    onMouseDown: PropTypes.func,\n    onMouseUp: PropTypes.func,\n    reverseStackOrder: PropTypes.bool,\n    id: PropTypes.string\n  }, propTypes);\n  CategoricalChartWrapper.defaultProps = _objectSpread({\n    layout: 'horizontal',\n    stackOffset: 'none',\n    barCategoryGap: '10%',\n    barGap: 4,\n    margin: {\n      top: 5,\n      right: 5,\n      bottom: 5,\n      left: 5\n    },\n    reverseStackOrder: false\n  }, defaultProps);\n\n  CategoricalChartWrapper.createDefaultState = function (props) {\n    var children = props.children,\n        defaultShowTooltip = props.defaultShowTooltip;\n    var brushItem = findChildByType(children, Brush);\n    var startIndex = brushItem && brushItem.props && brushItem.props.startIndex || 0;\n    var endIndex = brushItem && brushItem.props && brushItem.props.endIndex || props.data && props.data.length - 1 || 0;\n    return {\n      chartX: 0,\n      chartY: 0,\n      dataStartIndex: startIndex,\n      dataEndIndex: endIndex,\n      activeTooltipIndex: -1,\n      isTooltipActive: !_isNil(defaultShowTooltip) ? defaultShowTooltip : false\n    };\n  };\n\n  CategoricalChartWrapper.hasBar = function (graphicalItems) {\n    if (!graphicalItems || !graphicalItems.length) {\n      return false;\n    }\n\n    return graphicalItems.some(function (item) {\n      var name = getDisplayName(item && item.type);\n      return name && name.indexOf('Bar') >= 0;\n    });\n  };\n\n  CategoricalChartWrapper.getDisplayedData = function (props, _ref11, item) {\n    var graphicalItems = _ref11.graphicalItems,\n        dataStartIndex = _ref11.dataStartIndex,\n        dataEndIndex = _ref11.dataEndIndex;\n    var itemsData = (graphicalItems || []).reduce(function (result, child) {\n      var itemData = child.props.data;\n\n      if (itemData && itemData.length) {\n        return [].concat(_toConsumableArray(result), _toConsumableArray(itemData));\n      }\n\n      return result;\n    }, []);\n\n    if (itemsData && itemsData.length > 0) {\n      return itemsData;\n    }\n\n    if (item && item.props && item.props.data && item.props.data.length > 0) {\n      return item.props.data;\n    }\n\n    var data = props.data;\n\n    if (data && data.length && isNumber(dataStartIndex) && isNumber(dataEndIndex)) {\n      return data.slice(dataStartIndex, dataEndIndex + 1);\n    }\n\n    return [];\n  };\n\n  return CategoricalChartWrapper;\n};\n\nexport default generateCategoricalChart;"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,cAAnB;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,OAAOC,OAAP,MAAoB,eAApB;AACA,OAAOC,WAAP,MAAwB,mBAAxB;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,OAAOC,SAAP,MAAsB,iBAAtB;AACA,OAAOC,MAAP,MAAmB,cAAnB;;AAEA,SAASC,OAAT,CAAiBC,GAAjB,EAAsB;EAAE,IAAI,OAAOC,MAAP,KAAkB,UAAlB,IAAgC,OAAOA,MAAM,CAACC,QAAd,KAA2B,QAA/D,EAAyE;IAAEH,OAAO,GAAG,SAASA,OAAT,CAAiBC,GAAjB,EAAsB;MAAE,OAAO,OAAOA,GAAd;IAAoB,CAAtD;EAAyD,CAApI,MAA0I;IAAED,OAAO,GAAG,SAASA,OAAT,CAAiBC,GAAjB,EAAsB;MAAE,OAAOA,GAAG,IAAI,OAAOC,MAAP,KAAkB,UAAzB,IAAuCD,GAAG,CAACG,WAAJ,KAAoBF,MAA3D,IAAqED,GAAG,KAAKC,MAAM,CAACG,SAApF,GAAgG,QAAhG,GAA2G,OAAOJ,GAAzH;IAA+H,CAAjK;EAAoK;;EAAC,OAAOD,OAAO,CAACC,GAAD,CAAd;AAAsB;;AAE/V,SAASK,wBAAT,CAAkCC,MAAlC,EAA0CC,QAA1C,EAAoD;EAAE,IAAID,MAAM,IAAI,IAAd,EAAoB,OAAO,EAAP;;EAAW,IAAIE,MAAM,GAAGC,6BAA6B,CAACH,MAAD,EAASC,QAAT,CAA1C;;EAA8D,IAAIG,GAAJ,EAASC,CAAT;;EAAY,IAAIC,MAAM,CAACC,qBAAX,EAAkC;IAAE,IAAIC,gBAAgB,GAAGF,MAAM,CAACC,qBAAP,CAA6BP,MAA7B,CAAvB;;IAA6D,KAAKK,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGG,gBAAgB,CAACC,MAAjC,EAAyCJ,CAAC,EAA1C,EAA8C;MAAED,GAAG,GAAGI,gBAAgB,CAACH,CAAD,CAAtB;MAA2B,IAAIJ,QAAQ,CAACS,OAAT,CAAiBN,GAAjB,KAAyB,CAA7B,EAAgC;MAAU,IAAI,CAACE,MAAM,CAACR,SAAP,CAAiBa,oBAAjB,CAAsCC,IAAtC,CAA2CZ,MAA3C,EAAmDI,GAAnD,CAAL,EAA8D;MAAUF,MAAM,CAACE,GAAD,CAAN,GAAcJ,MAAM,CAACI,GAAD,CAApB;IAA4B;EAAE;;EAAC,OAAOF,MAAP;AAAgB;;AAE5e,SAASC,6BAAT,CAAuCH,MAAvC,EAA+CC,QAA/C,EAAyD;EAAE,IAAID,MAAM,IAAI,IAAd,EAAoB,OAAO,EAAP;EAAW,IAAIE,MAAM,GAAG,EAAb;EAAiB,IAAIW,UAAU,GAAGP,MAAM,CAACQ,IAAP,CAAYd,MAAZ,CAAjB;EAAsC,IAAII,GAAJ,EAASC,CAAT;;EAAY,KAAKA,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGQ,UAAU,CAACJ,MAA3B,EAAmCJ,CAAC,EAApC,EAAwC;IAAED,GAAG,GAAGS,UAAU,CAACR,CAAD,CAAhB;IAAqB,IAAIJ,QAAQ,CAACS,OAAT,CAAiBN,GAAjB,KAAyB,CAA7B,EAAgC;IAAUF,MAAM,CAACE,GAAD,CAAN,GAAcJ,MAAM,CAACI,GAAD,CAApB;EAA4B;;EAAC,OAAOF,MAAP;AAAgB;;AAEnT,SAASa,QAAT,GAAoB;EAAEA,QAAQ,GAAGT,MAAM,CAACU,MAAP,IAAiB,UAAUd,MAAV,EAAkB;IAAE,KAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGY,SAAS,CAACR,MAA9B,EAAsCJ,CAAC,EAAvC,EAA2C;MAAE,IAAIL,MAAM,GAAGiB,SAAS,CAACZ,CAAD,CAAtB;;MAA2B,KAAK,IAAID,GAAT,IAAgBJ,MAAhB,EAAwB;QAAE,IAAIM,MAAM,CAACR,SAAP,CAAiBoB,cAAjB,CAAgCN,IAAhC,CAAqCZ,MAArC,EAA6CI,GAA7C,CAAJ,EAAuD;UAAEF,MAAM,CAACE,GAAD,CAAN,GAAcJ,MAAM,CAACI,GAAD,CAApB;QAA4B;MAAE;IAAE;;IAAC,OAAOF,MAAP;EAAgB,CAA5P;;EAA8P,OAAOa,QAAQ,CAACI,KAAT,CAAe,IAAf,EAAqBF,SAArB,CAAP;AAAyC;;AAE7T,SAASG,kBAAT,CAA4BC,GAA5B,EAAiC;EAAE,OAAOC,kBAAkB,CAACD,GAAD,CAAlB,IAA2BE,gBAAgB,CAACF,GAAD,CAA3C,IAAoDG,kBAAkB,EAA7E;AAAkF;;AAErH,SAASA,kBAAT,GAA8B;EAAE,MAAM,IAAIC,SAAJ,CAAc,iDAAd,CAAN;AAAyE;;AAEzG,SAASF,gBAAT,CAA0BG,IAA1B,EAAgC;EAAE,IAAI/B,MAAM,CAACC,QAAP,IAAmBU,MAAM,CAACoB,IAAD,CAAzB,IAAmCpB,MAAM,CAACR,SAAP,CAAiB6B,QAAjB,CAA0Bf,IAA1B,CAA+Bc,IAA/B,MAAyC,oBAAhF,EAAsG,OAAOE,KAAK,CAACC,IAAN,CAAWH,IAAX,CAAP;AAA0B;;AAElK,SAASJ,kBAAT,CAA4BD,GAA5B,EAAiC;EAAE,IAAIO,KAAK,CAACE,OAAN,CAAcT,GAAd,CAAJ,EAAwB;IAAE,KAAK,IAAIhB,CAAC,GAAG,CAAR,EAAW0B,IAAI,GAAG,IAAIH,KAAJ,CAAUP,GAAG,CAACZ,MAAd,CAAvB,EAA8CJ,CAAC,GAAGgB,GAAG,CAACZ,MAAtD,EAA8DJ,CAAC,EAA/D,EAAmE;MAAE0B,IAAI,CAAC1B,CAAD,CAAJ,GAAUgB,GAAG,CAAChB,CAAD,CAAb;IAAmB;;IAAC,OAAO0B,IAAP;EAAc;AAAE;;AAEtK,SAASC,OAAT,CAAiBC,MAAjB,EAAyBC,cAAzB,EAAyC;EAAE,IAAIpB,IAAI,GAAGR,MAAM,CAACQ,IAAP,CAAYmB,MAAZ,CAAX;;EAAgC,IAAI3B,MAAM,CAACC,qBAAX,EAAkC;IAAE,IAAI4B,OAAO,GAAG7B,MAAM,CAACC,qBAAP,CAA6B0B,MAA7B,CAAd;IAAoD,IAAIC,cAAJ,EAAoBC,OAAO,GAAGA,OAAO,CAACC,MAAR,CAAe,UAAUC,GAAV,EAAe;MAAE,OAAO/B,MAAM,CAACgC,wBAAP,CAAgCL,MAAhC,EAAwCI,GAAxC,EAA6CE,UAApD;IAAiE,CAAjG,CAAV;IAA8GzB,IAAI,CAAC0B,IAAL,CAAUrB,KAAV,CAAgBL,IAAhB,EAAsBqB,OAAtB;EAAiC;;EAAC,OAAOrB,IAAP;AAAc;;AAErV,SAAS2B,aAAT,CAAuBvC,MAAvB,EAA+B;EAAE,KAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGY,SAAS,CAACR,MAA9B,EAAsCJ,CAAC,EAAvC,EAA2C;IAAE,IAAIL,MAAM,GAAGiB,SAAS,CAACZ,CAAD,CAAT,IAAgB,IAAhB,GAAuBY,SAAS,CAACZ,CAAD,CAAhC,GAAsC,EAAnD;;IAAuD,IAAIA,CAAC,GAAG,CAAR,EAAW;MAAE2B,OAAO,CAAChC,MAAD,EAAS,IAAT,CAAP,CAAsB0C,OAAtB,CAA8B,UAAUtC,GAAV,EAAe;QAAEuC,eAAe,CAACzC,MAAD,EAASE,GAAT,EAAcJ,MAAM,CAACI,GAAD,CAApB,CAAf;MAA4C,CAA3F;IAA+F,CAA5G,MAAkH,IAAIE,MAAM,CAACsC,yBAAX,EAAsC;MAAEtC,MAAM,CAACuC,gBAAP,CAAwB3C,MAAxB,EAAgCI,MAAM,CAACsC,yBAAP,CAAiC5C,MAAjC,CAAhC;IAA4E,CAApH,MAA0H;MAAEgC,OAAO,CAAChC,MAAD,CAAP,CAAgB0C,OAAhB,CAAwB,UAAUtC,GAAV,EAAe;QAAEE,MAAM,CAACwC,cAAP,CAAsB5C,MAAtB,EAA8BE,GAA9B,EAAmCE,MAAM,CAACgC,wBAAP,CAAgCtC,MAAhC,EAAwCI,GAAxC,CAAnC;MAAmF,CAA5H;IAAgI;EAAE;;EAAC,OAAOF,MAAP;AAAgB;;AAEtgB,SAASyC,eAAT,CAAyBjD,GAAzB,EAA8BU,GAA9B,EAAmC2C,KAAnC,EAA0C;EAAE,IAAI3C,GAAG,IAAIV,GAAX,EAAgB;IAAEY,MAAM,CAACwC,cAAP,CAAsBpD,GAAtB,EAA2BU,GAA3B,EAAgC;MAAE2C,KAAK,EAAEA,KAAT;MAAgBR,UAAU,EAAE,IAA5B;MAAkCS,YAAY,EAAE,IAAhD;MAAsDC,QAAQ,EAAE;IAAhE,CAAhC;EAA0G,CAA5H,MAAkI;IAAEvD,GAAG,CAACU,GAAD,CAAH,GAAW2C,KAAX;EAAmB;;EAAC,OAAOrD,GAAP;AAAa;;AAEjN,SAASwD,eAAT,CAAyBC,QAAzB,EAAmCC,WAAnC,EAAgD;EAAE,IAAI,EAAED,QAAQ,YAAYC,WAAtB,CAAJ,EAAwC;IAAE,MAAM,IAAI3B,SAAJ,CAAc,mCAAd,CAAN;EAA2D;AAAE;;AAEzJ,SAAS4B,iBAAT,CAA2BnD,MAA3B,EAAmCoD,KAAnC,EAA0C;EAAE,KAAK,IAAIjD,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGiD,KAAK,CAAC7C,MAA1B,EAAkCJ,CAAC,EAAnC,EAAuC;IAAE,IAAIkD,UAAU,GAAGD,KAAK,CAACjD,CAAD,CAAtB;IAA2BkD,UAAU,CAAChB,UAAX,GAAwBgB,UAAU,CAAChB,UAAX,IAAyB,KAAjD;IAAwDgB,UAAU,CAACP,YAAX,GAA0B,IAA1B;IAAgC,IAAI,WAAWO,UAAf,EAA2BA,UAAU,CAACN,QAAX,GAAsB,IAAtB;IAA4B3C,MAAM,CAACwC,cAAP,CAAsB5C,MAAtB,EAA8BqD,UAAU,CAACnD,GAAzC,EAA8CmD,UAA9C;EAA4D;AAAE;;AAE7T,SAASC,YAAT,CAAsBJ,WAAtB,EAAmCK,UAAnC,EAA+CC,WAA/C,EAA4D;EAAE,IAAID,UAAJ,EAAgBJ,iBAAiB,CAACD,WAAW,CAACtD,SAAb,EAAwB2D,UAAxB,CAAjB;EAAsD,IAAIC,WAAJ,EAAiBL,iBAAiB,CAACD,WAAD,EAAcM,WAAd,CAAjB;EAA6C,OAAON,WAAP;AAAqB;;AAEvN,SAASO,0BAAT,CAAoCC,IAApC,EAA0ChD,IAA1C,EAAgD;EAAE,IAAIA,IAAI,KAAKnB,OAAO,CAACmB,IAAD,CAAP,KAAkB,QAAlB,IAA8B,OAAOA,IAAP,KAAgB,UAAnD,CAAR,EAAwE;IAAE,OAAOA,IAAP;EAAc;;EAAC,OAAOiD,sBAAsB,CAACD,IAAD,CAA7B;AAAsC;;AAEjL,SAASE,eAAT,CAAyBC,CAAzB,EAA4B;EAAED,eAAe,GAAGxD,MAAM,CAAC0D,cAAP,GAAwB1D,MAAM,CAAC2D,cAA/B,GAAgD,SAASH,eAAT,CAAyBC,CAAzB,EAA4B;IAAE,OAAOA,CAAC,CAACG,SAAF,IAAe5D,MAAM,CAAC2D,cAAP,CAAsBF,CAAtB,CAAtB;EAAiD,CAAjJ;EAAmJ,OAAOD,eAAe,CAACC,CAAD,CAAtB;AAA4B;;AAE7M,SAASF,sBAAT,CAAgCD,IAAhC,EAAsC;EAAE,IAAIA,IAAI,KAAK,KAAK,CAAlB,EAAqB;IAAE,MAAM,IAAIO,cAAJ,CAAmB,2DAAnB,CAAN;EAAwF;;EAAC,OAAOP,IAAP;AAAc;;AAEtK,SAASQ,SAAT,CAAmBC,QAAnB,EAA6BC,UAA7B,EAAyC;EAAE,IAAI,OAAOA,UAAP,KAAsB,UAAtB,IAAoCA,UAAU,KAAK,IAAvD,EAA6D;IAAE,MAAM,IAAI7C,SAAJ,CAAc,oDAAd,CAAN;EAA4E;;EAAC4C,QAAQ,CAACvE,SAAT,GAAqBQ,MAAM,CAACiE,MAAP,CAAcD,UAAU,IAAIA,UAAU,CAACxE,SAAvC,EAAkD;IAAED,WAAW,EAAE;MAAEkD,KAAK,EAAEsB,QAAT;MAAmBpB,QAAQ,EAAE,IAA7B;MAAmCD,YAAY,EAAE;IAAjD;EAAf,CAAlD,CAArB;EAAkJ,IAAIsB,UAAJ,EAAgBE,eAAe,CAACH,QAAD,EAAWC,UAAX,CAAf;AAAwC;;AAEjY,SAASE,eAAT,CAAyBT,CAAzB,EAA4BU,CAA5B,EAA+B;EAAED,eAAe,GAAGlE,MAAM,CAAC0D,cAAP,IAAyB,SAASQ,eAAT,CAAyBT,CAAzB,EAA4BU,CAA5B,EAA+B;IAAEV,CAAC,CAACG,SAAF,GAAcO,CAAd;IAAiB,OAAOV,CAAP;EAAW,CAAxG;;EAA0G,OAAOS,eAAe,CAACT,CAAD,EAAIU,CAAJ,CAAtB;AAA+B;;AAE1K,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,YAA3B,EAAyCC,cAAzC,EAAyDC,aAAzD,QAA8E,OAA9E;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,OAAP,MAAoB,sBAApB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,OAAP,MAAoB,sBAApB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,OAAOC,GAAP,MAAgB,cAAhB;AACA,OAAOC,SAAP,MAAsB,oBAAtB;AACA,SAASC,aAAT,EAAwBC,eAAxB,EAAyCC,cAAzC,EAAyDC,eAAzD,EAA0EC,yBAA1E,EAAqGC,mBAArG,EAA0HC,eAA1H,EAA2IC,aAA3I,EAA0JC,mBAA1J,EAA+KC,qBAA/K,QAA4M,oBAA5M;AACA,OAAOC,aAAP,MAA0B,4BAA1B;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,SAASC,SAAT,EAAoBC,wBAApB,QAAoD,kBAApD;AACA,SAASC,qBAAT,EAAgCC,YAAhC,EAA8CC,QAA9C,EAAwDC,QAAxD,EAAkEC,gBAAlE,QAA0F,mBAA1F;AACA,SAASC,wBAAT,EAAmCC,yBAAnC,EAA8DC,cAA9D,EAA8EC,cAA9E,EAA8FC,oBAA9F,EAAoHC,cAApH,EAAoIC,oBAApI,EAA0JC,cAA1J,EAA0KC,oBAA1K,EAAgMC,oBAAhM,EAAsNC,oBAAtN,EAA4OC,iBAA5O,EAA+PC,sBAA/P,EAAuRC,iBAAvR,EAA0SC,gBAA1S,EAA4TC,4BAA5T,EAA0VC,sBAA1V,EAAkXC,oBAAlX,EAAwYC,oBAAxY,EAA8ZC,yBAA9Z,QAA+b,oBAA/b;AACA,SAASC,6BAAT,QAA8C,uCAA9C;AACA,SAASC,eAAT,EAA0BC,gBAA1B,QAAkD,oBAAlD;AACA,SAASC,YAAT,QAA6B,sBAA7B;AACA,SAASC,WAAT,EAAsBC,UAAtB,QAAwC,gBAAxC;AACA,IAAIC,UAAU,GAAG;EACfC,KAAK,EAAE,CAAC,QAAD,EAAW,KAAX,CADQ;EAEfC,KAAK,EAAE,CAAC,MAAD,EAAS,OAAT;AAFQ,CAAjB;AAIA,IAAIC,gBAAgB,GAAG;EACrBC,CAAC,EAAE,CADkB;EAErBC,CAAC,EAAE;AAFkB,CAAvB;;AAKA,IAAIC,wBAAwB,GAAG,SAASA,wBAAT,CAAkCC,IAAlC,EAAwC;EACrE,IAAIC,SAAS,GAAGD,IAAI,CAACC,SAArB;EAAA,IACIC,cAAc,GAAGF,IAAI,CAACE,cAD1B;EAAA,IAEIC,cAAc,GAAGH,IAAI,CAACI,SAF1B;EAAA,IAGIA,SAAS,GAAGD,cAAc,KAAK,KAAK,CAAxB,GAA4B,MAA5B,GAAqCA,cAHrD;EAAA,IAIIE,cAAc,GAAGL,IAAI,CAACK,cAJ1B;EAAA,IAKIC,aAAa,GAAGN,IAAI,CAACM,aALzB;EAAA,IAMIC,aAAa,GAAGP,IAAI,CAACO,aANzB;EAAA,IAOIC,YAAY,GAAGR,IAAI,CAACQ,YAPxB;EAAA,IAQIC,SAAS,GAAGT,IAAI,CAACS,SARrB;;EAUA,IAAIC,uBAAuB,GAC3B,aACA,UAAUC,UAAV,EAAsB;IACpBrF,SAAS,CAACoF,uBAAD,EAA0BC,UAA1B,CAAT;IAEA;AACJ;AACA;AACA;AACA;;;IACI,SAASD,uBAAT,CAAiCE,MAAjC,EAAyC;MACvC,IAAIC,KAAJ;;MAEAzG,eAAe,CAAC,IAAD,EAAOsG,uBAAP,CAAf;;MAEAG,KAAK,GAAGhG,0BAA0B,CAAC,IAAD,EAAOG,eAAe,CAAC0F,uBAAD,CAAf,CAAyC5I,IAAzC,CAA8C,IAA9C,EAAoD8I,MAApD,CAAP,CAAlC;;MAEAC,KAAK,CAACC,sBAAN,GAA+B,UAAUC,GAAV,EAAe;QAC5C,IAAIA,GAAG,IAAIF,KAAK,CAACG,cAAjB,EAAiC;UAC/B,IAAIC,WAAW,GAAGJ,KAAK,CAACK,KAAxB;UAAA,IACIC,cAAc,GAAGF,WAAW,CAACE,cADjC;UAAA,IAEIC,YAAY,GAAGH,WAAW,CAACG,YAF/B;UAAA,IAGIC,QAAQ,GAAGJ,WAAW,CAACI,QAH3B;;UAKAR,KAAK,CAACS,QAAN,CAAeT,KAAK,CAACU,yCAAN,CAAgD;YAC7D/G,KAAK,EAAEqG,KAAK,CAACrG,KADgD;YAE7D2G,cAAc,EAAEA,cAF6C;YAG7DC,YAAY,EAAEA,YAH+C;YAI7DC,QAAQ,EAAEA;UAJmD,CAAhD,CAAf;QAMD;MACF,CAdD;;MAgBAR,KAAK,CAACW,sBAAN,GAA+B,UAAUC,GAAV,EAAeC,OAAf,EAAwBC,IAAxB,EAA8B;QAC3D,IAAIC,WAAW,GAAGf,KAAK,CAACrG,KAAxB;QAAA,IACIqH,MAAM,GAAGD,WAAW,CAACC,MADzB;QAAA,IAEIC,MAAM,GAAGF,WAAW,CAACE,MAFzB;QAGA,IAAIT,QAAQ,GAAGR,KAAK,CAACK,KAAN,CAAYG,QAA3B;;QAEA,IAAIQ,MAAM,KAAKJ,GAAX,IAAkBC,OAAO,KAAKb,KAAK,CAACkB,aAAxC,EAAuD;UACrD,IAAIZ,cAAc,GAAGQ,IAAI,CAACR,cAA1B;UAAA,IACIC,YAAY,GAAGO,IAAI,CAACP,YADxB;;UAGA,IAAI,CAAC1K,MAAM,CAACiL,IAAI,CAACR,cAAN,CAAP,IAAgC,CAACzK,MAAM,CAACiL,IAAI,CAACP,YAAN,CAA3C,EAAgE;YAC9DP,KAAK,CAACS,QAAN,CAAe3H,aAAa,CAAC;cAC3BwH,cAAc,EAAEA,cADW;cAE3BC,YAAY,EAAEA;YAFa,CAAD,EAGzBP,KAAK,CAACU,yCAAN,CAAgD;cACjD/G,KAAK,EAAEqG,KAAK,CAACrG,KADoC;cAEjD2G,cAAc,EAAEA,cAFiC;cAGjDC,YAAY,EAAEA,YAHmC;cAIjDC,QAAQ,EAAEA;YAJuC,CAAhD,CAHyB,CAA5B;UASD,CAVD,MAUO,IAAI,CAAC3K,MAAM,CAACiL,IAAI,CAACK,kBAAN,CAAX,EAAsC;YAC3C,IAAIC,MAAM,GAAGN,IAAI,CAACM,MAAlB;YAAA,IACIC,MAAM,GAAGP,IAAI,CAACO,MADlB;YAAA,IAEIF,kBAAkB,GAAGL,IAAI,CAACK,kBAF9B;YAGA,IAAIG,YAAY,GAAGtB,KAAK,CAACK,KAAzB;YAAA,IACIkB,MAAM,GAAGD,YAAY,CAACC,MAD1B;YAAA,IAEIC,YAAY,GAAGF,YAAY,CAACE,YAFhC;;YAIA,IAAI,CAACD,MAAL,EAAa;cACX;YACD;;YAED,IAAIE,OAAO,GAAG3I,aAAa,CAAC,EAAD,EAAKyI,MAAL,EAAa;cACtCvC,CAAC,EAAEuC,MAAM,CAACG,IAD4B;cAEtCzC,CAAC,EAAEsC,MAAM,CAACI;YAF4B,CAAb,CAA3B,CAZ2C,CAevC;YACJ;;;YAGA,IAAIC,cAAc,GAAGC,IAAI,CAACC,GAAL,CAASV,MAAT,EAAiBK,OAAO,CAACzC,CAAR,GAAYyC,OAAO,CAACM,KAArC,CAArB;YACA,IAAIC,cAAc,GAAGH,IAAI,CAACC,GAAL,CAAST,MAAT,EAAiBI,OAAO,CAACxC,CAAR,GAAYwC,OAAO,CAACQ,MAArC,CAArB;YACA,IAAIC,WAAW,GAAGV,YAAY,CAACL,kBAAD,CAAZ,IAAoCK,YAAY,CAACL,kBAAD,CAAZ,CAAiC/H,KAAvF;;YAEA,IAAI+I,aAAa,GAAGnC,KAAK,CAACoC,iBAAN,CAAwBjB,kBAAxB,CAApB;;YAEA,IAAIkB,gBAAgB,GAAGb,YAAY,CAACL,kBAAD,CAAZ,GAAmC;cACxDnC,CAAC,EAAEiC,MAAM,KAAK,YAAX,GAA0BO,YAAY,CAACL,kBAAD,CAAZ,CAAiCmB,UAA3D,GAAwEV,cADnB;cAExD3C,CAAC,EAAEgC,MAAM,KAAK,YAAX,GAA0Be,cAA1B,GAA2CR,YAAY,CAACL,kBAAD,CAAZ,CAAiCmB;YAFvB,CAAnC,GAGnBvD,gBAHJ;;YAKAiB,KAAK,CAACS,QAAN,CAAe3H,aAAa,CAAC,EAAD,EAAKgI,IAAL,EAAW;cACrCoB,WAAW,EAAEA,WADwB;cAErCG,gBAAgB,EAAEA,gBAFmB;cAGrCF,aAAa,EAAEA;YAHsB,CAAX,CAA5B;UAKD,CAnCM,MAmCA;YACLnC,KAAK,CAACS,QAAN,CAAeK,IAAf;UACD;QACF;MACF,CA3DD;;MA6DAd,KAAK,CAACuC,iBAAN,GAA0B,UAAUC,KAAV,EAAiB;QACzC,IAAIC,UAAU,GAAGD,KAAK,CAACC,UAAvB;QAAA,IACIC,QAAQ,GAAGF,KAAK,CAACE,QADrB,CADyC,CAIzC;;QACA,IAAID,UAAU,KAAKzC,KAAK,CAACK,KAAN,CAAYC,cAA3B,IAA6CoC,QAAQ,KAAK1C,KAAK,CAACK,KAAN,CAAYE,YAA1E,EAAwF;UACtF,IAAIC,QAAQ,GAAGR,KAAK,CAACK,KAAN,CAAYG,QAA3B;;UAEAR,KAAK,CAACS,QAAN,CAAe,YAAY;YACzB,OAAO3H,aAAa,CAAC;cACnBwH,cAAc,EAAEmC,UADG;cAEnBlC,YAAY,EAAEmC;YAFK,CAAD,EAGjB1C,KAAK,CAACU,yCAAN,CAAgD;cACjD/G,KAAK,EAAEqG,KAAK,CAACrG,KADoC;cAEjD2G,cAAc,EAAEmC,UAFiC;cAGjDlC,YAAY,EAAEmC,QAHmC;cAIjDlC,QAAQ,EAAEA;YAJuC,CAAhD,CAHiB,CAApB;UASD,CAVD;;UAYAR,KAAK,CAAC2C,gBAAN,CAAuB;YACrBrC,cAAc,EAAEmC,UADK;YAErBlC,YAAY,EAAEmC;UAFO,CAAvB;QAID;MACF,CAzBD;;MA2BA1C,KAAK,CAAC4C,gBAAN,GAAyB,UAAUC,CAAV,EAAa;QACpC,IAAIC,YAAY,GAAG9C,KAAK,CAACrG,KAAN,CAAYmJ,YAA/B;;QAEA,IAAIC,KAAK,GAAG/C,KAAK,CAACgD,YAAN,CAAmBH,CAAnB,CAAZ;;QAEA,IAAIE,KAAJ,EAAW;UACT,IAAIE,SAAS,GAAGnK,aAAa,CAAC,EAAD,EAAKiK,KAAL,EAAY;YACvCG,eAAe,EAAE;UADsB,CAAZ,CAA7B;;UAIAlD,KAAK,CAACS,QAAN,CAAewC,SAAf;;UAEAjD,KAAK,CAAC2C,gBAAN,CAAuBM,SAAvB;;UAEA,IAAIvN,WAAW,CAACoN,YAAD,CAAf,EAA+B;YAC7BA,YAAY,CAACG,SAAD,EAAYJ,CAAZ,CAAZ;UACD;QACF;MACF,CAlBD;;MAoBA7C,KAAK,CAACmD,uBAAN,GAAgC,UAAUN,CAAV,EAAa;QAC3C,IAAIO,WAAW,GAAGpD,KAAK,CAACrG,KAAN,CAAYyJ,WAA9B;;QAEA,IAAIL,KAAK,GAAG/C,KAAK,CAACgD,YAAN,CAAmBH,CAAnB,CAAZ;;QAEA,IAAII,SAAS,GAAGF,KAAK,GAAGjK,aAAa,CAAC,EAAD,EAAKiK,KAAL,EAAY;UAC/CG,eAAe,EAAE;QAD8B,CAAZ,CAAhB,GAEhB;UACHA,eAAe,EAAE;QADd,CAFL;;QAMAlD,KAAK,CAACS,QAAN,CAAewC,SAAf;;QAEAjD,KAAK,CAAC2C,gBAAN,CAAuBM,SAAvB;;QAEA,IAAIvN,WAAW,CAAC0N,WAAD,CAAf,EAA8B;UAC5BA,WAAW,CAACH,SAAD,EAAYJ,CAAZ,CAAX;QACD;MACF,CAlBD;;MAoBA7C,KAAK,CAACqD,oBAAN,GAA6B,UAAUC,EAAV,EAAc;QACzCtD,KAAK,CAACS,QAAN,CAAe,YAAY;UACzB,OAAO;YACLyC,eAAe,EAAE,IADZ;YAELK,UAAU,EAAED,EAFP;YAGLnB,aAAa,EAAEmB,EAAE,CAACE,cAHb;YAILnB,gBAAgB,EAAEiB,EAAE,CAACG,eAAH,IAAsB;cACtCzE,CAAC,EAAEsE,EAAE,CAACI,EADgC;cAEtCzE,CAAC,EAAEqE,EAAE,CAACK;YAFgC;UAJnC,CAAP;QASD,CAVD;MAWD,CAZD;;MAcA3D,KAAK,CAAC4D,oBAAN,GAA6B,YAAY;QACvC5D,KAAK,CAACS,QAAN,CAAe,YAAY;UACzB,OAAO;YACLyC,eAAe,EAAE;UADZ,CAAP;QAGD,CAJD;MAKD,CAND;;MAQAlD,KAAK,CAAC6D,eAAN,GAAwB,UAAUhB,CAAV,EAAa;QACnC,IAAIA,CAAC,IAAInN,WAAW,CAACmN,CAAC,CAACiB,OAAH,CAApB,EAAiC;UAC/BjB,CAAC,CAACiB,OAAF;QACD;;QAED9D,KAAK,CAACmD,uBAAN,CAA8BN,CAA9B;MACD,CAND;;MAQA7C,KAAK,CAAC+D,gBAAN,GAAyB,UAAUlB,CAAV,EAAa;QACpC,IAAImB,YAAY,GAAGhE,KAAK,CAACrG,KAAN,CAAYqK,YAA/B;QACA,IAAIf,SAAS,GAAG;UACdC,eAAe,EAAE;QADH,CAAhB;;QAIAlD,KAAK,CAACS,QAAN,CAAewC,SAAf;;QAEAjD,KAAK,CAAC2C,gBAAN,CAAuBM,SAAvB;;QAEA,IAAIvN,WAAW,CAACsO,YAAD,CAAf,EAA+B;UAC7BA,YAAY,CAACf,SAAD,EAAYJ,CAAZ,CAAZ;QACD;MACF,CAbD;;MAeA7C,KAAK,CAACiE,gBAAN,GAAyB,UAAUpB,CAAV,EAAa;QACpC,IAAIqB,SAAS,GAAG3H,mBAAmB,CAACsG,CAAD,CAAnC;;QAEA,IAAIqB,SAAS,IAAIxO,WAAW,CAACsK,KAAK,CAACrG,KAAN,CAAYuK,SAAZ,CAAD,CAA5B,EAAsD;UACpD,IAAInB,KAAK,GAAG/C,KAAK,CAACgD,YAAN,CAAmBH,CAAnB,CAAZ;;UAEA,IAAIsB,OAAO,GAAGnE,KAAK,CAACrG,KAAN,CAAYuK,SAAZ,CAAd;UACAC,OAAO,CAACpB,KAAD,EAAQF,CAAR,CAAP;QACD;MACF,CATD;;MAWA7C,KAAK,CAACoE,WAAN,GAAoB,UAAUvB,CAAV,EAAa;QAC/B,IAAIwB,OAAO,GAAGrE,KAAK,CAACrG,KAAN,CAAY0K,OAA1B;;QAEA,IAAI3O,WAAW,CAAC2O,OAAD,CAAf,EAA0B;UACxB,IAAItB,KAAK,GAAG/C,KAAK,CAACgD,YAAN,CAAmBH,CAAnB,CAAZ;;UAEAwB,OAAO,CAACtB,KAAD,EAAQF,CAAR,CAAP;QACD;MACF,CARD;;MAUA7C,KAAK,CAACsE,eAAN,GAAwB,UAAUzB,CAAV,EAAa;QACnC,IAAI0B,WAAW,GAAGvE,KAAK,CAACrG,KAAN,CAAY4K,WAA9B;;QAEA,IAAI7O,WAAW,CAAC6O,WAAD,CAAf,EAA8B;UAC5B,IAAIxB,KAAK,GAAG/C,KAAK,CAACgD,YAAN,CAAmBH,CAAnB,CAAZ;;UAEA0B,WAAW,CAACxB,KAAD,EAAQF,CAAR,CAAX;QACD;MACF,CARD;;MAUA7C,KAAK,CAACwE,aAAN,GAAsB,UAAU3B,CAAV,EAAa;QACjC,IAAI4B,SAAS,GAAGzE,KAAK,CAACrG,KAAN,CAAY8K,SAA5B;;QAEA,IAAI/O,WAAW,CAAC+O,SAAD,CAAf,EAA4B;UAC1B,IAAI1B,KAAK,GAAG/C,KAAK,CAACgD,YAAN,CAAmBH,CAAnB,CAAZ;;UAEA4B,SAAS,CAAC1B,KAAD,EAAQF,CAAR,CAAT;QACD;MACF,CARD;;MAUA7C,KAAK,CAAC0E,eAAN,GAAwB,UAAU7B,CAAV,EAAa;QACnC,IAAIA,CAAC,CAAC8B,cAAF,IAAoB,IAApB,IAA4B9B,CAAC,CAAC8B,cAAF,CAAiB7N,MAAjB,GAA0B,CAA1D,EAA6D;UAC3DkJ,KAAK,CAAC6D,eAAN,CAAsBhB,CAAC,CAAC8B,cAAF,CAAiB,CAAjB,CAAtB;QACD;MACF,CAJD;;MAMA3E,KAAK,CAAC4E,gBAAN,GAAyB,UAAU/B,CAAV,EAAa;QACpC,IAAIA,CAAC,CAAC8B,cAAF,IAAoB,IAApB,IAA4B9B,CAAC,CAAC8B,cAAF,CAAiB7N,MAAjB,GAA0B,CAA1D,EAA6D;UAC3DkJ,KAAK,CAACsE,eAAN,CAAsBzB,CAAC,CAAC8B,cAAF,CAAiB,CAAjB,CAAtB;QACD;MACF,CAJD;;MAMA3E,KAAK,CAAC6E,cAAN,GAAuB,UAAUhC,CAAV,EAAa;QAClC,IAAIA,CAAC,CAAC8B,cAAF,IAAoB,IAApB,IAA4B9B,CAAC,CAAC8B,cAAF,CAAiB7N,MAAjB,GAA0B,CAA1D,EAA6D;UAC3DkJ,KAAK,CAACwE,aAAN,CAAoB3B,CAAC,CAAC8B,cAAF,CAAiB,CAAjB,CAApB;QACD;MACF,CAJD;;MAMA3E,KAAK,CAAC8E,4BAAN,GAAqC,UAAUC,KAAV,EAAiB;QACpD,IAAIlG,KAAK,GAAGkG,KAAK,CAAClG,KAAlB;QAAA,IACIkD,KAAK,GAAGgD,KAAK,CAAChD,KADlB;QAAA,IAEIE,MAAM,GAAG8C,KAAK,CAAC9C,MAFnB;QAAA,IAGIV,MAAM,GAAGwD,KAAK,CAACxD,MAHnB;QAIA,OAAO7D,oBAAoB,CAACjB,aAAa,CAACuI,QAAd,CAAuBlM,aAAa,CAAC,EAAD,EAAK2D,aAAa,CAACkD,YAAnB,EAAiC,EAAjC,EAAqCd,KAArC,EAA4C;UAC1GoG,KAAK,EAAExH,cAAc,CAACoB,KAAD,EAAQ,IAAR,CADqF;UAE1G4C,OAAO,EAAE;YACPzC,CAAC,EAAE,CADI;YAEPC,CAAC,EAAE,CAFI;YAGP8C,KAAK,EAAEA,KAHA;YAIPE,MAAM,EAAEA;UAJD;QAFiG,CAA5C,CAApC,CAAD,EAQtBV,MAAM,CAACG,IARe,EAQTH,MAAM,CAACG,IAAP,GAAcH,MAAM,CAACQ,KARZ,CAA3B;MASD,CAdD;;MAgBA/B,KAAK,CAACkF,8BAAN,GAAuC,UAAUC,KAAV,EAAiB;QACtD,IAAIrG,KAAK,GAAGqG,KAAK,CAACrG,KAAlB;QAAA,IACIiD,KAAK,GAAGoD,KAAK,CAACpD,KADlB;QAAA,IAEIE,MAAM,GAAGkD,KAAK,CAAClD,MAFnB;QAAA,IAGIV,MAAM,GAAG4D,KAAK,CAAC5D,MAHnB;QAIA,OAAO7D,oBAAoB,CAACjB,aAAa,CAACuI,QAAd,CAAuBlM,aAAa,CAAC,EAAD,EAAK2D,aAAa,CAACkD,YAAnB,EAAiC,EAAjC,EAAqCb,KAArC,EAA4C;UAC1GmG,KAAK,EAAExH,cAAc,CAACqB,KAAD,EAAQ,IAAR,CADqF;UAE1G2C,OAAO,EAAE;YACPzC,CAAC,EAAE,CADI;YAEPC,CAAC,EAAE,CAFI;YAGP8C,KAAK,EAAEA,KAHA;YAIPE,MAAM,EAAEA;UAJD;QAFiG,CAA5C,CAApC,CAAD,EAQtBV,MAAM,CAACI,GARe,EAQVJ,MAAM,CAACI,GAAP,GAAaJ,MAAM,CAACU,MARV,CAA3B;MASD,CAdD;;MAgBAjC,KAAK,CAACoF,kBAAN,GAA2B,UAAUC,IAAV,EAAgB;QACzC,OAAO5H,cAAc,CAAC4H,IAAD,EAAO,IAAP,CAArB;MACD,CAFD;;MAIArF,KAAK,CAACsF,qBAAN,GAA8B,UAAUC,OAAV,EAAmB;QAC/C,IAAIF,IAAI,GAAGxI,qBAAqB,CAAC0I,OAAD,CAAhC;QACA,IAAI/D,YAAY,GAAG/D,cAAc,CAAC4H,IAAD,EAAO,KAAP,EAAc,IAAd,CAAjC;QACA,OAAO;UACL7D,YAAY,EAAEA,YADT;UAELgE,mBAAmB,EAAE/P,OAAO,CAAC+L,YAAD,EAAe,UAAUpH,CAAV,EAAa;YACtD,OAAOA,CAAC,CAACkI,UAAT;UACD,CAF2B,CAFvB;UAKLmD,WAAW,EAAEJ,IALR;UAMLK,mBAAmB,EAAE7H,iBAAiB,CAACwH,IAAD;QANjC,CAAP;MAQD,CAXD;;MAaArF,KAAK,CAAC2F,YAAN,GAAqB,UAAUC,OAAV,EAAmB;QACtC,IAAIC,YAAY,GAAG7F,KAAK,CAACK,KAAzB;QAAA,IACI6C,eAAe,GAAG2C,YAAY,CAAC3C,eADnC;QAAA,IAEIb,gBAAgB,GAAGwD,YAAY,CAACxD,gBAFpC;QAAA,IAGIF,aAAa,GAAG0D,YAAY,CAAC1D,aAHjC;QAAA,IAIIZ,MAAM,GAAGsE,YAAY,CAACtE,MAJ1B;;QAMA,IAAI,CAACqE,OAAD,IAAY,CAACA,OAAO,CAACjM,KAAR,CAAcmM,MAA3B,IAAqC,CAAC5C,eAAtC,IAAyD,CAACb,gBAA9D,EAAgF;UAC9E,OAAO,IAAP;QACD;;QAED,IAAIpB,MAAM,GAAGjB,KAAK,CAACrG,KAAN,CAAYsH,MAAzB;QACA,IAAI8E,SAAJ;QACA,IAAIC,UAAU,GAAGtK,KAAjB;;QAEA,IAAI0D,SAAS,KAAK,cAAlB,EAAkC;UAChC2G,SAAS,GAAG1D,gBAAZ;UACA2D,UAAU,GAAGrK,KAAb;QACD,CAHD,MAGO,IAAIyD,SAAS,KAAK,UAAlB,EAA8B;UACnC2G,SAAS,GAAG/F,KAAK,CAACiG,kBAAN,EAAZ;UACAD,UAAU,GAAGlK,SAAb;QACD,CAHM,MAGA,IAAImF,MAAM,KAAK,QAAf,EAAyB;UAC9B,IAAIiF,qBAAqB,GAAGlG,KAAK,CAACmG,eAAN,EAA5B;UAAA,IACIzC,EAAE,GAAGwC,qBAAqB,CAACxC,EAD/B;UAAA,IAEIC,EAAE,GAAGuC,qBAAqB,CAACvC,EAF/B;UAAA,IAGIyC,MAAM,GAAGF,qBAAqB,CAACE,MAHnC;UAAA,IAIIC,UAAU,GAAGH,qBAAqB,CAACG,UAJvC;UAAA,IAKIC,QAAQ,GAAGJ,qBAAqB,CAACI,QALrC;;UAOAP,SAAS,GAAG;YACVrC,EAAE,EAAEA,EADM;YAEVC,EAAE,EAAEA,EAFM;YAGV0C,UAAU,EAAEA,UAHF;YAIVC,QAAQ,EAAEA,QAJA;YAKVC,WAAW,EAAEH,MALH;YAMVI,WAAW,EAAEJ;UANH,CAAZ;UAQAJ,UAAU,GAAGpK,MAAb;QACD,CAjBM,MAiBA;UACLmK,SAAS,GAAG;YACVU,MAAM,EAAEzG,KAAK,CAACmG,eAAN;UADE,CAAZ;UAGAH,UAAU,GAAGtK,KAAb;QACD;;QAED,IAAIjF,GAAG,GAAGmP,OAAO,CAACnP,GAAR,IAAe,kBAAzB;;QAEA,IAAIiQ,WAAW,GAAG5N,aAAa,CAAC;UAC9B6N,MAAM,EAAE,MADsB;UAE9BC,aAAa,EAAE;QAFe,CAAD,EAG5BrF,MAH4B,EAGpB,EAHoB,EAGhBwE,SAHgB,EAGL,EAHK,EAGD5J,yBAAyB,CAACyJ,OAAO,CAACjM,KAAR,CAAcmM,MAAf,CAHxB,EAGgD;UAC7Ee,OAAO,EAAE1E,aADoE;UAE7E1L,GAAG,EAAEA,GAFwE;UAG7EqQ,SAAS,EAAE;QAHkE,CAHhD,CAA/B;;QASA,OAAO5L,cAAc,CAAC0K,OAAO,CAACjM,KAAR,CAAcmM,MAAf,CAAd,GAAuC7K,YAAY,CAAC2K,OAAO,CAACjM,KAAR,CAAcmM,MAAf,EAAuBY,WAAvB,CAAnD,GAAyFvL,aAAa,CAAC6K,UAAD,EAAaU,WAAb,CAA7G;MACD,CAzDD;;MA2DA1G,KAAK,CAAC+G,eAAN,GAAwB,UAAUnB,OAAV,EAAmBoB,WAAnB,EAAgCC,KAAhC,EAAuC;QAC7D,IAAIC,QAAQ,GAAGtB,OAAO,CAACuB,IAAR,CAAaD,QAA5B;;QAEA,IAAI3B,OAAO,GAAGvF,KAAK,CAACK,KAAN,CAAY,GAAG+G,MAAH,CAAUF,QAAV,EAAoB,KAApB,CAAZ,CAAd;;QAEA,IAAIG,UAAU,GAAG9B,OAAO,CAACK,OAAO,CAACjM,KAAR,CAAc,GAAGyN,MAAH,CAAUF,QAAV,EAAoB,IAApB,CAAd,CAAD,CAAxB;QACA,OAAOjM,YAAY,CAAC2K,OAAD,EAAU9M,aAAa,CAAC,EAAD,EAAKuO,UAAL,EAAiB;UACzDP,SAAS,EAAEI,QAD8C;UAEzDzQ,GAAG,EAAEmP,OAAO,CAACnP,GAAR,IAAe,GAAG2Q,MAAH,CAAUJ,WAAV,EAAuB,GAAvB,EAA4BI,MAA5B,CAAmCH,KAAnC,CAFqC;UAGzDhC,KAAK,EAAExH,cAAc,CAAC4J,UAAD,EAAa,IAAb;QAHoC,CAAjB,CAAvB,CAAnB;MAKD,CAXD;;MAaArH,KAAK,CAACsH,WAAN,GAAoB,UAAU1B,OAAV,EAAmBoB,WAAnB,EAAgCC,KAAhC,EAAuC;QACzD,IAAIM,QAAQ,GAAGvH,KAAK,CAACK,KAAN,CAAYkH,QAA3B;QACA,IAAIC,OAAO,GAAGD,QAAQ,CAAC3B,OAAO,CAACjM,KAAR,CAAc8N,OAAf,CAAtB;QACA,OAAOzH,KAAK,CAAC0H,UAAN,CAAiBF,OAAjB,EAA0B5B,OAA1B,EAAmCoB,WAAnC,EAAgDC,KAAhD,CAAP;MACD,CAJD;;MAMAjH,KAAK,CAAC2H,WAAN,GAAoB,UAAU/B,OAAV,EAAmBoB,WAAnB,EAAgCC,KAAhC,EAAuC;QACzD,IAAIW,QAAQ,GAAG5H,KAAK,CAACK,KAAN,CAAYuH,QAA3B;QACA,IAAIJ,OAAO,GAAGI,QAAQ,CAAChC,OAAO,CAACjM,KAAR,CAAckO,OAAf,CAAtB;QACA,OAAO7H,KAAK,CAAC0H,UAAN,CAAiBF,OAAjB,EAA0B5B,OAA1B,EAAmCoB,WAAnC,EAAgDC,KAAhD,CAAP;MACD,CAJD;;MAMAjH,KAAK,CAAC8H,UAAN,GAAmB,UAAUlC,OAAV,EAAmB;QACpC,IAAImC,YAAY,GAAG/H,KAAK,CAACK,KAAzB;QAAA,IACIkH,QAAQ,GAAGQ,YAAY,CAACR,QAD5B;QAAA,IAEIK,QAAQ,GAAGG,YAAY,CAACH,QAF5B;QAAA,IAGIrG,MAAM,GAAGwG,YAAY,CAACxG,MAH1B;QAIA,IAAIyG,YAAY,GAAGhI,KAAK,CAACrG,KAAzB;QAAA,IACIoI,KAAK,GAAGiG,YAAY,CAACjG,KADzB;QAAA,IAEIE,MAAM,GAAG+F,YAAY,CAAC/F,MAF1B;QAGA,IAAIpD,KAAK,GAAGhC,qBAAqB,CAAC0K,QAAD,CAAjC;;QAEA,IAAIU,qBAAqB,GAAGzS,KAAK,CAACoS,QAAD,EAAW,UAAUvC,IAAV,EAAgB;UAC1D,OAAO9P,MAAM,CAAC8P,IAAI,CAAC6C,MAAN,EAAcC,MAAM,CAACC,QAArB,CAAb;QACD,CAFgC,CAAjC;;QAIA,IAAItJ,KAAK,GAAGmJ,qBAAqB,IAAIpL,qBAAqB,CAAC+K,QAAD,CAA1D;QACA,IAAIjO,KAAK,GAAGiM,OAAO,CAACjM,KAAR,IAAiB,EAA7B;QACA,OAAOsB,YAAY,CAAC2K,OAAD,EAAU;UAC3BnP,GAAG,EAAEmP,OAAO,CAACnP,GAAR,IAAe,MADO;UAE3BuI,CAAC,EAAEhC,QAAQ,CAACrD,KAAK,CAACqF,CAAP,CAAR,GAAoBrF,KAAK,CAACqF,CAA1B,GAA8BuC,MAAM,CAACG,IAFb;UAG3BzC,CAAC,EAAEjC,QAAQ,CAACrD,KAAK,CAACsF,CAAP,CAAR,GAAoBtF,KAAK,CAACsF,CAA1B,GAA8BsC,MAAM,CAACI,GAHb;UAI3BI,KAAK,EAAE/E,QAAQ,CAACrD,KAAK,CAACoI,KAAP,CAAR,GAAwBpI,KAAK,CAACoI,KAA9B,GAAsCR,MAAM,CAACQ,KAJzB;UAK3BE,MAAM,EAAEjF,QAAQ,CAACrD,KAAK,CAACsI,MAAP,CAAR,GAAyBtI,KAAK,CAACsI,MAA/B,GAAwCV,MAAM,CAACU,MAL5B;UAM3BpD,KAAK,EAAEA,KANoB;UAO3BC,KAAK,EAAEA,KAPoB;UAQ3ByC,MAAM,EAAEA,MARmB;UAS3B8G,UAAU,EAAEtG,KATe;UAU3BuG,WAAW,EAAErG,MAVc;UAW3B6C,4BAA4B,EAAEnL,KAAK,CAACmL,4BAAN,IAAsC9E,KAAK,CAAC8E,4BAX/C;UAY3BI,8BAA8B,EAAEvL,KAAK,CAACuL,8BAAN,IAAwClF,KAAK,CAACkF;QAZnD,CAAV,CAAnB;MAcD,CA9BD;;MAgCAlF,KAAK,CAACuI,eAAN,GAAwB,UAAU3C,OAAV,EAAmB;QACzC,IAAI4C,YAAY,GAAGxI,KAAK,CAACK,KAAzB;QAAA,IACIoI,aAAa,GAAGD,YAAY,CAACC,aADjC;QAAA,IAEIC,YAAY,GAAGF,YAAY,CAACE,YAFhC;QAGA,IAAIC,UAAU,GAAG9L,qBAAqB,CAAC4L,aAAD,CAAtC;QACA,IAAIG,SAAS,GAAG/L,qBAAqB,CAAC6L,YAAD,CAArC;QACA,IAAIhF,EAAE,GAAGkF,SAAS,CAAClF,EAAnB;QAAA,IACIC,EAAE,GAAGiF,SAAS,CAACjF,EADnB;QAAA,IAEI4C,WAAW,GAAGqC,SAAS,CAACrC,WAF5B;QAAA,IAGIC,WAAW,GAAGoC,SAAS,CAACpC,WAH5B;QAIA,OAAOvL,YAAY,CAAC2K,OAAD,EAAU;UAC3BiD,WAAW,EAAEpL,cAAc,CAACmL,SAAD,EAAY,IAAZ,CAAd,CAAgCE,GAAhC,CAAoC,UAAUC,KAAV,EAAiB;YAChE,OAAOA,KAAK,CAACzG,UAAb;UACD,CAFY,CADc;UAI3B0G,WAAW,EAAEvL,cAAc,CAACkL,UAAD,EAAa,IAAb,CAAd,CAAiCG,GAAjC,CAAqC,UAAUC,KAAV,EAAiB;YACjE,OAAOA,KAAK,CAACzG,UAAb;UACD,CAFY,CAJc;UAO3BoB,EAAE,EAAEA,EAPuB;UAQ3BC,EAAE,EAAEA,EARuB;UAS3B4C,WAAW,EAAEA,WATc;UAU3BC,WAAW,EAAEA,WAVc;UAW3B/P,GAAG,EAAEmP,OAAO,CAACnP,GAAR,IAAe;QAXO,CAAV,CAAnB;MAaD,CAvBD;;MAyBAuJ,KAAK,CAACiJ,WAAN,GAAoB,UAAUrD,OAAV,EAAmB;QACrC,IAAIsD,YAAY,GAAGlJ,KAAK,CAACrG,KAAzB;QAAA,IACIwP,MAAM,GAAGD,YAAY,CAACC,MAD1B;QAAA,IAEIrI,IAAI,GAAGoI,YAAY,CAACpI,IAFxB;QAGA,IAAIsI,YAAY,GAAGpJ,KAAK,CAACK,KAAzB;QAAA,IACIkB,MAAM,GAAG6H,YAAY,CAAC7H,MAD1B;QAAA,IAEIjB,cAAc,GAAG8I,YAAY,CAAC9I,cAFlC;QAAA,IAGIC,YAAY,GAAG6I,YAAY,CAAC7I,YAHhC;QAAA,IAIIC,QAAQ,GAAG4I,YAAY,CAAC5I,QAJ5B,CAJqC,CAQC;;QAEtC,OAAOvF,YAAY,CAAC2K,OAAD,EAAU;UAC3BnP,GAAG,EAAEmP,OAAO,CAACnP,GAAR,IAAe,iBADO;UAE3B4S,QAAQ,EAAE7L,oBAAoB,CAACwC,KAAK,CAACuC,iBAAP,EAA0B,IAA1B,EAAgCqD,OAAO,CAACjM,KAAR,CAAc0P,QAA9C,CAFH;UAG3BvI,IAAI,EAAEA,IAHqB;UAI3B9B,CAAC,EAAEhC,QAAQ,CAAC4I,OAAO,CAACjM,KAAR,CAAcqF,CAAf,CAAR,GAA4B4G,OAAO,CAACjM,KAAR,CAAcqF,CAA1C,GAA8CuC,MAAM,CAACG,IAJ7B;UAK3BzC,CAAC,EAAEjC,QAAQ,CAAC4I,OAAO,CAACjM,KAAR,CAAcsF,CAAf,CAAR,GAA4B2G,OAAO,CAACjM,KAAR,CAAcsF,CAA1C,GAA8CsC,MAAM,CAACI,GAAP,GAAaJ,MAAM,CAACU,MAApB,GAA6BV,MAAM,CAAC+H,WAApC,IAAmDH,MAAM,CAACI,MAAP,IAAiB,CAApE,CALtB;UAM3BxH,KAAK,EAAE/E,QAAQ,CAAC4I,OAAO,CAACjM,KAAR,CAAcoI,KAAf,CAAR,GAAgC6D,OAAO,CAACjM,KAAR,CAAcoI,KAA9C,GAAsDR,MAAM,CAACQ,KANzC;UAO3BU,UAAU,EAAEnC,cAPe;UAQ3BoC,QAAQ,EAAEnC,YARiB;UAS3BC,QAAQ,EAAE,SAAS4G,MAAT,CAAgB5G,QAAhB;QATiB,CAAV,CAAnB;MAWD,CArBD;;MAuBAR,KAAK,CAACwJ,sBAAN,GAA+B,UAAU5D,OAAV,EAAmBoB,WAAnB,EAAgCC,KAAhC,EAAuC;QACpE,IAAI,CAACrB,OAAL,EAAc;UACZ,OAAO,IAAP;QACD;;QAED,IAAI6D,qBAAqB,GAAGvP,sBAAsB,CAAC8F,KAAD,CAAlD;QAAA,IACI0J,UAAU,GAAGD,qBAAqB,CAACC,UADvC;;QAGA,IAAIC,YAAY,GAAG3J,KAAK,CAACK,KAAzB;QAAA,IACIkH,QAAQ,GAAGoC,YAAY,CAACpC,QAD5B;QAAA,IAEIK,QAAQ,GAAG+B,YAAY,CAAC/B,QAF5B;QAAA,IAGIrG,MAAM,GAAGoI,YAAY,CAACpI,MAH1B;QAIA,IAAIqI,cAAc,GAAGhE,OAAO,CAACjM,KAA7B;QAAA,IACI8N,OAAO,GAAGmC,cAAc,CAACnC,OAD7B;QAAA,IAEII,OAAO,GAAG+B,cAAc,CAAC/B,OAF7B;QAGA,OAAO5M,YAAY,CAAC2K,OAAD,EAAU;UAC3BnP,GAAG,EAAEmP,OAAO,CAACnP,GAAR,IAAe,GAAG2Q,MAAH,CAAUJ,WAAV,EAAuB,GAAvB,EAA4BI,MAA5B,CAAmCH,KAAnC,CADO;UAE3BpI,KAAK,EAAE0I,QAAQ,CAACE,OAAD,CAFY;UAG3B3I,KAAK,EAAE8I,QAAQ,CAACC,OAAD,CAHY;UAI3BpG,OAAO,EAAE;YACPzC,CAAC,EAAEuC,MAAM,CAACG,IADH;YAEPzC,CAAC,EAAEsC,MAAM,CAACI,GAFH;YAGPI,KAAK,EAAER,MAAM,CAACQ,KAHP;YAIPE,MAAM,EAAEV,MAAM,CAACU;UAJR,CAJkB;UAU3ByH,UAAU,EAAEA;QAVe,CAAV,CAAnB;MAYD,CA3BD;;MA6BA1J,KAAK,CAAC6J,kBAAN,GAA2B,UAAUjE,OAAV,EAAmBoB,WAAnB,EAAgCC,KAAhC,EAAuC;QAChE,IAAI6C,IAAI,GAAG9J,KAAK,CAAC+J,gBAAN,CAAuBnE,OAAvB,EAAgCoB,WAAhC,EAA6CC,KAA7C,CAAX;;QAEA,IAAI,CAAC6C,IAAL,EAAW;UACT,OAAO,IAAP;QACD;;QAED,IAAIE,aAAa,GAAG/O,YAAY,CAAC2K,OAAD,EAAUkE,IAAI,CAACnQ,KAAf,CAAhC;QACA,IAAIsQ,YAAY,GAAGjK,KAAK,CAACK,KAAzB;QAAA,IACI6C,eAAe,GAAG+G,YAAY,CAAC/G,eADnC;QAAA,IAEIuC,WAAW,GAAGwE,YAAY,CAACxE,WAF/B;QAAA,IAGItE,kBAAkB,GAAG8I,YAAY,CAAC9I,kBAHtC;QAAA,IAIIe,WAAW,GAAG+H,YAAY,CAAC/H,WAJ/B;QAKA,IAAIgI,QAAQ,GAAGlK,KAAK,CAACrG,KAAN,CAAYuQ,QAA3B;QACA,IAAIC,WAAW,GAAGnO,eAAe,CAACkO,QAAD,EAAW1O,OAAX,CAAjC;QACA,IAAI4O,WAAW,GAAGN,IAAI,CAACnQ,KAAvB;QAAA,IACI8M,MAAM,GAAG2D,WAAW,CAAC3D,MADzB;QAAA,IAEI4D,OAAO,GAAGD,WAAW,CAACC,OAF1B;QAAA,IAGIC,QAAQ,GAAGF,WAAW,CAACE,QAH3B;QAIA,IAAIC,gBAAgB,GAAGT,IAAI,CAACA,IAAL,CAAUnQ,KAAjC;QAAA,IACI6Q,SAAS,GAAGD,gBAAgB,CAACC,SADjC;QAAA,IAEIC,IAAI,GAAGF,gBAAgB,CAACE,IAF5B;QAGA,IAAIC,SAAS,GAAG,CAACD,IAAD,IAASvH,eAAT,IAA4BiH,WAA5B,IAA2CK,SAA3C,IAAwDrJ,kBAAkB,IAAI,CAA9F;;QAEA,SAASwJ,eAAT,CAAyB5B,KAAzB,EAAgC;UAC9B,OAAOtD,WAAW,CAACmF,OAAZ,CAAoB7B,KAAK,CAAClC,OAA1B,CAAP;QACD;;QAED,IAAI6D,SAAJ,EAAe;UACb,IAAIG,WAAJ,EAAiBC,SAAjB;;UAEA,IAAIrF,WAAW,CAACmF,OAAZ,IAAuB,CAACnF,WAAW,CAACsF,uBAAxC,EAAiE;YAC/D,IAAIC,YAAY,GAAG,OAAOvF,WAAW,CAACmF,OAAnB,KAA+B,UAA/B,GAA4CD,eAA5C,GAA8D,WAAWvD,MAAX,CAAkB3B,WAAW,CAACmF,OAA9B,CAAjF;YACAC,WAAW,GAAG5N,gBAAgB,CAACwJ,MAAD,EAASuE,YAAT,EAAuB9I,WAAvB,CAA9B;YACA4I,SAAS,GAAGT,OAAO,IAAIC,QAAX,IAAuBrN,gBAAgB,CAACqN,QAAD,EAAWU,YAAX,EAAyB9I,WAAzB,CAAnD;UACD,CAJD,MAIO;YACL2I,WAAW,GAAGpE,MAAM,CAACtF,kBAAD,CAApB;YACA2J,SAAS,GAAGT,OAAO,IAAIC,QAAX,IAAuBA,QAAQ,CAACnJ,kBAAD,CAA3C;UACD;;UAED,IAAI,CAACtL,MAAM,CAACgV,WAAD,CAAX,EAA0B;YACxB,OAAO,CAACb,aAAD,EAAgB5C,MAAhB,CAAuB3P,kBAAkB,CAACuI,KAAK,CAACiL,kBAAN,CAAyB;cACxEnB,IAAI,EAAEA,IADkE;cAExEe,WAAW,EAAEA,WAF2D;cAGxEC,SAAS,EAAEA,SAH6D;cAIxEI,UAAU,EAAE/J,kBAJ4D;cAKxEkJ,OAAO,EAAEA;YAL+D,CAAzB,CAAD,CAAzC,CAAP;UAOD;QACF;;QAED,IAAIA,OAAJ,EAAa;UACX,OAAO,CAACL,aAAD,EAAgB,IAAhB,EAAsB,IAAtB,CAAP;QACD;;QAED,OAAO,CAACA,aAAD,EAAgB,IAAhB,CAAP;MACD,CAxDD;;MA0DAhK,KAAK,CAACmL,gBAAN,GAAyB,UAAUvF,OAAV,EAAmB;QAC1C,OAAO3K,YAAY,CAAC2K,OAAD,EAAU9M,aAAa,CAAC,EAAD,EAAKkH,KAAK,CAACrG,KAAX,EAAkB,EAAlB,EAAsBqG,KAAK,CAACK,KAA5B,CAAvB,CAAnB;MACD,CAFD;;MAIA,IAAI+K,YAAY,GAAGpL,KAAK,CAAC9J,WAAN,CAAkBmV,kBAAlB,CAAqCtL,MAArC,CAAnB;;MAEA,IAAIuL,SAAS,GAAG,CAAhB;MACAtL,KAAK,CAACK,KAAN,GAAcvH,aAAa,CAAC,EAAD,EAAKsS,YAAL,EAAmB;QAC5C5K,QAAQ,EAAE;MADkC,CAAnB,EAExBR,KAAK,CAACU,yCAAN,CAAgD5H,aAAa,CAAC;QAC/Da,KAAK,EAAEoG;MADwD,CAAD,EAE7DqL,YAF6D,EAE/C;QACf5K,QAAQ,EAAE8K;MADK,CAF+C,CAA7D,CAFwB,CAA3B;MAOAtL,KAAK,CAACkB,aAAN,GAAsBrL,MAAM,CAACkK,MAAM,CAACwL,EAAR,CAAN,GAAoBxO,QAAQ,CAAC,UAAD,CAA5B,GAA2CgD,MAAM,CAACwL,EAAxE;MACAvL,KAAK,CAAC0J,UAAN,GAAmB,GAAGtC,MAAH,CAAUpH,KAAK,CAACkB,aAAhB,EAA+B,OAA/B,CAAnB;;MAEA,IAAInB,MAAM,CAACyL,aAAX,EAA0B;QACxBxL,KAAK,CAACmD,uBAAN,GAAgCvN,SAAS,CAACoK,KAAK,CAACmD,uBAAP,EAAgCpD,MAAM,CAACyL,aAAvC,CAAzC;MACD;;MAED,OAAOxL,KAAP;IACD;IACD;;;IAGAnG,YAAY,CAACgG,uBAAD,EAA0B,CAAC;MACrCpJ,GAAG,EAAE,mBADgC;MAErC2C,KAAK,EAAE,SAASqS,iBAAT,GAA6B;QAClC,IAAI,CAAC5V,MAAM,CAAC,KAAK8D,KAAL,CAAWqH,MAAZ,CAAX,EAAgC;UAC9B,KAAK0K,WAAL;QACD;MACF,CANoC,CAMnC;;IANmC,CAAD,EAQnC;MACDjV,GAAG,EAAE,2BADJ;MAED2C,KAAK,EAAE,SAASuS,yBAAT,CAAmCC,SAAnC,EAA8C;QACnD,IAAIC,MAAM,GAAG,IAAb;;QAEA,IAAIC,YAAY,GAAG,KAAKnS,KAAxB;QAAA,IACImH,IAAI,GAAGgL,YAAY,CAAChL,IADxB;QAAA,IAEIoJ,QAAQ,GAAG4B,YAAY,CAAC5B,QAF5B;QAAA,IAGInI,KAAK,GAAG+J,YAAY,CAAC/J,KAHzB;QAAA,IAIIE,MAAM,GAAG6J,YAAY,CAAC7J,MAJ1B;QAAA,IAKIhB,MAAM,GAAG6K,YAAY,CAAC7K,MAL1B;QAAA,IAMI8K,WAAW,GAAGD,YAAY,CAACC,WAN/B;QAAA,IAOI5C,MAAM,GAAG2C,YAAY,CAAC3C,MAP1B;QAQA,IAAI3I,QAAQ,GAAG,KAAKH,KAAL,CAAWG,QAA1B;;QAEA,IAAIoL,SAAS,CAAC9K,IAAV,KAAmBA,IAAnB,IAA2B8K,SAAS,CAAC7J,KAAV,KAAoBA,KAA/C,IAAwD6J,SAAS,CAAC3J,MAAV,KAAqBA,MAA7E,IAAuF2J,SAAS,CAAC3K,MAAV,KAAqBA,MAA5G,IAAsH2K,SAAS,CAACG,WAAV,KAA0BA,WAAhJ,IAA+J,CAACtN,YAAY,CAACmN,SAAS,CAACzC,MAAX,EAAmBA,MAAnB,CAAhL,EAA4M;UAC1M,IAAIiC,YAAY,GAAG,KAAKlV,WAAL,CAAiBmV,kBAAjB,CAAoCO,SAApC,CAAnB;UACA,KAAKnL,QAAL,CAAc3H,aAAa,CAAC,EAAD,EAAKsS,YAAL,EAAmB;YAC5C5K,QAAQ,EAAEA,QAAQ,GAAG;UADuB,CAAnB,EAExB,KAAKE,yCAAL,CAA+C5H,aAAa,CAAC;YAC9Da,KAAK,EAAEiS;UADuD,CAAD,EAE5DR,YAF4D,EAE9C;YACf5K,QAAQ,EAAEA,QAAQ,GAAG;UADN,CAF8C,CAA5D,CAFwB,CAA3B;QAOD,CATD,MASO,IAAI,CAACnE,eAAe,CAACuP,SAAS,CAAC1B,QAAX,EAAqBA,QAArB,CAApB,EAAoD;UACzD;UACA,IAAI8B,aAAa,GAAG,CAACnW,MAAM,CAAC+V,SAAS,CAAC9K,IAAX,CAA3B;UACA,IAAImL,WAAW,GAAGD,aAAa,GAAGxL,QAAH,GAAcA,QAAQ,GAAG,CAAxD;UACA,KAAKC,QAAL,CAAc,UAAUyL,SAAV,EAAqB;YACjC,OAAOpT,aAAa,CAAC;cACnB0H,QAAQ,EAAEyL;YADS,CAAD,EAEjBJ,MAAM,CAACnL,yCAAP,CAAiD5H,aAAa,CAAC;cAChEa,KAAK,EAAEiS;YADyD,CAAD,EAE9DM,SAF8D,EAEnD;cACZ1L,QAAQ,EAAEyL;YADE,CAFmD,CAA9D,CAFiB,CAApB;UAOD,CARD;QASD,CAnCkD,CAmCjD;;;QAGF,IAAIpW,MAAM,CAAC,KAAK8D,KAAL,CAAWqH,MAAZ,CAAN,IAA6B,CAACnL,MAAM,CAAC+V,SAAS,CAAC5K,MAAX,CAAxC,EAA4D;UAC1D,KAAK0K,WAAL;QACD,CAxCkD,CAwCjD;;;QAGF,IAAI,CAAC7V,MAAM,CAAC,KAAK8D,KAAL,CAAWqH,MAAZ,CAAP,IAA8BnL,MAAM,CAAC+V,SAAS,CAAC5K,MAAX,CAAxC,EAA4D;UAC1D,KAAKmL,cAAL;QACD;MACF;IAhDA,CARmC,EAyDnC;MACD1V,GAAG,EAAE,sBADJ;MAED2C,KAAK,EAAE,SAASgT,oBAAT,GAAgC;QACrC,IAAI,CAACvW,MAAM,CAAC,KAAK8D,KAAL,CAAWqH,MAAZ,CAAX,EAAgC;UAC9B,KAAKmL,cAAL;QACD;;QAED,IAAI,OAAO,KAAKhJ,uBAAL,CAA6BkJ,MAApC,KAA+C,UAAnD,EAA+D;UAC7D,KAAKlJ,uBAAL,CAA6BkJ,MAA7B;QACD;MACF;MACD;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;IApBO,CAzDmC,EA+EnC;MACD5V,GAAG,EAAE,YADJ;MAED2C,KAAK,EAAE,SAASkT,UAAT,CAAoB3S,KAApB,EAA2B4S,KAA3B,EAAkC;QACvC,IAAIC,cAAc,GAAGD,KAAK,CAACrF,QAA3B;QAAA,IACIA,QAAQ,GAAGsF,cAAc,KAAK,KAAK,CAAxB,GAA4B,OAA5B,GAAsCA,cADrD;QAAA,IAEIC,QAAQ,GAAGF,KAAK,CAACE,QAFrB;QAAA,IAGIC,cAAc,GAAGH,KAAK,CAACG,cAH3B;QAAA,IAIIC,WAAW,GAAGJ,KAAK,CAACI,WAJxB;QAAA,IAKIrM,cAAc,GAAGiM,KAAK,CAACjM,cAL3B;QAAA,IAMIC,YAAY,GAAGgM,KAAK,CAAChM,YANzB;QAOA,IAAI2J,QAAQ,GAAGvQ,KAAK,CAACuQ,QAArB;QACA,IAAI0C,SAAS,GAAG,GAAGxF,MAAH,CAAUF,QAAV,EAAoB,IAApB,CAAhB,CATuC,CASI;;QAE3C,IAAI2F,IAAI,GAAG9Q,aAAa,CAACmO,QAAD,EAAWuC,QAAX,CAAxB;QACA,IAAIlH,OAAO,GAAG,EAAd;;QAEA,IAAIsH,IAAI,IAAIA,IAAI,CAAC/V,MAAjB,EAAyB;UACvByO,OAAO,GAAG,KAAKuH,gBAAL,CAAsBnT,KAAtB,EAA6B;YACrCkT,IAAI,EAAEA,IAD+B;YAErCH,cAAc,EAAEA,cAFqB;YAGrCxF,QAAQ,EAAEA,QAH2B;YAIrC0F,SAAS,EAAEA,SAJ0B;YAKrCD,WAAW,EAAEA,WALwB;YAMrCrM,cAAc,EAAEA,cANqB;YAOrCC,YAAY,EAAEA;UAPuB,CAA7B,CAAV;QASD,CAVD,MAUO,IAAImM,cAAc,IAAIA,cAAc,CAAC5V,MAArC,EAA6C;UAClDyO,OAAO,GAAG,KAAKwH,iBAAL,CAAuBpT,KAAvB,EAA8B;YACtCqT,IAAI,EAAEP,QADgC;YAEtCC,cAAc,EAAEA,cAFsB;YAGtCxF,QAAQ,EAAEA,QAH4B;YAItC0F,SAAS,EAAEA,SAJ2B;YAKtCD,WAAW,EAAEA,WALyB;YAMtCrM,cAAc,EAAEA,cANsB;YAOtCC,YAAY,EAAEA;UAPwB,CAA9B,CAAV;QASD;;QAED,OAAOgF,OAAP;MACD;MACD;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;IAnDO,CA/EmC,EAoInC;MACD9O,GAAG,EAAE,kBADJ;MAED2C,KAAK,EAAE,SAAS0T,gBAAT,CAA0BnT,KAA1B,EAAiCsT,KAAjC,EAAwC;QAC7C,IAAIC,MAAM,GAAG,IAAb;;QAEA,IAAIL,IAAI,GAAGI,KAAK,CAACJ,IAAjB;QAAA,IACIH,cAAc,GAAGO,KAAK,CAACP,cAD3B;QAAA,IAEIxF,QAAQ,GAAG+F,KAAK,CAAC/F,QAFrB;QAAA,IAGI0F,SAAS,GAAGK,KAAK,CAACL,SAHtB;QAAA,IAIID,WAAW,GAAGM,KAAK,CAACN,WAJxB;QAAA,IAKIrM,cAAc,GAAG2M,KAAK,CAAC3M,cAL3B;QAAA,IAMIC,YAAY,GAAG0M,KAAK,CAAC1M,YANzB;QAOA,IAAIU,MAAM,GAAGtH,KAAK,CAACsH,MAAnB;QAAA,IACIiJ,QAAQ,GAAGvQ,KAAK,CAACuQ,QADrB;QAAA,IAEI6B,WAAW,GAAGpS,KAAK,CAACoS,WAFxB;QAGA,IAAIoB,YAAY,GAAGnP,gBAAgB,CAACiD,MAAD,EAASiG,QAAT,CAAnC,CAb6C,CAaU;;QAEvD,IAAI3B,OAAO,GAAGsH,IAAI,CAACO,MAAL,CAAY,UAAUC,MAAV,EAAkBC,KAAlB,EAAyB;UACjD,IAAIC,YAAY,GAAGD,KAAK,CAAC3T,KAAzB;UAAA,IACIwN,IAAI,GAAGoG,YAAY,CAACpG,IADxB;UAAA,IAEIyD,OAAO,GAAG2C,YAAY,CAAC3C,OAF3B;UAAA,IAGI4C,iBAAiB,GAAGD,YAAY,CAACC,iBAHrC;UAAA,IAIIzC,uBAAuB,GAAGwC,YAAY,CAACxC,uBAJ3C;UAAA,IAKI0C,KAAK,GAAGF,YAAY,CAACE,KALzB;UAAA,IAMIxI,KAAK,GAAGsI,YAAY,CAACtI,KANzB;UAOA,IAAIyI,MAAM,GAAGJ,KAAK,CAAC3T,KAAN,CAAYiT,SAAZ,CAAb;;UAEA,IAAIe,aAAa,GAAGT,MAAM,CAAChX,WAAP,CAAmB0X,gBAAnB,CAAoCjU,KAApC,EAA2C;YAC7D+S,cAAc,EAAEA,cAAc,CAACjU,MAAf,CAAsB,UAAUqR,IAAV,EAAgB;cACpD,OAAOA,IAAI,CAACnQ,KAAL,CAAWiT,SAAX,MAA0Bc,MAAjC;YACD,CAFe,CAD6C;YAI7DpN,cAAc,EAAEA,cAJ6C;YAK7DC,YAAY,EAAEA;UAL+C,CAA3C,CAApB;;UAQA,IAAIsN,GAAG,GAAGF,aAAa,CAAC7W,MAAxB;;UAEA,IAAI,CAACuW,MAAM,CAACK,MAAD,CAAX,EAAqB;YACnB,IAAIxF,MAAJ,EAAY4F,eAAZ,EAA6BC,iBAA7B;;YAEA,IAAInD,OAAJ,EAAa;cACX1C,MAAM,GAAG/J,oBAAoB,CAACwP,aAAD,EAAgB/C,OAAhB,EAAyBzD,IAAzB,CAA7B;;cAEA,IAAIA,IAAI,KAAK,UAAT,IAAuBgG,YAA3B,EAAyC;gBACvC,IAAIa,SAAS,GAAGlR,YAAY,CAACoL,MAAD,CAA5B;;gBAEA,IAAI6C,uBAAuB,IAAIiD,SAA/B,EAA0C;kBACxCF,eAAe,GAAG5F,MAAlB,CADwC,CACd;;kBAE1BA,MAAM,GAAGvS,MAAM,CAAC,CAAD,EAAIkY,GAAJ,CAAf;gBACD,CAJD,MAIO,IAAI,CAAC9C,uBAAL,EAA8B;kBACnC;kBACA7C,MAAM,GAAG7J,yBAAyB,CAACiP,KAAK,CAAC3T,KAAN,CAAYuO,MAAb,EAAqBA,MAArB,EAA6BoF,KAA7B,CAAzB,CAA6DF,MAA7D,CAAoE,UAAUa,WAAV,EAAuBlF,KAAvB,EAA8B;oBACzG,OAAOkF,WAAW,CAAClX,OAAZ,CAAoBgS,KAApB,KAA8B,CAA9B,GAAkCkF,WAAlC,GAAgD,GAAG7G,MAAH,CAAU3P,kBAAkB,CAACwW,WAAD,CAA5B,EAA2C,CAAClF,KAAD,CAA3C,CAAvD;kBACD,CAFQ,EAEN,EAFM,CAAT;gBAGD;cACF,CAbD,MAaO,IAAI5B,IAAI,KAAK,UAAb,EAAyB;gBAC9B,IAAI,CAAC4D,uBAAL,EAA8B;kBAC5B7C,MAAM,GAAG7J,yBAAyB,CAACiP,KAAK,CAAC3T,KAAN,CAAYuO,MAAb,EAAqBA,MAArB,EAA6BoF,KAA7B,CAAzB,CAA6DF,MAA7D,CAAoE,UAAUa,WAAV,EAAuBlF,KAAvB,EAA8B;oBACzG,OAAOkF,WAAW,CAAClX,OAAZ,CAAoBgS,KAApB,KAA8B,CAA9B,IAAmCA,KAAK,KAAK,EAA7C,IAAmDlT,MAAM,CAACkT,KAAD,CAAzD,GAAmEkF,WAAnE,GAAiF,GAAG7G,MAAH,CAAU3P,kBAAkB,CAACwW,WAAD,CAA5B,EAA2C,CAAClF,KAAD,CAA3C,CAAxF;kBACD,CAFQ,EAEN,EAFM,CAAT;gBAGD,CAJD,MAIO;kBACL;kBACAb,MAAM,GAAGA,MAAM,CAACzP,MAAP,CAAc,UAAUsQ,KAAV,EAAiB;oBACtC,OAAOA,KAAK,KAAK,EAAV,IAAgB,CAAClT,MAAM,CAACkT,KAAD,CAA9B;kBACD,CAFQ,CAAT;gBAGD;cACF,CAXM,MAWA,IAAI5B,IAAI,KAAK,QAAb,EAAuB;gBAC5B,IAAI+G,eAAe,GAAGtQ,oBAAoB,CAAC+P,aAAD,EAAgBjB,cAAc,CAACjU,MAAf,CAAsB,UAAUqR,IAAV,EAAgB;kBAC9F,OAAOA,IAAI,CAACnQ,KAAL,CAAWiT,SAAX,MAA0Bc,MAA1B,IAAoC,CAAC5D,IAAI,CAACnQ,KAAL,CAAW8Q,IAAvD;gBACD,CAFyD,CAAhB,EAEtCG,OAFsC,EAE7B1D,QAF6B,CAA1C;;gBAIA,IAAIgH,eAAJ,EAAqB;kBACnBhG,MAAM,GAAGgG,eAAT;gBACD;cACF;;cAED,IAAIf,YAAY,KAAKhG,IAAI,KAAK,QAAT,IAAqBsG,KAAK,KAAK,MAApC,CAAhB,EAA6D;gBAC3DM,iBAAiB,GAAG5P,oBAAoB,CAACwP,aAAD,EAAgB/C,OAAhB,EAAyB,UAAzB,CAAxC;cACD;YACF,CAxCD,MAwCO,IAAIuC,YAAJ,EAAkB;cACvBjF,MAAM,GAAGvS,MAAM,CAAC,CAAD,EAAIkY,GAAJ,CAAf;YACD,CAFM,MAEA,IAAIlB,WAAW,IAAIA,WAAW,CAACe,MAAD,CAA1B,IAAsCf,WAAW,CAACe,MAAD,CAAX,CAAoBS,QAA1D,IAAsEhH,IAAI,KAAK,QAAnF,EAA6F;cAClG;cACAe,MAAM,GAAG6D,WAAW,KAAK,QAAhB,GAA2B,CAAC,CAAD,EAAI,CAAJ,CAA3B,GAAoC7N,sBAAsB,CAACyO,WAAW,CAACe,MAAD,CAAX,CAAoBf,WAArB,EAAkCrM,cAAlC,EAAkDC,YAAlD,CAAnE;YACD,CAHM,MAGA;cACL2H,MAAM,GAAGjK,4BAA4B,CAAC0P,aAAD,EAAgBjB,cAAc,CAACjU,MAAf,CAAsB,UAAUqR,IAAV,EAAgB;gBACzF,OAAOA,IAAI,CAACnQ,KAAL,CAAWiT,SAAX,MAA0Bc,MAA1B,IAAoC,CAAC5D,IAAI,CAACnQ,KAAL,CAAW8Q,IAAvD;cACD,CAFoD,CAAhB,EAEjCtD,IAFiC,EAE3B,IAF2B,CAArC;YAGD;;YAED,IAAIA,IAAI,KAAK,QAAb,EAAuB;cACrB;cACAe,MAAM,GAAG5J,6BAA6B,CAAC4L,QAAD,EAAWhC,MAAX,EAAmBwF,MAAnB,EAA2BxG,QAA3B,EAAqCjC,KAArC,CAAtC;;cAEA,IAAIqI,KAAK,CAAC3T,KAAN,CAAYuO,MAAhB,EAAwB;gBACtBA,MAAM,GAAG9J,oBAAoB,CAACkP,KAAK,CAAC3T,KAAN,CAAYuO,MAAb,EAAqBA,MAArB,EAA6BsF,iBAA7B,CAA7B;cACD;YACF;;YAED,OAAO1U,aAAa,CAAC,EAAD,EAAKuU,MAAL,EAAarU,eAAe,CAAC,EAAD,EAAK0U,MAAL,EAAa5U,aAAa,CAAC,EAAD,EAAKwU,KAAK,CAAC3T,KAAX,EAAkB;cAC1FuN,QAAQ,EAAEA,QADgF;cAE1FgB,MAAM,EAAEA,MAFkF;cAG1F6F,iBAAiB,EAAEA,iBAHuE;cAI1FD,eAAe,EAAEA,eAJyE;cAK1FM,cAAc,EAAEd,KAAK,CAAC3T,KAAN,CAAYuO,MAL8D;cAM1FiF,YAAY,EAAEA,YAN4E;cAO1FlM,MAAM,EAAEA;YAPkF,CAAlB,CAA1B,CAA5B,CAApB;UASD;;UAED,OAAOoM,MAAP;QACD,CA/Fa,EA+FX,EA/FW,CAAd;QAgGA,OAAO9H,OAAP;MACD;MACD;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;IA/HO,CApImC,EAqQnC;MACD9O,GAAG,EAAE,mBADJ;MAED2C,KAAK,EAAE,SAAS2T,iBAAT,CAA2BpT,KAA3B,EAAkC0U,KAAlC,EAAyC;QAC9C,IAAI3B,cAAc,GAAG2B,KAAK,CAAC3B,cAA3B;QAAA,IACIM,IAAI,GAAGqB,KAAK,CAACrB,IADjB;QAAA,IAEI9F,QAAQ,GAAGmH,KAAK,CAACnH,QAFrB;QAAA,IAGI0F,SAAS,GAAGyB,KAAK,CAACzB,SAHtB;QAAA,IAIID,WAAW,GAAG0B,KAAK,CAAC1B,WAJxB;QAAA,IAKIrM,cAAc,GAAG+N,KAAK,CAAC/N,cAL3B;QAAA,IAMIC,YAAY,GAAG8N,KAAK,CAAC9N,YANzB;QAOA,IAAIU,MAAM,GAAGtH,KAAK,CAACsH,MAAnB;QAAA,IACIiJ,QAAQ,GAAGvQ,KAAK,CAACuQ,QADrB;QAEA,IAAIyD,aAAa,GAAG,KAAKzX,WAAL,CAAiB0X,gBAAjB,CAAkCjU,KAAlC,EAAyC;UAC3D+S,cAAc,EAAEA,cAD2C;UAE3DpM,cAAc,EAAEA,cAF2C;UAG3DC,YAAY,EAAEA;QAH6C,CAAzC,CAApB;QAKA,IAAIsN,GAAG,GAAGF,aAAa,CAAC7W,MAAxB;QACA,IAAIqW,YAAY,GAAGnP,gBAAgB,CAACiD,MAAD,EAASiG,QAAT,CAAnC;QACA,IAAID,KAAK,GAAG,CAAC,CAAb,CAjB8C,CAiB9B;QAChB;QACA;QACA;;QAEA,IAAI1B,OAAO,GAAGmH,cAAc,CAACU,MAAf,CAAsB,UAAUC,MAAV,EAAkBC,KAAlB,EAAyB;UAC3D,IAAII,MAAM,GAAGJ,KAAK,CAAC3T,KAAN,CAAYiT,SAAZ,CAAb;;UAEA,IAAI,CAACS,MAAM,CAACK,MAAD,CAAX,EAAqB;YACnBzG,KAAK;YACL,IAAIiB,MAAJ;;YAEA,IAAIiF,YAAJ,EAAkB;cAChBjF,MAAM,GAAGvS,MAAM,CAAC,CAAD,EAAIkY,GAAJ,CAAf;YACD,CAFD,MAEO,IAAIlB,WAAW,IAAIA,WAAW,CAACe,MAAD,CAA1B,IAAsCf,WAAW,CAACe,MAAD,CAAX,CAAoBS,QAA9D,EAAwE;cAC7EjG,MAAM,GAAGhK,sBAAsB,CAACyO,WAAW,CAACe,MAAD,CAAX,CAAoBf,WAArB,EAAkCrM,cAAlC,EAAkDC,YAAlD,CAA/B;cACA2H,MAAM,GAAG5J,6BAA6B,CAAC4L,QAAD,EAAWhC,MAAX,EAAmBwF,MAAnB,EAA2BxG,QAA3B,CAAtC;YACD,CAHM,MAGA;cACLgB,MAAM,GAAG9J,oBAAoB,CAAC4O,IAAI,CAACrN,YAAL,CAAkBuI,MAAnB,EAA2BjK,4BAA4B,CAAC0P,aAAD,EAAgBjB,cAAc,CAACjU,MAAf,CAAsB,UAAUqR,IAAV,EAAgB;gBACxI,OAAOA,IAAI,CAACnQ,KAAL,CAAWiT,SAAX,MAA0Bc,MAA1B,IAAoC,CAAC5D,IAAI,CAACnQ,KAAL,CAAW8Q,IAAvD;cACD,CAFmG,CAAhB,EAEhF,QAFgF,CAAvD,EAEduC,IAAI,CAACrN,YAAL,CAAkB6N,iBAFJ,CAA7B;cAGAtF,MAAM,GAAG5J,6BAA6B,CAAC4L,QAAD,EAAWhC,MAAX,EAAmBwF,MAAnB,EAA2BxG,QAA3B,CAAtC;YACD;;YAED,OAAOpO,aAAa,CAAC,EAAD,EAAKuU,MAAL,EAAarU,eAAe,CAAC,EAAD,EAAK0U,MAAL,EAAa5U,aAAa,CAAC;cACzEoO,QAAQ,EAAEA;YAD+D,CAAD,EAEvE8F,IAAI,CAACrN,YAFkE,EAEpD;cACpB8K,IAAI,EAAE,IADc;cAEpB6D,WAAW,EAAE1P,UAAU,CAACsI,QAAD,CAAV,IAAwBtI,UAAU,CAACsI,QAAD,CAAV,CAAqBD,KAAK,GAAG,CAA7B,CAFjB;cAGpBiB,MAAM,EAAEA,MAHY;cAIpBkG,cAAc,EAAEpB,IAAI,CAACrN,YAAL,CAAkBuI,MAJd;cAKpBiF,YAAY,EAAEA,YALM;cAMpBlM,MAAM,EAAEA,MANY,CAML;cACf;;YAPoB,CAFoD,CAA1B,CAA5B,CAApB;UAYD;;UAED,OAAOoM,MAAP;QACD,CAlCa,EAkCX,EAlCW,CAAd;QAmCA,OAAO9H,OAAP;MACD;IA5DA,CArQmC,EAkUnC;MACD9O,GAAG,EAAE,qBADJ;MAED2C,KAAK,EAAE,SAASmV,mBAAT,CAA6B/M,YAA7B,EAA2CgN,WAA3C,EAAwDC,QAAxD,EAAkE;QACvE,IAAIxN,MAAM,GAAG,KAAKtH,KAAL,CAAWsH,MAAxB;QACA,IAAI8H,KAAK,GAAGvH,YAAY,CAACkN,IAAb,CAAkB,UAAUC,IAAV,EAAgB;UAC5C,OAAOA,IAAI,IAAIA,IAAI,CAAC1H,KAAL,KAAeuH,WAA9B;QACD,CAFW,CAAZ;;QAIA,IAAIzF,KAAJ,EAAW;UACT,IAAI9H,MAAM,KAAK,YAAf,EAA6B;YAC3B,OAAO;cACLjC,CAAC,EAAE+J,KAAK,CAACzG,UADJ;cAELrD,CAAC,EAAEwP,QAAQ,CAACxP;YAFP,CAAP;UAID;;UAED,IAAIgC,MAAM,KAAK,UAAf,EAA2B;YACzB,OAAO;cACLjC,CAAC,EAAEyP,QAAQ,CAACzP,CADP;cAELC,CAAC,EAAE8J,KAAK,CAACzG;YAFJ,CAAP;UAID;;UAED,IAAIrB,MAAM,KAAK,SAAf,EAA0B;YACxB,IAAI2N,MAAM,GAAG7F,KAAK,CAACzG,UAAnB;YACA,IAAIuM,OAAO,GAAGJ,QAAQ,CAACrI,MAAvB;YACA,OAAOtN,aAAa,CAAC,EAAD,EAAK2V,QAAL,EAAe,EAAf,EAAmBjQ,gBAAgB,CAACiQ,QAAQ,CAAC/K,EAAV,EAAc+K,QAAQ,CAAC9K,EAAvB,EAA2BkL,OAA3B,EAAoCD,MAApC,CAAnC,EAAgF;cAClGE,KAAK,EAAEF,MAD2F;cAElGxI,MAAM,EAAEyI;YAF0F,CAAhF,CAApB;UAID;;UAED,IAAIzI,MAAM,GAAG2C,KAAK,CAACzG,UAAnB;UACA,IAAIwM,KAAK,GAAGL,QAAQ,CAACK,KAArB;UACA,OAAOhW,aAAa,CAAC,EAAD,EAAK2V,QAAL,EAAe,EAAf,EAAmBjQ,gBAAgB,CAACiQ,QAAQ,CAAC/K,EAAV,EAAc+K,QAAQ,CAAC9K,EAAvB,EAA2ByC,MAA3B,EAAmC0I,KAAnC,CAAnC,EAA8E;YAChGA,KAAK,EAAEA,KADyF;YAEhG1I,MAAM,EAAEA;UAFwF,CAA9E,CAApB;QAID;;QAED,OAAOrH,gBAAP;MACD;MACD;AACN;AACA;AACA;AACA;;IA9CO,CAlUmC,EAkXnC;MACDtI,GAAG,EAAE,cADJ;MAED2C,KAAK,EAAE,SAAS4J,YAAT,CAAsB+L,KAAtB,EAA6B;QAClC,IAAI,CAAC,KAAKC,SAAV,EAAqB;UACnB,OAAO,IAAP;QACD;;QAED,IAAIC,eAAe,GAAGtS,SAAS,CAAC,KAAKqS,SAAN,CAA/B;QACA,IAAInM,CAAC,GAAGjG,wBAAwB,CAACmS,KAAD,EAAQE,eAAR,CAAhC;QACA,IAAIR,QAAQ,GAAG,KAAKS,OAAL,CAAarM,CAAC,CAACzB,MAAf,EAAuByB,CAAC,CAACxB,MAAzB,CAAf;;QAEA,IAAI,CAACoN,QAAL,EAAe;UACb,OAAO,IAAP;QACD;;QAED,IAAIU,YAAY,GAAG,KAAK9O,KAAxB;QAAA,IACIkH,QAAQ,GAAG4H,YAAY,CAAC5H,QAD5B;QAAA,IAEIK,QAAQ,GAAGuH,YAAY,CAACvH,QAF5B;;QAIA,IAAIrI,SAAS,KAAK,MAAd,IAAwBgI,QAAxB,IAAoCK,QAAxC,EAAkD;UAChD,IAAIwH,MAAM,GAAGvS,qBAAqB,CAAC0K,QAAD,CAArB,CAAgCkG,KAA7C;UACA,IAAI4B,MAAM,GAAGxS,qBAAqB,CAAC+K,QAAD,CAArB,CAAgC6F,KAA7C;UACA,IAAI6B,MAAM,GAAGF,MAAM,IAAIA,MAAM,CAACG,MAAjB,GAA0BH,MAAM,CAACG,MAAP,CAAc1M,CAAC,CAACzB,MAAhB,CAA1B,GAAoD,IAAjE;UACA,IAAIoO,MAAM,GAAGH,MAAM,IAAIA,MAAM,CAACE,MAAjB,GAA0BF,MAAM,CAACE,MAAP,CAAc1M,CAAC,CAACxB,MAAhB,CAA1B,GAAoD,IAAjE;UACA,OAAOvI,aAAa,CAAC,EAAD,EAAK+J,CAAL,EAAQ;YAC1ByM,MAAM,EAAEA,MADkB;YAE1BE,MAAM,EAAEA;UAFkB,CAAR,CAApB;QAID;;QAED,IAAIC,aAAa,GAAG,KAAKpP,KAAzB;QAAA,IACI4E,KAAK,GAAGwK,aAAa,CAACjK,mBAD1B;QAAA,IAEIH,IAAI,GAAGoK,aAAa,CAAChK,WAFzB;QAAA,IAGIjE,YAAY,GAAGiO,aAAa,CAACjO,YAHjC;QAIA,IAAIkO,GAAG,GAAG,KAAKC,mBAAL,CAAyBlB,QAAzB,CAAV;QACA,IAAID,WAAW,GAAGtR,wBAAwB,CAACwS,GAAD,EAAMzK,KAAN,EAAazD,YAAb,EAA2B6D,IAA3B,CAA1C;;QAEA,IAAImJ,WAAW,IAAI,CAAf,IAAoBhN,YAAxB,EAAsC;UACpC,IAAIU,WAAW,GAAGV,YAAY,CAACgN,WAAD,CAAZ,IAA6BhN,YAAY,CAACgN,WAAD,CAAZ,CAA0BpV,KAAzE;UACA,IAAI+I,aAAa,GAAG,KAAKC,iBAAL,CAAuBoM,WAAvB,EAAoCtM,WAApC,CAApB;UACA,IAAIG,gBAAgB,GAAG,KAAKkM,mBAAL,CAAyBtJ,KAAzB,EAAgCuJ,WAAhC,EAA6CC,QAA7C,CAAvB;UACA,OAAO3V,aAAa,CAAC,EAAD,EAAK+J,CAAL,EAAQ;YAC1B1B,kBAAkB,EAAEqN,WADM;YAE1BtM,WAAW,EAAEA,WAFa;YAG1BC,aAAa,EAAEA,aAHW;YAI1BE,gBAAgB,EAAEA;UAJQ,CAAR,CAApB;QAMD;;QAED,OAAO,IAAP;MACD;MACD;AACN;AACA;AACA;AACA;AACA;;IAxDO,CAlXmC,EA4anC;MACD5L,GAAG,EAAE,mBADJ;MAED2C,KAAK,EAAE,SAASgJ,iBAAT,CAA2BoM,WAA3B,EAAwCtM,WAAxC,EAAqD;QAC1D,IAAI0N,aAAa,GAAG,KAAKvP,KAAzB;QAAA,IACIqM,cAAc,GAAGkD,aAAa,CAAClD,cADnC;QAAA,IAEIjH,WAAW,GAAGmK,aAAa,CAACnK,WAFhC;QAGA,IAAIkI,aAAa,GAAG,KAAKzX,WAAL,CAAiB0X,gBAAjB,CAAkC,KAAKjU,KAAvC,EAA8C,KAAK0G,KAAnD,CAApB;;QAEA,IAAImO,WAAW,GAAG,CAAd,IAAmB,CAAC9B,cAApB,IAAsC,CAACA,cAAc,CAAC5V,MAAtD,IAAgE0X,WAAW,IAAIb,aAAa,CAAC7W,MAAjG,EAAyG;UACvG,OAAO,IAAP;QACD,CARyD,CAQxD;;;QAGF,OAAO4V,cAAc,CAACU,MAAf,CAAsB,UAAUC,MAAV,EAAkBC,KAAlB,EAAyB;UACpD,IAAI7C,IAAI,GAAG6C,KAAK,CAAC3T,KAAN,CAAY8Q,IAAvB;;UAEA,IAAIA,IAAJ,EAAU;YACR,OAAO4C,MAAP;UACD;;UAED,IAAIwC,aAAa,GAAGvC,KAAK,CAAC3T,KAA1B;UAAA,IACIiR,OAAO,GAAGiF,aAAa,CAACjF,OAD5B;UAAA,IAEIkF,IAAI,GAAGD,aAAa,CAACC,IAFzB;UAAA,IAGIC,IAAI,GAAGF,aAAa,CAACE,IAHzB;UAAA,IAIIC,SAAS,GAAGH,aAAa,CAACG,SAJ9B;UAAA,IAKIlP,IAAI,GAAG+O,aAAa,CAAC/O,IALzB;UAAA,IAMImP,WAAW,GAAGJ,aAAa,CAACI,WANhC;UAOA,IAAIpJ,OAAJ;;UAEA,IAAIpB,WAAW,CAACmF,OAAZ,IAAuB,CAACnF,WAAW,CAACsF,uBAAxC,EAAiE;YAC/D;YACAlE,OAAO,GAAG5J,gBAAgB,CAAC6D,IAAI,IAAI6M,aAAT,EAAwBlI,WAAW,CAACmF,OAApC,EAA6C1I,WAA7C,CAA1B;UACD,CAHD,MAGO;YACL2E,OAAO,GAAG/F,IAAI,IAAIA,IAAI,CAAC0N,WAAD,CAAZ,IAA6Bb,aAAa,CAACa,WAAD,CAApD;UACD;;UAED,IAAI,CAAC3H,OAAL,EAAc;YACZ,OAAOwG,MAAP;UACD;;UAED,OAAO,GAAGjG,MAAH,CAAU3P,kBAAkB,CAAC4V,MAAD,CAA5B,EAAsC,CAACvU,aAAa,CAAC,EAAD,EAAKqD,yBAAyB,CAACmR,KAAD,CAA9B,EAAuC;YAChG1C,OAAO,EAAEA,OADuF;YAEhGmF,IAAI,EAAEA,IAF0F;YAGhGC,SAAS,EAAEA,SAHqF;YAIhGF,IAAI,EAAEA,IAAI,IAAIlF,OAJkF;YAKhGsF,KAAK,EAAE/S,yBAAyB,CAACmQ,KAAD,CALgE;YAMhGlU,KAAK,EAAE2E,iBAAiB,CAAC8I,OAAD,EAAU+D,OAAV,CANwE;YAOhGzD,IAAI,EAAE8I,WAP0F;YAQhGpJ,OAAO,EAAEA;UARuF,CAAvC,CAAd,CAAtC,CAAP;QAUD,CArCM,EAqCJ,EArCI,CAAP;MAsCD;IAnDA,CA5amC,EAgenC;MACDpQ,GAAG,EAAE,gBADJ;MAED2C,KAAK,EAAE,SAAS+W,cAAT,CAAwBxW,KAAxB,EAA+ByW,YAA/B,EAA6C;QAClD,IAAIC,MAAM,GAAG,IAAb;;QAEA,IAAI3D,cAAc,GAAG0D,YAAY,CAAC1D,cAAlC;QAAA,IACIC,WAAW,GAAGyD,YAAY,CAACzD,WAD/B;QAAA,IAEIpL,MAAM,GAAG6O,YAAY,CAAC7O,MAF1B;QAAA,IAGIf,QAAQ,GAAG4P,YAAY,CAAC5P,QAH5B;QAAA,IAIIF,cAAc,GAAG8P,YAAY,CAAC9P,cAJlC;QAAA,IAKIC,YAAY,GAAG6P,YAAY,CAAC7P,YALhC;QAMA,IAAI+P,OAAO,GAAG3W,KAAK,CAAC2W,OAApB;QAAA,IACIrP,MAAM,GAAGtH,KAAK,CAACsH,MADnB;QAAA,IAEIsP,MAAM,GAAG5W,KAAK,CAAC4W,MAFnB;QAAA,IAGIC,cAAc,GAAG7W,KAAK,CAAC6W,cAH3B;QAAA,IAIIC,gBAAgB,GAAG9W,KAAK,CAAC+W,UAJ7B;;QAMA,IAAIC,qBAAqB,GAAG,KAAKza,WAAL,CAAiB0a,mBAAjB,CAAqC3P,MAArC,CAA5B;QAAA,IACI4P,eAAe,GAAGF,qBAAqB,CAACE,eAD5C;QAAA,IAEIC,YAAY,GAAGH,qBAAqB,CAACG,YAFzC;;QAIA,IAAIC,MAAM,GAAG,KAAK7a,WAAL,CAAiB6a,MAAjB,CAAwBrE,cAAxB,CAAb;QACA,IAAIsE,QAAQ,GAAGD,MAAM,IAAI3T,cAAc,CAAC;UACtCkT,OAAO,EAAEA,OAD6B;UAEtC3D,WAAW,EAAEA;QAFyB,CAAD,CAAvC;QAIA,IAAIsE,aAAa,GAAG,EAApB;QACAvE,cAAc,CAAC3T,OAAf,CAAuB,UAAU+Q,IAAV,EAAgB7C,KAAhB,EAAuB;UAC5C,IAAI0G,aAAa,GAAG0C,MAAM,CAACna,WAAP,CAAmB0X,gBAAnB,CAAoCjU,KAApC,EAA2C;YAC7D2G,cAAc,EAAEA,cAD6C;YAE7DC,YAAY,EAAEA;UAF+C,CAA3C,EAGjBuJ,IAHiB,CAApB;;UAKA,IAAIoH,YAAY,GAAGpH,IAAI,CAACnQ,KAAxB;UAAA,IACIiR,OAAO,GAAGsG,YAAY,CAACtG,OAD3B;UAAA,IAEIuG,eAAe,GAAGD,YAAY,CAACR,UAFnC;UAGA,IAAIU,aAAa,GAAGtH,IAAI,CAACnQ,KAAL,CAAW,GAAGyN,MAAH,CAAUyJ,eAAV,EAA2B,IAA3B,CAAX,CAApB;UACA,IAAIQ,UAAU,GAAGvH,IAAI,CAACnQ,KAAL,CAAW,GAAGyN,MAAH,CAAU0J,YAAV,EAAwB,IAAxB,CAAX,CAAjB;UACA,IAAItJ,OAAO,GAAGhI,cAAc,CAAC4N,MAAf,CAAsB,UAAUC,MAAV,EAAkBtE,KAAlB,EAAyB;YAC3D,IAAIuI,cAAJ;;YAEA,IAAI/L,OAAO,GAAG6K,YAAY,CAAC,GAAGhJ,MAAH,CAAU2B,KAAK,CAAC7B,QAAhB,EAA0B,KAA1B,CAAD,CAA1B;YACA,IAAIqE,EAAE,GAAGzB,IAAI,CAACnQ,KAAL,CAAW,GAAGyN,MAAH,CAAU2B,KAAK,CAAC7B,QAAhB,EAA0B,IAA1B,CAAX,CAAT;YACA,IAAI7B,IAAI,GAAGE,OAAO,IAAIA,OAAO,CAACgG,EAAD,CAA7B;YACA,OAAOzS,aAAa,CAAC,EAAD,EAAKuU,MAAL,GAAciE,cAAc,GAAG,EAAjB,EAAqBtY,eAAe,CAACsY,cAAD,EAAiBvI,KAAK,CAAC7B,QAAvB,EAAiC7B,IAAjC,CAApC,EAA4ErM,eAAe,CAACsY,cAAD,EAAiB,GAAGlK,MAAH,CAAU2B,KAAK,CAAC7B,QAAhB,EAA0B,OAA1B,CAAjB,EAAqDzJ,cAAc,CAAC4H,IAAD,CAAnE,CAA3F,EAAuKiM,cAArL,EAApB;UACD,CAPa,EAOX,EAPW,CAAd;UAQA,IAAIC,QAAQ,GAAG/J,OAAO,CAACsJ,YAAD,CAAtB;UACA,IAAIU,SAAS,GAAGhK,OAAO,CAAC,GAAGJ,MAAH,CAAU0J,YAAV,EAAwB,OAAxB,CAAD,CAAvB;UACA,IAAIW,WAAW,GAAG9E,WAAW,IAAIA,WAAW,CAACyE,aAAD,CAA1B,IAA6CzE,WAAW,CAACyE,aAAD,CAAX,CAA2BjD,QAAxE,IAAoFxQ,oBAAoB,CAACmM,IAAD,EAAO6C,WAAW,CAACyE,aAAD,CAAX,CAA2BzE,WAAlC,CAA1H;UACA,IAAI+E,QAAQ,GAAG7T,iBAAiB,CAAC0T,QAAD,EAAWC,SAAX,CAAhC;UACA,IAAId,UAAU,GAAG7a,MAAM,CAACsb,eAAD,CAAN,GAA0BV,gBAA1B,GAA6CU,eAA9D;UACA,IAAIQ,WAAW,GAAGZ,MAAM,IAAI1T,cAAc,CAAC;YACzCkT,MAAM,EAAEA,MADiC;YAEzCC,cAAc,EAAEA,cAFyB;YAGzCkB,QAAQ,EAAEA,QAH+B;YAIzCV,QAAQ,EAAEA,QAAQ,CAACK,UAAD,CAJuB;YAKzCX,UAAU,EAAEA;UAL6B,CAAD,CAA1C;UAOA,IAAIkB,WAAW,GAAG9H,IAAI,IAAIA,IAAI,CAAC3C,IAAb,IAAqB2C,IAAI,CAAC3C,IAAL,CAAU0K,eAAjD;;UAEA,IAAID,WAAJ,EAAiB;YACf,IAAIE,cAAJ;;YAEAb,aAAa,CAACpY,IAAd,CAAmB;cACjBc,KAAK,EAAEb,aAAa,CAAC,EAAD,EAAK8Y,WAAW,CAAC9Y,aAAa,CAAC,EAAD,EAAK0O,OAAL,EAAc;gBAC9DmG,aAAa,EAAEA,aAD+C;gBAE9DhU,KAAK,EAAEA,KAFuD;gBAG9DiR,OAAO,EAAEA,OAHqD;gBAI9Dd,IAAI,EAAEA,IAJwD;gBAK9D4H,QAAQ,EAAEA,QALoD;gBAM9DC,WAAW,EAAEA,WANiD;gBAO9DpQ,MAAM,EAAEA,MAPsD;gBAQ9DkQ,WAAW,EAAEA,WARiD;gBAS9DxQ,MAAM,EAAEA,MATsD;gBAU9DX,cAAc,EAAEA,cAV8C;gBAW9DC,YAAY,EAAEA,YAXgD;gBAY9DwR,gBAAgB,EAAEvU,oBAAoB,CAAC6S,MAAM,CAACzM,oBAAR,EAA8B,IAA9B,EAAoCkG,IAAI,CAACnQ,KAAL,CAAWqK,YAA/C,CAZwB;gBAa9DgO,gBAAgB,EAAExU,oBAAoB,CAAC6S,MAAM,CAAChN,oBAAR,EAA8B,IAA9B,EAAoCyG,IAAI,CAACnQ,KAAL,CAAWmJ,YAA/C;cAbwB,CAAd,CAAd,CAAhB,GAcdgP,cAAc,GAAG;gBACrBrb,GAAG,EAAEqT,IAAI,CAACrT,GAAL,IAAY,QAAQ2Q,MAAR,CAAeH,KAAf;cADI,CAAjB,EAEHjO,eAAe,CAAC8Y,cAAD,EAAiBjB,eAAjB,EAAkCrJ,OAAO,CAACqJ,eAAD,CAAzC,CAFZ,EAEyE7X,eAAe,CAAC8Y,cAAD,EAAiBhB,YAAjB,EAA+BtJ,OAAO,CAACsJ,YAAD,CAAtC,CAFxF,EAE+I9X,eAAe,CAAC8Y,cAAD,EAAiB,aAAjB,EAAgCtR,QAAhC,CAF9J,EAEyMsR,cAhB3L,EADH;cAkBjB5G,UAAU,EAAEhP,eAAe,CAAC4N,IAAD,EAAOnQ,KAAK,CAACuQ,QAAb,CAlBV;cAmBjBJ,IAAI,EAAEA;YAnBW,CAAnB;UAqBD;QACF,CA1DD;QA2DA,OAAOmH,aAAP;MACD;IAvFA,CAhemC,EAwjBnC;MACDxa,GAAG,EAAE,oBADJ;MAED2C,KAAK,EAAE,SAAS6M,kBAAT,GAA8B;QACnC,IAAIhF,MAAM,GAAG,KAAKtH,KAAL,CAAWsH,MAAxB;QACA,IAAIgR,aAAa,GAAG,KAAK5R,KAAzB;QAAA,IACIgC,gBAAgB,GAAG4P,aAAa,CAAC5P,gBADrC;QAAA,IAEId,MAAM,GAAG0Q,aAAa,CAAC1Q,MAF3B;QAAA,IAGImE,mBAAmB,GAAGuM,aAAa,CAACvM,mBAHxC;QAIA,IAAIwM,QAAQ,GAAGxM,mBAAmB,GAAG,CAArC;QACA,OAAO;UACLiB,MAAM,EAAE,MADH;UAELwL,IAAI,EAAE,MAFD;UAGLnT,CAAC,EAAEiC,MAAM,KAAK,YAAX,GAA0BoB,gBAAgB,CAACrD,CAAjB,GAAqBkT,QAA/C,GAA0D3Q,MAAM,CAACG,IAAP,GAAc,GAHtE;UAILzC,CAAC,EAAEgC,MAAM,KAAK,YAAX,GAA0BM,MAAM,CAACI,GAAP,GAAa,GAAvC,GAA6CU,gBAAgB,CAACpD,CAAjB,GAAqBiT,QAJhE;UAKLnQ,KAAK,EAAEd,MAAM,KAAK,YAAX,GAA0ByE,mBAA1B,GAAgDnE,MAAM,CAACQ,KAAP,GAAe,CALjE;UAMLE,MAAM,EAAEhB,MAAM,KAAK,YAAX,GAA0BM,MAAM,CAACU,MAAP,GAAgB,CAA1C,GAA8CyD;QANjD,CAAP;MAQD;IAjBA,CAxjBmC,EA0kBnC;MACDjP,GAAG,EAAE,iBADJ;MAED2C,KAAK,EAAE,SAAS+M,eAAT,GAA2B;QAChC,IAAIlF,MAAM,GAAG,KAAKtH,KAAL,CAAWsH,MAAxB;QACA,IAAImR,aAAa,GAAG,KAAK/R,KAAzB;QAAA,IACIgC,gBAAgB,GAAG+P,aAAa,CAAC/P,gBADrC;QAAA,IAEId,MAAM,GAAG6Q,aAAa,CAAC7Q,MAF3B;QAGA,IAAI8Q,EAAJ,EAAQC,EAAR,EAAYC,EAAZ,EAAgBC,EAAhB;;QAEA,IAAIvR,MAAM,KAAK,YAAf,EAA6B;UAC3BoR,EAAE,GAAGhQ,gBAAgB,CAACrD,CAAtB;UACAuT,EAAE,GAAGF,EAAL;UACAC,EAAE,GAAG/Q,MAAM,CAACI,GAAZ;UACA6Q,EAAE,GAAGjR,MAAM,CAACI,GAAP,GAAaJ,MAAM,CAACU,MAAzB;QACD,CALD,MAKO,IAAIhB,MAAM,KAAK,UAAf,EAA2B;UAChCqR,EAAE,GAAGjQ,gBAAgB,CAACpD,CAAtB;UACAuT,EAAE,GAAGF,EAAL;UACAD,EAAE,GAAG9Q,MAAM,CAACG,IAAZ;UACA6Q,EAAE,GAAGhR,MAAM,CAACG,IAAP,GAAcH,MAAM,CAACQ,KAA1B;QACD,CALM,MAKA,IAAI,CAAClM,MAAM,CAACwM,gBAAgB,CAACqB,EAAlB,CAAP,IAAgC,CAAC7N,MAAM,CAACwM,gBAAgB,CAACsB,EAAlB,CAA3C,EAAkE;UACvE,IAAI1C,MAAM,KAAK,SAAf,EAA0B;YACxB,IAAIyC,EAAE,GAAGrB,gBAAgB,CAACqB,EAA1B;YAAA,IACIC,EAAE,GAAGtB,gBAAgB,CAACsB,EAD1B;YAAA,IAEI4C,WAAW,GAAGlE,gBAAgB,CAACkE,WAFnC;YAAA,IAGIC,WAAW,GAAGnE,gBAAgB,CAACmE,WAHnC;YAAA,IAIIsI,KAAK,GAAGzM,gBAAgB,CAACyM,KAJ7B;YAKA,IAAI2D,UAAU,GAAGjU,gBAAgB,CAACkF,EAAD,EAAKC,EAAL,EAAS4C,WAAT,EAAsBuI,KAAtB,CAAjC;YACA,IAAI4D,UAAU,GAAGlU,gBAAgB,CAACkF,EAAD,EAAKC,EAAL,EAAS6C,WAAT,EAAsBsI,KAAtB,CAAjC;YACAuD,EAAE,GAAGI,UAAU,CAACzT,CAAhB;YACAsT,EAAE,GAAGG,UAAU,CAACxT,CAAhB;YACAsT,EAAE,GAAGG,UAAU,CAAC1T,CAAhB;YACAwT,EAAE,GAAGE,UAAU,CAACzT,CAAhB;UACD,CAZD,MAYO;YACL,IAAI0T,GAAG,GAAGtQ,gBAAgB,CAACqB,EAA3B;YAAA,IACIkP,GAAG,GAAGvQ,gBAAgB,CAACsB,EAD3B;YAAA,IAEIyC,MAAM,GAAG/D,gBAAgB,CAAC+D,MAF9B;YAAA,IAGIC,UAAU,GAAGhE,gBAAgB,CAACgE,UAHlC;YAAA,IAIIC,QAAQ,GAAGjE,gBAAgB,CAACiE,QAJhC;YAKA,IAAIuM,UAAU,GAAGrU,gBAAgB,CAACmU,GAAD,EAAMC,GAAN,EAAWxM,MAAX,EAAmBC,UAAnB,CAAjC;YACA,IAAIyM,QAAQ,GAAGtU,gBAAgB,CAACmU,GAAD,EAAMC,GAAN,EAAWxM,MAAX,EAAmBE,QAAnB,CAA/B;YACA,OAAO;cACLG,MAAM,EAAE,CAACoM,UAAD,EAAaC,QAAb,CADH;cAELpP,EAAE,EAAEiP,GAFC;cAGLhP,EAAE,EAAEiP,GAHC;cAILxM,MAAM,EAAEA,MAJH;cAKLC,UAAU,EAAEA,UALP;cAMLC,QAAQ,EAAEA;YANL,CAAP;UAQD;QACF;;QAED,OAAO,CAAC;UACNtH,CAAC,EAAEqT,EADG;UAENpT,CAAC,EAAEqT;QAFG,CAAD,EAGJ;UACDtT,CAAC,EAAEuT,EADF;UAEDtT,CAAC,EAAEuT;QAFF,CAHI,CAAP;MAOD;IA1DA,CA1kBmC,EAqoBnC;MACD/b,GAAG,EAAE,qBADJ;MAED2C,KAAK,EAAE,SAASuW,mBAAT,CAA6BlB,QAA7B,EAAuC;QAC5C,IAAIxN,MAAM,GAAG,KAAKtH,KAAL,CAAWsH,MAAxB;;QAEA,IAAIA,MAAM,KAAK,YAAf,EAA6B;UAC3B,OAAOwN,QAAQ,CAACzP,CAAhB;QACD;;QAED,IAAIiC,MAAM,KAAK,UAAf,EAA2B;UACzB,OAAOwN,QAAQ,CAACxP,CAAhB;QACD;;QAED,IAAIgC,MAAM,KAAK,SAAf,EAA0B;UACxB,OAAOwN,QAAQ,CAACK,KAAhB;QACD;;QAED,OAAOL,QAAQ,CAACrI,MAAhB;MACD;IAlBA,CAroBmC,EAwpBnC;MACD3P,GAAG,EAAE,SADJ;MAED2C,KAAK,EAAE,SAAS8V,OAAT,CAAiBlQ,CAAjB,EAAoBC,CAApB,EAAuB;QAC5B,IAAIgC,MAAM,GAAG,KAAKtH,KAAL,CAAWsH,MAAxB;;QAEA,IAAIA,MAAM,KAAK,YAAX,IAA2BA,MAAM,KAAK,UAA1C,EAAsD;UACpD,IAAIM,MAAM,GAAG,KAAKlB,KAAL,CAAWkB,MAAxB;UACA,IAAIwR,SAAS,GAAG/T,CAAC,IAAIuC,MAAM,CAACG,IAAZ,IAAoB1C,CAAC,IAAIuC,MAAM,CAACG,IAAP,GAAcH,MAAM,CAACQ,KAA9C,IAAuD9C,CAAC,IAAIsC,MAAM,CAACI,GAAnE,IAA0E1C,CAAC,IAAIsC,MAAM,CAACI,GAAP,GAAaJ,MAAM,CAACU,MAAnH;UACA,OAAO8Q,SAAS,GAAG;YACjB/T,CAAC,EAAEA,CADc;YAEjBC,CAAC,EAAEA;UAFc,CAAH,GAGZ,IAHJ;QAID;;QAED,IAAI+T,aAAa,GAAG,KAAK3S,KAAzB;QAAA,IACIqI,YAAY,GAAGsK,aAAa,CAACtK,YADjC;QAAA,IAEID,aAAa,GAAGuK,aAAa,CAACvK,aAFlC;;QAIA,IAAIC,YAAY,IAAID,aAApB,EAAmC;UACjC,IAAIG,SAAS,GAAG/L,qBAAqB,CAAC6L,YAAD,CAArC;UACA,OAAOnK,eAAe,CAAC;YACrBS,CAAC,EAAEA,CADkB;YAErBC,CAAC,EAAEA;UAFkB,CAAD,EAGnB2J,SAHmB,CAAtB;QAID;;QAED,OAAO,IAAP;MACD;IA3BA,CAxpBmC,EAorBnC;MACDnS,GAAG,EAAE,sBADJ;MAED2C,KAAK,EAAE,SAAS6Z,oBAAT,GAAgC;QACrC,IAAI/I,QAAQ,GAAG,KAAKvQ,KAAL,CAAWuQ,QAA1B;QACA,IAAIC,WAAW,GAAGnO,eAAe,CAACkO,QAAD,EAAW1O,OAAX,CAAjC;QACA,IAAI0X,aAAa,GAAG/I,WAAW,IAAI5K,SAAS,KAAK,MAA7B,GAAsC;UACxDuD,YAAY,EAAE,KAAKF,gBADqC;UAExDQ,WAAW,EAAE,KAAKS,eAFsC;UAGxDG,YAAY,EAAE,KAAKD,gBAHqC;UAIxDoP,WAAW,EAAE,KAAKzO,eAJsC;UAKxD0O,YAAY,EAAE,KAAKxO,gBALqC;UAMxDyO,UAAU,EAAE,KAAKxO;QANuC,CAAtC,GAOhB,EAPJ;QAQA,IAAIyO,WAAW,GAAG9W,qBAAqB,CAAC,KAAK7C,KAAN,EAAa,KAAKsK,gBAAlB,CAAvC;QACA,OAAOnL,aAAa,CAAC,EAAD,EAAKwa,WAAL,EAAkB,EAAlB,EAAsBJ,aAAtB,CAApB;MACD;MACD;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;IA5BO,CAprBmC,EAktBnC;MACDzc,GAAG,EAAE,2CADJ;MAED2C,KAAK,EAAE,SAASsH,yCAAT,CAAmD6S,KAAnD,EAA0D;QAC/D,IAAIC,MAAM,GAAG,IAAb;;QAEA,IAAI7Z,KAAK,GAAG4Z,KAAK,CAAC5Z,KAAlB;QAAA,IACI2G,cAAc,GAAGiT,KAAK,CAACjT,cAD3B;QAAA,IAEIC,YAAY,GAAGgT,KAAK,CAAChT,YAFzB;QAAA,IAGIC,QAAQ,GAAG+S,KAAK,CAAC/S,QAHrB;;QAKA,IAAI,CAACpE,mBAAmB,CAAC;UACvBzC,KAAK,EAAEA;QADgB,CAAD,CAAxB,EAEI;UACF,OAAO,IAAP;QACD;;QAED,IAAIuQ,QAAQ,GAAGvQ,KAAK,CAACuQ,QAArB;QAAA,IACIjJ,MAAM,GAAGtH,KAAK,CAACsH,MADnB;QAAA,IAEI8K,WAAW,GAAGpS,KAAK,CAACoS,WAFxB;QAAA,IAGIjL,IAAI,GAAGnH,KAAK,CAACmH,IAHjB;QAAA,IAII2S,iBAAiB,GAAG9Z,KAAK,CAAC8Z,iBAJ9B;;QAMA,IAAIC,sBAAsB,GAAG,KAAKxd,WAAL,CAAiB0a,mBAAjB,CAAqC3P,MAArC,CAA7B;QAAA,IACI4P,eAAe,GAAG6C,sBAAsB,CAAC7C,eAD7C;QAAA,IAEIC,YAAY,GAAG4C,sBAAsB,CAAC5C,YAF1C;;QAIA,IAAIpE,cAAc,GAAG3Q,aAAa,CAACmO,QAAD,EAAW7K,cAAX,CAAlC;QACA,IAAIsN,WAAW,GAAG7O,sBAAsB,CAACgD,IAAD,EAAO4L,cAAP,EAAuB,GAAGtF,MAAH,CAAUyJ,eAAV,EAA2B,IAA3B,CAAvB,EAAyD,GAAGzJ,MAAH,CAAU0J,YAAV,EAAwB,IAAxB,CAAzD,EAAwF/E,WAAxF,EAAqG0H,iBAArG,CAAxC;QACA,IAAIjM,OAAO,GAAGhI,cAAc,CAAC4N,MAAf,CAAsB,UAAUC,MAAV,EAAkBtE,KAAlB,EAAyB;UAC3D,IAAI+G,IAAI,GAAG,GAAG1I,MAAH,CAAU2B,KAAK,CAAC7B,QAAhB,EAA0B,KAA1B,CAAX;UACA,OAAOpO,aAAa,CAAC,EAAD,EAAKuU,MAAL,EAAarU,eAAe,CAAC,EAAD,EAAK8W,IAAL,EAAW0D,MAAM,CAAClH,UAAP,CAAkB3S,KAAlB,EAAyBb,aAAa,CAAC,EAAD,EAAKiQ,KAAL,EAAY;YAC3G2D,cAAc,EAAEA,cAD2F;YAE3GC,WAAW,EAAE5D,KAAK,CAAC7B,QAAN,KAAmB2J,eAAnB,IAAsClE,WAFwD;YAG3GrM,cAAc,EAAEA,cAH2F;YAI3GC,YAAY,EAAEA;UAJ6F,CAAZ,CAAtC,CAAX,CAA5B,CAApB;QAMD,CARa,EAQX,EARW,CAAd;QASA,IAAIgB,MAAM,GAAG,KAAKoS,eAAL,CAAqB7a,aAAa,CAAC,EAAD,EAAK0O,OAAL,EAAc;UAC3D7N,KAAK,EAAEA,KADoD;UAE3D+S,cAAc,EAAEA;QAF2C,CAAd,CAAlC,CAAb;QAIA/V,MAAM,CAACQ,IAAP,CAAYqQ,OAAZ,EAAqBzO,OAArB,CAA6B,UAAUtC,GAAV,EAAe;UAC1C+Q,OAAO,CAAC/Q,GAAD,CAAP,GAAeiJ,aAAa,CAAC/F,KAAD,EAAQ6N,OAAO,CAAC/Q,GAAD,CAAf,EAAsB8K,MAAtB,EAA8B9K,GAAG,CAACmd,OAAJ,CAAY,KAAZ,EAAmB,EAAnB,CAA9B,EAAsDxU,SAAtD,CAA5B;QACD,CAFD;QAGA,IAAIyU,WAAW,GAAGrM,OAAO,CAAC,GAAGJ,MAAH,CAAU0J,YAAV,EAAwB,KAAxB,CAAD,CAAzB;QACA,IAAIgD,QAAQ,GAAG,KAAKxO,qBAAL,CAA2BuO,WAA3B,CAAf;QACA,IAAIE,sBAAsB,GAAG,KAAK5D,cAAL,CAAoBxW,KAApB,EAA2Bb,aAAa,CAAC,EAAD,EAAK0O,OAAL,EAAc;UACjFlH,cAAc,EAAEA,cADiE;UAEjFC,YAAY,EAAEA,YAFmE;UAGjFC,QAAQ,EAAEA,QAHuE;UAIjFkM,cAAc,EAAEA,cAJiE;UAKjFC,WAAW,EAAEA,WALoE;UAMjFpL,MAAM,EAAEA;QANyE,CAAd,CAAxC,CAA7B;QAQA,OAAOzI,aAAa,CAAC;UACnBib,sBAAsB,EAAEA,sBADL;UAEnBrH,cAAc,EAAEA,cAFG;UAGnBnL,MAAM,EAAEA,MAHW;UAInBoL,WAAW,EAAEA;QAJM,CAAD,EAKjBmH,QALiB,EAKP,EALO,EAKHtM,OALG,CAApB;MAMD;MACD;;IA7DC,CAltBmC,EAixBnC;MACD/Q,GAAG,EAAE,aADJ;MAED2C,KAAK,EAAE,SAASsS,WAAT,GAAuB;QAC5BhN,WAAW,CAACsV,EAAZ,CAAerV,UAAf,EAA2B,KAAKgC,sBAAhC;;QAEA,IAAIjC,WAAW,CAACuV,eAAZ,IAA+BvV,WAAW,CAACwV,aAA/C,EAA8D;UAC5DxV,WAAW,CAACuV,eAAZ,CAA4BvV,WAAW,CAACwV,aAAZ,GAA4B,CAAxD;QACD;MACF;IARA,CAjxBmC,EA0xBnC;MACDzd,GAAG,EAAE,gBADJ;MAED2C,KAAK,EAAE,SAAS+S,cAAT,GAA0B;QAC/BzN,WAAW,CAACyN,cAAZ,CAA2BxN,UAA3B,EAAuC,KAAKgC,sBAA5C;;QAEA,IAAIjC,WAAW,CAACuV,eAAZ,IAA+BvV,WAAW,CAACwV,aAA/C,EAA8D;UAC5DxV,WAAW,CAACuV,eAAZ,CAA4BvV,WAAW,CAACwV,aAAZ,GAA4B,CAAxD;QACD;MACF;MACD;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;IAhBO,CA1xBmC,EA4yBnC;MACDzd,GAAG,EAAE,iBADJ;MAED2C,KAAK,EAAE,SAASua,eAAT,CAAyBQ,KAAzB,EAAgC;QACrC,IAAIxa,KAAK,GAAGwa,KAAK,CAACxa,KAAlB;QAAA,IACI+S,cAAc,GAAGyH,KAAK,CAACzH,cAD3B;QAAA,IAEI0H,cAAc,GAAGD,KAAK,CAAC5M,QAF3B;QAAA,IAGIA,QAAQ,GAAG6M,cAAc,KAAK,KAAK,CAAxB,GAA4B,EAA5B,GAAiCA,cAHhD;QAAA,IAIIC,cAAc,GAAGF,KAAK,CAACvM,QAJ3B;QAAA,IAKIA,QAAQ,GAAGyM,cAAc,KAAK,KAAK,CAAxB,GAA4B,EAA5B,GAAiCA,cALhD;QAMA,IAAItS,KAAK,GAAGpI,KAAK,CAACoI,KAAlB;QAAA,IACIE,MAAM,GAAGtI,KAAK,CAACsI,MADnB;QAAA,IAEIiI,QAAQ,GAAGvQ,KAAK,CAACuQ,QAFrB;QAGA,IAAIf,MAAM,GAAGxP,KAAK,CAACwP,MAAN,IAAgB,EAA7B;QACA,IAAImL,SAAS,GAAGtY,eAAe,CAACkO,QAAD,EAAWxN,KAAX,CAA/B;QACA,IAAI6X,UAAU,GAAGvY,eAAe,CAACkO,QAAD,EAAWzO,MAAX,CAAhC;QACA,IAAI+Y,OAAO,GAAG7d,MAAM,CAACQ,IAAP,CAAYyQ,QAAZ,EAAsBwF,MAAtB,CAA6B,UAAUC,MAAV,EAAkB9B,EAAlB,EAAsB;UAC/D,IAAIxC,KAAK,GAAGnB,QAAQ,CAAC2D,EAAD,CAApB;UACA,IAAI+C,WAAW,GAAGvF,KAAK,CAACuF,WAAxB;;UAEA,IAAI,CAACvF,KAAK,CAAC0L,MAAP,IAAiB,CAAC1L,KAAK,CAAC0B,IAA5B,EAAkC;YAChC,OAAO3R,aAAa,CAAC,EAAD,EAAKuU,MAAL,EAAarU,eAAe,CAAC,EAAD,EAAKsV,WAAL,EAAkBjB,MAAM,CAACiB,WAAD,CAAN,GAAsBvF,KAAK,CAAChH,KAA9C,CAA5B,CAApB;UACD;;UAED,OAAOsL,MAAP;QACD,CATa,EASX;UACD3L,IAAI,EAAEyH,MAAM,CAACzH,IAAP,IAAe,CADpB;UAEDgT,KAAK,EAAEvL,MAAM,CAACuL,KAAP,IAAgB;QAFtB,CATW,CAAd;QAaA,IAAIC,OAAO,GAAGhe,MAAM,CAACQ,IAAP,CAAYoQ,QAAZ,EAAsB6F,MAAtB,CAA6B,UAAUC,MAAV,EAAkB9B,EAAlB,EAAsB;UAC/D,IAAIxC,KAAK,GAAGxB,QAAQ,CAACgE,EAAD,CAApB;UACA,IAAI+C,WAAW,GAAGvF,KAAK,CAACuF,WAAxB;;UAEA,IAAI,CAACvF,KAAK,CAAC0L,MAAP,IAAiB,CAAC1L,KAAK,CAAC0B,IAA5B,EAAkC;YAChC,OAAO3R,aAAa,CAAC,EAAD,EAAKuU,MAAL,EAAarU,eAAe,CAAC,EAAD,EAAKsV,WAAL,EAAkBjB,MAAM,CAACiB,WAAD,CAAN,GAAsBvF,KAAK,CAAC9G,MAA9C,CAA5B,CAApB;UACD;;UAED,OAAOoL,MAAP;QACD,CATa,EASX;UACD1L,GAAG,EAAEwH,MAAM,CAACxH,GAAP,IAAc,CADlB;UAED4H,MAAM,EAAEJ,MAAM,CAACI,MAAP,IAAiB;QAFxB,CATW,CAAd;;QAcA,IAAIhI,MAAM,GAAGzI,aAAa,CAAC,EAAD,EAAK6b,OAAL,EAAc,EAAd,EAAkBH,OAAlB,CAA1B;;QAEA,IAAIlL,WAAW,GAAG/H,MAAM,CAACgI,MAAzB;;QAEA,IAAI+K,SAAJ,EAAe;UACb/S,MAAM,CAACgI,MAAP,IAAiB+K,SAAS,CAAC3a,KAAV,CAAgBsI,MAAhB,IAA0BvF,KAAK,CAACiD,YAAN,CAAmBsC,MAA9D;QACD;;QAED,IAAIsS,UAAU,IAAI,KAAKpU,cAAvB,EAAuC;UACrC,IAAIyU,SAAS,GAAG,KAAKzU,cAAL,CAAoB0U,OAApB,EAAhB;UACAtT,MAAM,GAAGjE,oBAAoB,CAACiE,MAAD,EAASmL,cAAT,EAAyB/S,KAAzB,EAAgCib,SAAhC,CAA7B;QACD;;QAED,OAAO9b,aAAa,CAAC;UACnBwQ,WAAW,EAAEA;QADM,CAAD,EAEjB/H,MAFiB,EAET;UACTQ,KAAK,EAAEA,KAAK,GAAGR,MAAM,CAACG,IAAf,GAAsBH,MAAM,CAACmT,KAD3B;UAETzS,MAAM,EAAEA,MAAM,GAAGV,MAAM,CAACI,GAAhB,GAAsBJ,MAAM,CAACgI;QAF5B,CAFS,CAApB;MAMD;IA7DA,CA5yBmC,EA02BnC;MACD9S,GAAG,EAAE,kBADJ;MAED2C,KAAK,EAAE,SAASuJ,gBAAT,CAA0B7B,IAA1B,EAAgC;QACrC,IAAIE,MAAM,GAAG,KAAKrH,KAAL,CAAWqH,MAAxB;;QAEA,IAAI,CAACnL,MAAM,CAACmL,MAAD,CAAX,EAAqB;UACnBtC,WAAW,CAACoW,IAAZ,CAAiBnW,UAAjB,EAA6BqC,MAA7B,EAAqC,KAAKE,aAA1C,EAAyDJ,IAAzD;QACD;MACF;IARA,CA12BmC,EAm3BnC;MACDrK,GAAG,EAAE,kBADJ;MAED2C,KAAK,EAAE,SAAS2Q,gBAAT,CAA0BD,IAA1B,EAAgC9C,WAAhC,EAA6CkE,UAA7C,EAAyD;QAC9D,IAAI6I,sBAAsB,GAAG,KAAK1T,KAAL,CAAW0T,sBAAxC;;QAEA,KAAK,IAAIrd,CAAC,GAAG,CAAR,EAAWmX,GAAG,GAAGkG,sBAAsB,CAACjd,MAA7C,EAAqDJ,CAAC,GAAGmX,GAAzD,EAA8DnX,CAAC,EAA/D,EAAmE;UACjE,IAAIqS,KAAK,GAAGgL,sBAAsB,CAACrd,CAAD,CAAlC;;UAEA,IAAIqS,KAAK,CAACe,IAAN,KAAeA,IAAf,IAAuBf,KAAK,CAACpP,KAAN,CAAYlD,GAAZ,KAAoBqT,IAAI,CAACrT,GAAhD,IAAuDuQ,WAAW,KAAK/K,cAAc,CAAC8M,KAAK,CAACe,IAAN,CAAW3C,IAAZ,CAA9B,IAAmD+D,UAAU,KAAKnC,KAAK,CAACmC,UAAnI,EAA+I;YAC7I,OAAOnC,KAAP;UACD;QACF;;QAED,OAAO,IAAP;MACD;IAdA,CAn3BmC,EAk4BnC;MACDtS,GAAG,EAAE,YADJ;;MAGD;AACN;AACA;AACA;AACA;AACA;AACA;AACA;MACM2C,KAAK,EAAE,SAASsO,UAAT,CAAoBqN,WAApB,EAAiCnP,OAAjC,EAA0CoB,WAA1C,EAAuDC,KAAvD,EAA8D;QACnE,IAAI+N,YAAY,GAAG,KAAKrb,KAAxB;QAAA,IACIoI,KAAK,GAAGiT,YAAY,CAACjT,KADzB;QAAA,IAEIE,MAAM,GAAG+S,YAAY,CAAC/S,MAF1B;QAGA,OAAOlH,KAAK,CAACI,aAAN,CAAoBsB,aAApB,EAAmCrF,QAAQ,CAAC,EAAD,EAAK2d,WAAL,EAAkB;UAClEjO,SAAS,EAAE,YAAYM,MAAZ,CAAmB2N,WAAW,CAAC7N,QAA/B,EAAyC,GAAzC,EAA8CE,MAA9C,CAAqD2N,WAAW,CAAC7N,QAAjE,CADuD;UAElEzQ,GAAG,EAAEmP,OAAO,CAACnP,GAAR,IAAe,GAAG2Q,MAAH,CAAUJ,WAAV,EAAuB,GAAvB,EAA4BI,MAA5B,CAAmCH,KAAnC,CAF8C;UAGlExF,OAAO,EAAE;YACPzC,CAAC,EAAE,CADI;YAEPC,CAAC,EAAE,CAFI;YAGP8C,KAAK,EAAEA,KAHA;YAIPE,MAAM,EAAEA;UAJD,CAHyD;UASlEgT,cAAc,EAAE,KAAK7P;QAT6C,CAAlB,CAA3C,CAAP;MAWD;MACD;AACN;AACA;AACA;AACA;;IA/BO,CAl4BmC,EAm6BnC;MACD3O,GAAG,EAAE,cADJ;;MAGD;AACN;AACA;AACA;MACM2C,KAAK,EAAE,SAAS8b,YAAT,GAAwB;QAC7B,IAAIC,MAAM,GAAG,IAAb;;QAEA,IAAIpB,sBAAsB,GAAG,KAAK1T,KAAL,CAAW0T,sBAAxC;QACA,IAAIqB,YAAY,GAAG,KAAKzb,KAAxB;QAAA,IACIuQ,QAAQ,GAAGkL,YAAY,CAAClL,QAD5B;QAAA,IAEInI,KAAK,GAAGqT,YAAY,CAACrT,KAFzB;QAAA,IAGIE,MAAM,GAAGmT,YAAY,CAACnT,MAH1B;QAIA,IAAIkH,MAAM,GAAG,KAAKxP,KAAL,CAAWwP,MAAX,IAAqB,EAAlC;QACA,IAAIkM,WAAW,GAAGtT,KAAK,IAAIoH,MAAM,CAACzH,IAAP,IAAe,CAAnB,CAAL,IAA8ByH,MAAM,CAACuL,KAAP,IAAgB,CAA9C,CAAlB;QACA,IAAIY,YAAY,GAAGrT,MAAM,IAAIkH,MAAM,CAACxH,GAAP,IAAc,CAAlB,CAAN,IAA8BwH,MAAM,CAACI,MAAP,IAAiB,CAA/C,CAAnB;QACA,IAAI5P,KAAK,GAAG4D,cAAc,CAAC;UACzB2M,QAAQ,EAAEA,QADe;UAEzB6J,sBAAsB,EAAEA,sBAFC;UAGzBsB,WAAW,EAAEA,WAHY;UAIzBC,YAAY,EAAEA,YAJW;UAKzB7V,aAAa,EAAEA;QALU,CAAD,CAA1B;;QAQA,IAAI,CAAC9F,KAAL,EAAY;UACV,OAAO,IAAP;QACD;;QAED,IAAImQ,IAAI,GAAGnQ,KAAK,CAACmQ,IAAjB;QAAA,IACIyL,UAAU,GAAGnf,wBAAwB,CAACuD,KAAD,EAAQ,CAAC,MAAD,CAAR,CADzC;;QAGA,OAAOsB,YAAY,CAAC6O,IAAD,EAAOhR,aAAa,CAAC,EAAD,EAAKyc,UAAL,EAAiB;UACtDlN,UAAU,EAAEtG,KAD0C;UAEtDuG,WAAW,EAAErG,MAFyC;UAGtDkH,MAAM,EAAEA,MAH8C;UAItDqM,GAAG,EAAE,SAASA,GAAT,CAAaC,MAAb,EAAqB;YACxBN,MAAM,CAAChV,cAAP,GAAwBsV,MAAxB;UACD,CANqD;UAOtDC,YAAY,EAAE,KAAKzV;QAPmC,CAAjB,CAApB,CAAnB;MASD;MACD;AACN;AACA;AACA;;IA9CO,CAn6BmC,EAm9BnC;MACDxJ,GAAG,EAAE,eADJ;MAED2C,KAAK,EAAE,SAASuc,aAAT,GAAyB;QAC9B,IAAIzL,QAAQ,GAAG,KAAKvQ,KAAL,CAAWuQ,QAA1B;QACA,IAAIC,WAAW,GAAGnO,eAAe,CAACkO,QAAD,EAAW1O,OAAX,CAAjC;;QAEA,IAAI,CAAC2O,WAAL,EAAkB;UAChB,OAAO,IAAP;QACD;;QAED,IAAIyL,aAAa,GAAG,KAAKvV,KAAzB;QAAA,IACI6C,eAAe,GAAG0S,aAAa,CAAC1S,eADpC;QAAA,IAEIb,gBAAgB,GAAGuT,aAAa,CAACvT,gBAFrC;QAAA,IAGIF,aAAa,GAAGyT,aAAa,CAACzT,aAHlC;QAAA,IAIID,WAAW,GAAG0T,aAAa,CAAC1T,WAJhC;QAAA,IAKIX,MAAM,GAAGqU,aAAa,CAACrU,MAL3B;QAMA,OAAOtG,YAAY,CAACkP,WAAD,EAAc;UAC/B1I,OAAO,EAAE3I,aAAa,CAAC,EAAD,EAAKyI,MAAL,EAAa;YACjCvC,CAAC,EAAEuC,MAAM,CAACG,IADuB;YAEjCzC,CAAC,EAAEsC,MAAM,CAACI;UAFuB,CAAb,CADS;UAK/BkU,MAAM,EAAE3S,eALuB;UAM/B4S,KAAK,EAAE5T,WANwB;UAO/B2E,OAAO,EAAE3D,eAAe,GAAGf,aAAH,GAAmB,EAPZ;UAQ/BG,UAAU,EAAED;QARmB,CAAd,CAAnB;MAUD;IA1BA,CAn9BmC,EA8+BnC;MACD5L,GAAG,EAAE,oBADJ;MAED2C,KAAK,EAAE,SAAS6R,kBAAT,CAA4B8K,MAA5B,EAAoC;QACzC,IAAIjM,IAAI,GAAGiM,MAAM,CAACjM,IAAlB;QAAA,IACIe,WAAW,GAAGkL,MAAM,CAAClL,WADzB;QAAA,IAEIC,SAAS,GAAGiL,MAAM,CAACjL,SAFvB;QAAA,IAGII,UAAU,GAAG6K,MAAM,CAAC7K,UAHxB;QAAA,IAIIb,OAAO,GAAG0L,MAAM,CAAC1L,OAJrB;QAKA,IAAIgD,MAAM,GAAG,EAAb;QACA,IAAI5W,GAAG,GAAGqT,IAAI,CAACnQ,KAAL,CAAWlD,GAArB;QACA,IAAIuf,iBAAiB,GAAGlM,IAAI,CAACA,IAAL,CAAUnQ,KAAlC;QAAA,IACI6Q,SAAS,GAAGwL,iBAAiB,CAACxL,SADlC;QAAA,IAEII,OAAO,GAAGoL,iBAAiB,CAACpL,OAFhC;;QAIA,IAAIqL,QAAQ,GAAGnd,aAAa,CAAC;UAC3BmO,KAAK,EAAEiE,UADoB;UAE3BN,OAAO,EAAEA,OAFkB;UAG3BlH,EAAE,EAAEmH,WAAW,CAAC7L,CAHW;UAI3B2E,EAAE,EAAEkH,WAAW,CAAC5L,CAJW;UAK3BiX,CAAC,EAAE,CALwB;UAM3B/D,IAAI,EAAEhV,yBAAyB,CAAC2M,IAAI,CAACA,IAAN,CANJ;UAO3BqM,WAAW,EAAE,CAPc;UAQ3BxP,MAAM,EAAE,MARmB;UAS3BE,OAAO,EAAEgE,WAAW,CAAChE,OATM;UAU3BzN,KAAK,EAAEyR,WAAW,CAACzR,KAVQ;UAW3B3C,GAAG,EAAE,GAAG2Q,MAAH,CAAU3Q,GAAV,EAAe,eAAf,EAAgC2Q,MAAhC,CAAuC8D,UAAvC;QAXsB,CAAD,EAYzB/O,yBAAyB,CAACqO,SAAD,CAZA,EAYa,EAZb,EAYiBhO,qBAAqB,CAACgO,SAAD,CAZtC,CAA5B;;QAcA6C,MAAM,CAACxU,IAAP,CAAY,KAAK3C,WAAL,CAAiBkgB,eAAjB,CAAiC5L,SAAjC,EAA4CyL,QAA5C,EAAsD/K,UAAtD,CAAZ;;QAEA,IAAIJ,SAAJ,EAAe;UACbuC,MAAM,CAACxU,IAAP,CAAY,KAAK3C,WAAL,CAAiBkgB,eAAjB,CAAiC5L,SAAjC,EAA4C1R,aAAa,CAAC,EAAD,EAAKmd,QAAL,EAAe;YAClFvS,EAAE,EAAEoH,SAAS,CAAC9L,CADoE;YAElF2E,EAAE,EAAEmH,SAAS,CAAC7L,CAFoE;YAGlFxI,GAAG,EAAE,GAAG2Q,MAAH,CAAU3Q,GAAV,EAAe,aAAf,EAA8B2Q,MAA9B,CAAqC8D,UAArC;UAH6E,CAAf,CAAzD,EAIRA,UAJQ,CAAZ;QAKD,CAND,MAMO,IAAIb,OAAJ,EAAa;UAClBgD,MAAM,CAACxU,IAAP,CAAY,IAAZ;QACD;;QAED,OAAOwU,MAAP;MACD;IAzCA,CA9+BmC,EAwhCnC;MACD5W,GAAG,EAAE,gBADJ;MAED2C,KAAK,EAAE,SAASid,cAAT,GAA0B;QAC/B,IAAI3M,UAAU,GAAG,KAAKA,UAAtB;QACA,IAAI4M,kBAAkB,GAAG,KAAKjW,KAAL,CAAWkB,MAApC;QAAA,IACIG,IAAI,GAAG4U,kBAAkB,CAAC5U,IAD9B;QAAA,IAEIC,GAAG,GAAG2U,kBAAkB,CAAC3U,GAF7B;QAAA,IAGIM,MAAM,GAAGqU,kBAAkB,CAACrU,MAHhC;QAAA,IAIIF,KAAK,GAAGuU,kBAAkB,CAACvU,KAJ/B;QAKA,OAAOhH,KAAK,CAACI,aAAN,CAAoB,MAApB,EAA4B,IAA5B,EAAkCJ,KAAK,CAACI,aAAN,CAAoB,UAApB,EAAgC;UACvEoQ,EAAE,EAAE7B;QADmE,CAAhC,EAEtC3O,KAAK,CAACI,aAAN,CAAoB,MAApB,EAA4B;UAC7B6D,CAAC,EAAE0C,IAD0B;UAE7BzC,CAAC,EAAE0C,GAF0B;UAG7BM,MAAM,EAAEA,MAHqB;UAI7BF,KAAK,EAAEA;QAJsB,CAA5B,CAFsC,CAAlC,CAAP;MAQD;IAjBA,CAxhCmC,EA0iCnC;MACDtL,GAAG,EAAE,QADJ;MAED2C,KAAK,EAAE,SAASmd,MAAT,GAAkB;QACvB,IAAIC,MAAM,GAAG,IAAb;;QAEA,IAAI,CAACpa,mBAAmB,CAAC,IAAD,CAAxB,EAAgC;UAC9B,OAAO,IAAP;QACD;;QAED,IAAIqa,YAAY,GAAG,KAAK9c,KAAxB;QAAA,IACIuQ,QAAQ,GAAGuM,YAAY,CAACvM,QAD5B;QAAA,IAEIpD,SAAS,GAAG2P,YAAY,CAAC3P,SAF7B;QAAA,IAGI/E,KAAK,GAAG0U,YAAY,CAAC1U,KAHzB;QAAA,IAIIE,MAAM,GAAGwU,YAAY,CAACxU,MAJ1B;QAAA,IAKIyU,KAAK,GAAGD,YAAY,CAACC,KALzB;QAAA,IAMIC,OAAO,GAAGF,YAAY,CAACE,OAN3B;QAAA,IAOIC,MAAM,GAAGxgB,wBAAwB,CAACqgB,YAAD,EAAe,CAAC,UAAD,EAAa,WAAb,EAA0B,OAA1B,EAAmC,QAAnC,EAA6C,OAA7C,EAAsD,SAAtD,CAAf,CAPrC;;QASA,IAAII,KAAK,GAAG1a,yBAAyB,CAACya,MAAD,CAArC;QACA,IAAI9N,GAAG,GAAG;UACRgO,aAAa,EAAE;YACb3S,OAAO,EAAE,KAAK2D,UADD;YAEbiP,IAAI,EAAE;UAFO,CADP;UAKRC,aAAa,EAAE;YACb7S,OAAO,EAAE,KAAKqF;UADD,CALP;UAQRyN,aAAa,EAAE;YACb9S,OAAO,EAAE,KAAKqF;UADD,CARP;UAWR0N,YAAY,EAAE;YACZ/S,OAAO,EAAE,KAAKqF;UADF,CAXN;UAcR2N,KAAK,EAAE;YACLhT,OAAO,EAAE,KAAKmD;UADT,CAdC;UAiBR8P,KAAK,EAAE;YACLjT,OAAO,EAAE,KAAKwD;UADT,CAjBC;UAoBRjL,KAAK,EAAE;YACLyH,OAAO,EAAE,KAAK8E,WADT;YAEL8N,IAAI,EAAE;UAFD,CApBC;UAwBRM,GAAG,EAAE;YACHlT,OAAO,EAAE,KAAK0F;UADX,CAxBG;UA2BRyN,IAAI,EAAE;YACJnT,OAAO,EAAE,KAAK0F;UADV,CA3BE;UA8BR0N,IAAI,EAAE;YACJpT,OAAO,EAAE,KAAK0F;UADV,CA9BE;UAiCR2N,KAAK,EAAE;YACLrT,OAAO,EAAE,KAAK0F;UADT,CAjCC;UAoCR4N,SAAS,EAAE;YACTtT,OAAO,EAAE,KAAK0F;UADL,CApCH;UAuCR6N,OAAO,EAAE;YACPvT,OAAO,EAAE,KAAK0F;UADP,CAvCD;UA0CR8N,GAAG,EAAE;YACHxT,OAAO,EAAE,KAAK0F;UADX,CA1CG;UA6CR+N,MAAM,EAAE;YACNzT,OAAO,EAAE,KAAK0F;UADR,CA7CA;UAgDRrO,OAAO,EAAE;YACP2I,OAAO,EAAE,KAAKwB,YADP;YAEPoR,IAAI,EAAE;UAFC,CAhDD;UAoDRc,SAAS,EAAE;YACT1T,OAAO,EAAE,KAAKoE,eADL;YAETwO,IAAI,EAAE;UAFG,CApDH;UAwDRe,cAAc,EAAE;YACd3T,OAAO,EAAE,KAAK4C;UADA,CAxDR;UA2DRgR,eAAe,EAAE;YACf5T,OAAO,EAAE,KAAK4C;UADC,CA3DT;UA8DRiR,UAAU,EAAE;YACV7T,OAAO,EAAE,KAAKgH;UADJ;QA9DJ,CAAV,CAjBuB,CAkFpB;;QAEH,IAAIwL,OAAJ,EAAa;UACX,OAAO5b,KAAK,CAACI,aAAN,CAAoBG,OAApB,EAA6BlE,QAAQ,CAAC,EAAD,EAAKyf,KAAL,EAAY;YACtD9U,KAAK,EAAEA,KAD+C;YAEtDE,MAAM,EAAEA;UAF8C,CAAZ,CAArC,EAGH,KAAKoU,cAAL,EAHG,EAGoB/Z,aAAa,CAAC4N,QAAD,EAAWpB,GAAX,CAHjC,CAAP;QAID;;QAED,IAAImP,MAAM,GAAG,KAAKhF,oBAAL,EAAb;QACA,OAAOlY,KAAK,CAACI,aAAN,CAAoB,KAApB,EAA2B/D,QAAQ,CAAC;UACzC0P,SAAS,EAAEzL,UAAU,CAAC,kBAAD,EAAqByL,SAArB,CADoB;UAEzC4P,KAAK,EAAE5d,aAAa,CAAC;YACnBof,QAAQ,EAAE,UADS;YAEnBpS,MAAM,EAAE,SAFW;YAGnB/D,KAAK,EAAEA,KAHY;YAInBE,MAAM,EAAEA;UAJW,CAAD,EAKjByU,KALiB;QAFqB,CAAD,EAQvCuB,MARuC,EAQ/B;UACTzC,GAAG,EAAE,SAASA,GAAT,CAAa2C,IAAb,EAAmB;YACtB3B,MAAM,CAACxH,SAAP,GAAmBmJ,IAAnB;UACD;QAHQ,CAR+B,CAAnC,EAYHpd,KAAK,CAACI,aAAN,CAAoBG,OAApB,EAA6BlE,QAAQ,CAAC,EAAD,EAAKyf,KAAL,EAAY;UACnD9U,KAAK,EAAEA,KAD4C;UAEnDE,MAAM,EAAEA;QAF2C,CAAZ,CAArC,EAGA,KAAKoU,cAAL,EAHA,EAGuB/Z,aAAa,CAAC4N,QAAD,EAAWpB,GAAX,CAHpC,CAZG,EAemD,KAAKoM,YAAL,EAfnD,EAewE,KAAKS,aAAL,EAfxE,CAAP;MAgBD;IA9GA,CA1iCmC,CAA1B,EAypCR,CAAC;MACHlf,GAAG,EAAE,qBADF;MAEH2C,KAAK,EAAE,SAASwX,mBAAT,CAA6B3P,MAA7B,EAAqC;QAC1C,IAAIA,MAAM,KAAK,YAAf,EAA6B;UAC3B,OAAO;YACL4P,eAAe,EAAE,OADZ;YAELC,YAAY,EAAE;UAFT,CAAP;QAID;;QAED,IAAI7P,MAAM,KAAK,UAAf,EAA2B;UACzB,OAAO;YACL4P,eAAe,EAAE,OADZ;YAELC,YAAY,EAAE;UAFT,CAAP;QAID;;QAED,IAAI7P,MAAM,KAAK,SAAf,EAA0B;UACxB,OAAO;YACL4P,eAAe,EAAE,YADZ;YAELC,YAAY,EAAE;UAFT,CAAP;QAID;;QAED,OAAO;UACLD,eAAe,EAAE,WADZ;UAELC,YAAY,EAAE;QAFT,CAAP;MAID;IA5BE,CAAD,EA6BD;MACDra,GAAG,EAAE,iBADJ;MAED2C,KAAK,EAAE,SAASgd,eAAT,CAAyBgC,MAAzB,EAAiCze,KAAjC,EAAwC;QAC7C,IAAI0e,GAAJ;;QAEA,IAAInd,cAAc,CAACkd,MAAD,CAAlB,EAA4B;UAC1BC,GAAG,GAAGpd,YAAY,CAACmd,MAAD,EAASze,KAAT,CAAlB;QACD,CAFD,MAEO,IAAIjE,WAAW,CAAC0iB,MAAD,CAAf,EAAyB;UAC9BC,GAAG,GAAGD,MAAM,CAACze,KAAD,CAAZ;QACD,CAFM,MAEA;UACL0e,GAAG,GAAGtd,KAAK,CAACI,aAAN,CAAoBU,GAApB,EAAyBlC,KAAzB,CAAN;QACD;;QAED,OAAOoB,KAAK,CAACI,aAAN,CAAoBI,KAApB,EAA2B;UAChCuL,SAAS,EAAE,qBADqB;UAEhCrQ,GAAG,EAAEkD,KAAK,CAAClD;QAFqB,CAA3B,EAGJ4hB,GAHI,CAAP;MAID;IAjBA,CA7BC,CAzpCQ,CAAZ;;IA0sCA,OAAOxY,uBAAP;EACD,CAxxDD,CAwxDE7E,SAxxDF,CAFA;;EA4xDA6E,uBAAuB,CAACmH,WAAxB,GAAsC5H,SAAtC;EACAS,uBAAuB,CAACD,SAAxB,GAAoC9G,aAAa,CAAC;IAChDkI,MAAM,EAAE5F,SAAS,CAACkd,SAAV,CAAoB,CAACld,SAAS,CAACmd,MAAX,EAAmBnd,SAAS,CAACod,MAA7B,CAApB,CADwC;IAEhD7B,OAAO,EAAEvb,SAAS,CAACqd,IAF6B;IAGhD1W,KAAK,EAAE3G,SAAS,CAACod,MAH+B;IAIhDvW,MAAM,EAAE7G,SAAS,CAACod,MAJ8B;IAKhD1X,IAAI,EAAE1F,SAAS,CAACsd,OAAV,CAAkBtd,SAAS,CAAC9C,MAA5B,CAL0C;IAMhD2I,MAAM,EAAE7F,SAAS,CAACud,KAAV,CAAgB,CAAC,YAAD,EAAe,UAAf,CAAhB,CANwC;IAOhD5M,WAAW,EAAE3Q,SAAS,CAACud,KAAV,CAAgB,CAAC,MAAD,EAAS,QAAT,EAAmB,MAAnB,EAA2B,QAA3B,EAAqC,YAArC,CAAhB,CAPmC;IAQhDnN,aAAa,EAAEpQ,SAAS,CAACod,MARuB;IAShDrP,MAAM,EAAE/N,SAAS,CAACwd,KAAV,CAAgB;MACtBjX,GAAG,EAAEvG,SAAS,CAACod,MADO;MAEtB9D,KAAK,EAAEtZ,SAAS,CAACod,MAFK;MAGtBjP,MAAM,EAAEnO,SAAS,CAACod,MAHI;MAItB9W,IAAI,EAAEtG,SAAS,CAACod;IAJM,CAAhB,CATwC;IAehDhI,cAAc,EAAEpV,SAAS,CAACkd,SAAV,CAAoB,CAACld,SAAS,CAACod,MAAX,EAAmBpd,SAAS,CAACmd,MAA7B,CAApB,CAfgC;IAgBhDhI,MAAM,EAAEnV,SAAS,CAACkd,SAAV,CAAoB,CAACld,SAAS,CAACod,MAAX,EAAmBpd,SAAS,CAACmd,MAA7B,CAApB,CAhBwC;IAiBhDjI,OAAO,EAAElV,SAAS,CAACkd,SAAV,CAAoB,CAACld,SAAS,CAACod,MAAX,EAAmBpd,SAAS,CAACmd,MAA7B,CAApB,CAjBuC;IAkBhD7H,UAAU,EAAEtV,SAAS,CAACod,MAlB0B;IAmBhD9B,KAAK,EAAEtb,SAAS,CAAC9C,MAnB+B;IAoBhDwO,SAAS,EAAE1L,SAAS,CAACmd,MApB2B;IAqBhDrO,QAAQ,EAAE9O,SAAS,CAACkd,SAAV,CAAoB,CAACld,SAAS,CAACsd,OAAV,CAAkBtd,SAAS,CAAC+c,IAA5B,CAAD,EAAoC/c,SAAS,CAAC+c,IAA9C,CAApB,CArBsC;IAsBhDU,kBAAkB,EAAEzd,SAAS,CAACqd,IAtBkB;IAuBhDpU,OAAO,EAAEjJ,SAAS,CAAC0d,IAvB6B;IAwBhD9U,YAAY,EAAE5I,SAAS,CAAC0d,IAxBwB;IAyBhDhW,YAAY,EAAE1H,SAAS,CAAC0d,IAzBwB;IA0BhD1V,WAAW,EAAEhI,SAAS,CAAC0d,IA1ByB;IA2BhDvU,WAAW,EAAEnJ,SAAS,CAAC0d,IA3ByB;IA4BhDrU,SAAS,EAAErJ,SAAS,CAAC0d,IA5B2B;IA6BhDrF,iBAAiB,EAAErY,SAAS,CAACqd,IA7BmB;IA8BhDlN,EAAE,EAAEnQ,SAAS,CAACmd;EA9BkC,CAAD,EA+B9C3Y,SA/B8C,CAAjD;EAgCAC,uBAAuB,CAACF,YAAxB,GAAuC7G,aAAa,CAAC;IACnDmI,MAAM,EAAE,YAD2C;IAEnD8K,WAAW,EAAE,MAFsC;IAGnDyE,cAAc,EAAE,KAHmC;IAInDD,MAAM,EAAE,CAJ2C;IAKnDpH,MAAM,EAAE;MACNxH,GAAG,EAAE,CADC;MAEN+S,KAAK,EAAE,CAFD;MAGNnL,MAAM,EAAE,CAHF;MAIN7H,IAAI,EAAE;IAJA,CAL2C;IAWnD+R,iBAAiB,EAAE;EAXgC,CAAD,EAYjD9T,YAZiD,CAApD;;EAcAE,uBAAuB,CAACwL,kBAAxB,GAA6C,UAAU1R,KAAV,EAAiB;IAC5D,IAAIuQ,QAAQ,GAAGvQ,KAAK,CAACuQ,QAArB;IAAA,IACI2O,kBAAkB,GAAGlf,KAAK,CAACkf,kBAD/B;IAEA,IAAIvE,SAAS,GAAGtY,eAAe,CAACkO,QAAD,EAAWxN,KAAX,CAA/B;IACA,IAAI+F,UAAU,GAAG6R,SAAS,IAAIA,SAAS,CAAC3a,KAAvB,IAAgC2a,SAAS,CAAC3a,KAAV,CAAgB8I,UAAhD,IAA8D,CAA/E;IACA,IAAIC,QAAQ,GAAG4R,SAAS,IAAIA,SAAS,CAAC3a,KAAvB,IAAgC2a,SAAS,CAAC3a,KAAV,CAAgB+I,QAAhD,IAA4D/I,KAAK,CAACmH,IAAN,IAAcnH,KAAK,CAACmH,IAAN,CAAWhK,MAAX,GAAoB,CAA9F,IAAmG,CAAlH;IACA,OAAO;MACLsK,MAAM,EAAE,CADH;MAELC,MAAM,EAAE,CAFH;MAGLf,cAAc,EAAEmC,UAHX;MAILlC,YAAY,EAAEmC,QAJT;MAKLvB,kBAAkB,EAAE,CAAC,CALhB;MAML+B,eAAe,EAAE,CAACrN,MAAM,CAACgjB,kBAAD,CAAP,GAA8BA,kBAA9B,GAAmD;IAN/D,CAAP;EAQD,CAdD;;EAgBAhZ,uBAAuB,CAACkR,MAAxB,GAAiC,UAAUrE,cAAV,EAA0B;IACzD,IAAI,CAACA,cAAD,IAAmB,CAACA,cAAc,CAAC5V,MAAvC,EAA+C;MAC7C,OAAO,KAAP;IACD;;IAED,OAAO4V,cAAc,CAACqM,IAAf,CAAoB,UAAUjP,IAAV,EAAgB;MACzC,IAAIgG,IAAI,GAAG7T,cAAc,CAAC6N,IAAI,IAAIA,IAAI,CAAC3C,IAAd,CAAzB;MACA,OAAO2I,IAAI,IAAIA,IAAI,CAAC/Y,OAAL,CAAa,KAAb,KAAuB,CAAtC;IACD,CAHM,CAAP;EAID,CATD;;EAWA8I,uBAAuB,CAAC+N,gBAAxB,GAA2C,UAAUjU,KAAV,EAAiBqf,MAAjB,EAAyBlP,IAAzB,EAA+B;IACxE,IAAI4C,cAAc,GAAGsM,MAAM,CAACtM,cAA5B;IAAA,IACIpM,cAAc,GAAG0Y,MAAM,CAAC1Y,cAD5B;IAAA,IAEIC,YAAY,GAAGyY,MAAM,CAACzY,YAF1B;IAGA,IAAI0Y,SAAS,GAAG,CAACvM,cAAc,IAAI,EAAnB,EAAuBU,MAAvB,CAA8B,UAAUC,MAAV,EAAkBC,KAAlB,EAAyB;MACrE,IAAI4L,QAAQ,GAAG5L,KAAK,CAAC3T,KAAN,CAAYmH,IAA3B;;MAEA,IAAIoY,QAAQ,IAAIA,QAAQ,CAACpiB,MAAzB,EAAiC;QAC/B,OAAO,GAAGsQ,MAAH,CAAU3P,kBAAkB,CAAC4V,MAAD,CAA5B,EAAsC5V,kBAAkB,CAACyhB,QAAD,CAAxD,CAAP;MACD;;MAED,OAAO7L,MAAP;IACD,CARe,EAQb,EARa,CAAhB;;IAUA,IAAI4L,SAAS,IAAIA,SAAS,CAACniB,MAAV,GAAmB,CAApC,EAAuC;MACrC,OAAOmiB,SAAP;IACD;;IAED,IAAInP,IAAI,IAAIA,IAAI,CAACnQ,KAAb,IAAsBmQ,IAAI,CAACnQ,KAAL,CAAWmH,IAAjC,IAAyCgJ,IAAI,CAACnQ,KAAL,CAAWmH,IAAX,CAAgBhK,MAAhB,GAAyB,CAAtE,EAAyE;MACvE,OAAOgT,IAAI,CAACnQ,KAAL,CAAWmH,IAAlB;IACD;;IAED,IAAIA,IAAI,GAAGnH,KAAK,CAACmH,IAAjB;;IAEA,IAAIA,IAAI,IAAIA,IAAI,CAAChK,MAAb,IAAuBkG,QAAQ,CAACsD,cAAD,CAA/B,IAAmDtD,QAAQ,CAACuD,YAAD,CAA/D,EAA+E;MAC7E,OAAOO,IAAI,CAACqY,KAAL,CAAW7Y,cAAX,EAA2BC,YAAY,GAAG,CAA1C,CAAP;IACD;;IAED,OAAO,EAAP;EACD,CA7BD;;EA+BA,OAAOV,uBAAP;AACD,CAj5DD;;AAm5DA,eAAeX,wBAAf"},"metadata":{},"sourceType":"module"}