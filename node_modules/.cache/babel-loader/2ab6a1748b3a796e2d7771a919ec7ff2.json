{"ast":null,"code":"import { PdfPage } from './pdf-page';\nimport { PageAddedEventArgs } from './page-added-event-arguments';\nimport { PdfReferenceHolder } from './../primitives/pdf-reference';\nimport { PdfArray } from './../primitives/pdf-array';\nimport { PdfNumber } from './../primitives/pdf-number';\nimport { PdfName } from './../primitives/pdf-name';\nimport { PdfDictionary } from './../primitives/pdf-dictionary';\nimport { SaveSectionEventHandler } from './../primitives/pdf-dictionary';\nimport { DictionaryProperties } from './../input-output/pdf-dictionary-properties';\nimport { PdfSectionCollection } from './pdf-section-collection';\nimport { PdfSectionPageCollection } from './pdf-section-page-collection';\nimport { RectangleF } from './../drawing/pdf-drawing';\nimport { PdfSectionTemplate } from './pdf-section-templates';\n/**\n * Represents a `section` entity. A section it's a set of the pages with similar page settings.\n */\n\nvar PdfSection =\n/** @class */\nfunction () {\n  function PdfSection(document, pageSettings) {\n    //Fields\n    //public PageAdded() : PageAddedEventArgs.PageAddedEventHandler = new PageAddedEventArgs.PageAddedEventHandler(Object,args)\n\n    /**\n     * @hidden\n     * @private\n     */\n    this.pageAdded = new PageAddedEventArgs();\n    /**\n     * @hidden\n     * @private\n     */\n\n    this.pdfPages = [];\n    /**\n     * @hidden\n     * @private\n     */\n\n    this.dictionaryProperties = new DictionaryProperties();\n    this.pdfDocument = document;\n\n    if (typeof pageSettings === 'undefined') {\n      this.settings = document.pageSettings.clone();\n      this.initialSettings = this.settings.clone();\n    } else {\n      this.settings = pageSettings.clone();\n      this.initialSettings = this.settings.clone();\n    }\n\n    this.initialize();\n  }\n\n  Object.defineProperty(PdfSection.prototype, \"parent\", {\n    //Property\n\n    /**\n     * Gets or sets the `parent`.\n     * @private\n     */\n    get: function () {\n      return this.sectionCollection;\n    },\n    set: function (value) {\n      this.sectionCollection = value;\n      this.section.items.setValue(this.dictionaryProperties.parent, new PdfReferenceHolder(value));\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PdfSection.prototype, \"parentDocument\", {\n    /**\n     * Gets the `parent document`.\n     * @private\n     */\n    get: function () {\n      return this.pdfDocument;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PdfSection.prototype, \"pageSettings\", {\n    /**\n     * Gets or sets the `page settings` of the section.\n     * @private\n     */\n    get: function () {\n      return this.settings;\n    },\n    set: function (value) {\n      if (value != null) {\n        this.settings = value;\n      } else {\n        throw Error('Value can not be null.');\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PdfSection.prototype, \"element\", {\n    /**\n     * Gets the wrapped `element`.\n     * @private\n     */\n    get: function () {\n      return this.section;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PdfSection.prototype, \"count\", {\n    /**\n     * Gets the `count` of the pages in the section.\n     * @private\n     */\n    get: function () {\n      return this.pagesReferences.count;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PdfSection.prototype, \"template\", {\n    /**\n     * Gets or sets a `template` for the pages in the section.\n     * @private\n     */\n    get: function () {\n      if (this.pageTemplate == null) {\n        this.pageTemplate = new PdfSectionTemplate();\n      }\n\n      return this.pageTemplate;\n    },\n    set: function (value) {\n      this.pageTemplate = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PdfSection.prototype, \"document\", {\n    /**\n     * Gets the `document`.\n     * @private\n     */\n    get: function () {\n      return this.sectionCollection.document;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PdfSection.prototype, \"pages\", {\n    /**\n     * Gets the collection of `pages` in a section (Read only)\n     * @private\n     */\n    get: function () {\n      if (this.pagesCollection == null || typeof this.pagesCollection === 'undefined') {\n        this.pagesCollection = new PdfSectionPageCollection(this);\n      }\n\n      return this.pagesCollection;\n    },\n    enumerable: true,\n    configurable: true\n  }); //methods\n\n  /**\n   * `Return the page collection` of current section.\n   * @private\n   */\n\n  PdfSection.prototype.getPages = function () {\n    return this.pdfPages;\n  };\n  /**\n   * `Translates` point into native coordinates of the page.\n   * @private\n   */\n\n\n  PdfSection.prototype.pointToNativePdf = function (page, point) {\n    var bounds = this.getActualBounds(page, true);\n    point.x += bounds.x;\n    point.y = this.pageSettings.height - point.y;\n    return point;\n  };\n  /**\n   * Sets the page setting of the current section.\n   * @public\n   * @param settings Instance of `PdfPageSettings`\n   */\n\n\n  PdfSection.prototype.setPageSettings = function (settings) {\n    this.settings = settings;\n    this.state.orientation = settings.orientation;\n    this.state.rotate = settings.rotate;\n    this.state.size = settings.size;\n    this.state.origin = settings.origin;\n  };\n  /**\n   * `Initializes` the object.\n   * @private\n   */\n\n\n  PdfSection.prototype.initialize = function () {\n    this.pagesReferences = new PdfArray();\n    this.section = new PdfDictionary();\n    this.state = new PageSettingsState(this.pdfDocument);\n    this.section.sectionBeginSave = new SaveSectionEventHandler(this, this.state);\n    this.pageCount = new PdfNumber(0);\n    this.section.items.setValue(this.dictionaryProperties.count, this.pageCount);\n    this.section.items.setValue(this.dictionaryProperties.type, new PdfName(this.dictionaryProperties.pages));\n    this.section.items.setValue(this.dictionaryProperties.kids, this.pagesReferences);\n  };\n  /**\n   * Checks whether any template should be printed on this layer.\n   * @private\n   * @param document The parent document.\n   * @param page The parent page.\n   * @param foreground Layer z-order.\n   * @returns True - if some content should be printed on the layer, False otherwise.\n   */\n\n\n  PdfSection.prototype.containsTemplates = function (document, page, foreground) {\n    var documentHeaders = this.getDocumentTemplates(document, page, foreground);\n    var sectionTemplates = this.getSectionTemplates(page, foreground);\n    return documentHeaders.length > 0 || sectionTemplates.length > 0;\n  };\n  /**\n   * Returns array of the document templates.\n   * @private\n   * @param document The parent document.\n   * @param page The parent page.\n   * @param foreground If true - return foreground templates, if false - return background templates.\n   * @returns Returns array of the document templates.\n   */\n\n  /* tslint:disable */\n\n\n  PdfSection.prototype.getDocumentTemplates = function (document, page, foreground) {\n    var templates = [];\n\n    if (this.template.applyDocumentTopTemplate && document.template.getTop(page) != null) {\n      if (!(document.template.getTop(page).foreground || foreground) || document.template.getTop(page).foreground && foreground) {\n        templates.push(document.template.getTop(page));\n      }\n    }\n\n    if (this.template.applyDocumentBottomTemplate && document.template.getBottom(page) != null) {\n      if (!(document.template.getBottom(page).foreground || foreground) || document.template.getBottom(page).foreground && foreground) {\n        templates.push(document.template.getBottom(page));\n      }\n    }\n\n    if (this.template.applyDocumentLeftTemplate && document.template.getLeft(page) != null) {\n      if (!(document.template.getLeft(page).foreground || foreground) || document.template.getLeft(page).foreground && foreground) {\n        templates.push(document.template.getLeft(page));\n      }\n    }\n\n    if (this.template.applyDocumentRightTemplate && document.template.getRight(page) != null) {\n      if (!(document.template.getRight(page).foreground || foreground) || document.template.getRight(page).foreground && foreground) {\n        templates.push(document.template.getRight(page));\n      }\n    }\n\n    return templates;\n  };\n  /**\n   * Returns array of the section templates.\n   * @private\n   * @param page The parent page.\n   * @param foreground If true - return foreground templates, if false - return background templates.\n   * @returns Returns array of the section templates.\n   */\n\n  /* tslint:disable */\n\n\n  PdfSection.prototype.getSectionTemplates = function (page, foreground) {\n    var templates = [];\n\n    if (this.template.getTop(page) != null) {\n      var pageTemplate = this.template.getTop(page);\n\n      if (!(pageTemplate.foreground || foreground) || pageTemplate.foreground && foreground) {\n        templates.push(pageTemplate);\n      }\n    }\n\n    if (this.template.getBottom(page) != null) {\n      var pageTemplate = this.template.getBottom(page);\n\n      if (!(pageTemplate.foreground || foreground) || pageTemplate.foreground && foreground) {\n        templates.push(pageTemplate);\n      }\n    }\n\n    if (this.template.getLeft(page) != null) {\n      var pageTemplate = this.template.getLeft(page);\n\n      if (!(pageTemplate.foreground || foreground) || pageTemplate.foreground && foreground) {\n        templates.push(pageTemplate);\n      }\n    }\n\n    if (this.template.getRight(page) != null) {\n      var pageTemplate = this.template.getRight(page);\n\n      if (!(pageTemplate.foreground || foreground) || pageTemplate.foreground && foreground) {\n        templates.push(pageTemplate);\n      }\n    }\n\n    return templates;\n  };\n  /* tslint:enable */\n\n  /**\n   * `Adds` the specified page.\n   * @private\n   */\n\n\n  PdfSection.prototype.add = function (page) {\n    if (typeof page === 'undefined') {\n      var page_1 = new PdfPage();\n      this.add(page_1);\n      return page_1;\n    } else {\n      var r = this.checkPresence(page);\n      this.pdfPages.push(page);\n      this.pagesReferences.add(r);\n      page.setSection(this);\n      page.resetProgress();\n      this.pageAddedMethod(page);\n    }\n  };\n  /**\n   * `Checks the presence`.\n   * @private\n   */\n\n\n  PdfSection.prototype.checkPresence = function (page) {\n    var rh = new PdfReferenceHolder(page);\n    var contains = false;\n    var sc = this.parent;\n\n    for (var index = 0; index < sc.section.length; index++) {\n      var section = sc.section[index];\n      contains = contains || section.contains(page);\n    }\n\n    return rh;\n  };\n  /**\n   * `Determines` whether the page in within the section.\n   * @private\n   */\n\n\n  PdfSection.prototype.contains = function (page) {\n    var index = this.indexOf(page);\n    return 0 <= index;\n  };\n  /**\n   * Get the `index of` the page.\n   * @private\n   */\n\n\n  PdfSection.prototype.indexOf = function (page) {\n    for (var index = 0; index < this.pdfPages.length; index++) {\n      if (this.pdfPages[index] === page) {\n        return this.pdfPages.indexOf(page);\n      }\n    }\n\n    var r = new PdfReferenceHolder(page);\n    return this.pagesReferences.indexOf(r);\n  };\n  /**\n   * Call two event's methods.\n   * @hidden\n   * @private\n   */\n\n\n  PdfSection.prototype.pageAddedMethod = function (page) {\n    //Create event's arguments\n    var args = new PageAddedEventArgs(page);\n    this.onPageAdded(args);\n    var parent = this.parent;\n    parent.document.pages.onPageAdded(args);\n    this.pageCount.intValue = this.count;\n  };\n  /**\n   * Called when the page has been added.\n   * @hidden\n   * @private\n   */\n\n\n  PdfSection.prototype.onPageAdded = function (args) {//\n  };\n\n  PdfSection.prototype.getActualBounds = function (arg1, arg2, arg3) {\n    if (arg1 instanceof PdfPage && typeof arg2 === 'boolean') {\n      var result = void 0;\n      var document_1 = this.parent.document;\n      result = this.getActualBounds(document_1, arg1, arg2);\n      return result;\n    } else {\n      arg1 = arg1;\n      arg2 = arg2;\n      arg3 = arg3;\n      var bounds = new RectangleF(0, 0, 0, 0);\n      bounds.height = arg3 ? this.pageSettings.size.height : this.pageSettings.getActualSize().height;\n      bounds.width = arg3 ? this.pageSettings.size.width : this.pageSettings.getActualSize().width;\n      var left = this.getLeftIndentWidth(arg1, arg2, arg3);\n      var top_1 = this.getTopIndentHeight(arg1, arg2, arg3);\n      var right = this.getRightIndentWidth(arg1, arg2, arg3);\n      var bottom = this.getBottomIndentHeight(arg1, arg2, arg3);\n      bounds.x += left;\n      bounds.y += top_1;\n      bounds.width -= left + right;\n      bounds.height -= top_1 + bottom;\n      return bounds;\n    }\n  };\n  /**\n   * Calculates width of the `left indent`.\n   * @private\n   */\n\n\n  PdfSection.prototype.getLeftIndentWidth = function (document, page, includeMargins) {\n    if (document == null) {\n      throw new Error('ArgumentNullException:document');\n    }\n\n    if (page == null) {\n      throw new Error('ArgumentNullException:page');\n    }\n\n    var value = includeMargins ? this.pageSettings.margins.left : 0;\n    var templateWidth = this.template.getLeft(page) != null ? this.template.getLeft(page).width : 0;\n    var docTemplateWidth = document.template.getLeft(page) != null ? document.template.getLeft(page).width : 0;\n    value += this.template.applyDocumentLeftTemplate ? Math.max(templateWidth, docTemplateWidth) : templateWidth;\n    return value;\n  };\n  /**\n   * Calculates `Height` of the top indent.\n   * @private\n   */\n\n\n  PdfSection.prototype.getTopIndentHeight = function (document, page, includeMargins) {\n    if (document == null) {\n      throw new Error('ArgumentNullException:document');\n    }\n\n    if (page == null) {\n      throw new Error('ArgumentNullException:page');\n    }\n\n    var value = includeMargins ? this.pageSettings.margins.top : 0;\n    var templateHeight = this.template.getTop(page) != null ? this.template.getTop(page).height : 0;\n    var docTemplateHeight = document.template.getTop(page) != null ? document.template.getTop(page).height : 0;\n    value += this.template.applyDocumentTopTemplate ? Math.max(templateHeight, docTemplateHeight) : templateHeight;\n    return value;\n  };\n  /**\n   * Calculates `width` of the right indent.\n   * @private\n   */\n\n\n  PdfSection.prototype.getRightIndentWidth = function (document, page, includeMargins) {\n    if (document == null) {\n      throw new Error('ArgumentNullException:document');\n    }\n\n    if (page == null) {\n      throw new Error('ArgumentNullException:page');\n    }\n\n    var value = includeMargins ? this.pageSettings.margins.right : 0;\n    var templateWidth = this.template.getRight(page) != null ? this.template.getRight(page).width : 0;\n    var docTemplateWidth = document.template.getRight(page) != null ? document.template.getRight(page).width : 0;\n    value += this.template.applyDocumentRightTemplate ? Math.max(templateWidth, docTemplateWidth) : templateWidth;\n    return value;\n  };\n  /**\n   * Calculates `Height` of the bottom indent.\n   * @private\n   */\n\n\n  PdfSection.prototype.getBottomIndentHeight = function (document, page, includeMargins) {\n    if (document == null) {\n      throw new Error('ArgumentNullException:document');\n    }\n\n    if (page == null) {\n      throw new Error('ArgumentNullException:page');\n    }\n\n    var value = includeMargins ? this.pageSettings.margins.bottom : 0;\n    var templateHeight = this.template.getBottom(page) != null ? this.template.getBottom(page).height : 0;\n    var docTemplateHeight = document.template.getBottom(page) != null ? document.template.getBottom(page).height : 0;\n    value += this.template.applyDocumentBottomTemplate ? Math.max(templateHeight, docTemplateHeight) : templateHeight;\n    return value;\n  };\n  /**\n   * `Removes` the page from the section.\n   * @private\n   */\n\n\n  PdfSection.prototype.remove = function (page) {\n    if (page == null) {\n      throw Error('ArgumentNullException(\"page\")');\n    }\n\n    var index = this.pdfPages.indexOf(page);\n    this.pagesReferences.removeAt(index);\n    var temproaryPages = [];\n\n    for (var j = 0; j < index; j++) {\n      temproaryPages.push(this.pdfPages[j]);\n    }\n\n    for (var j = index + 1; j < this.pdfPages.length; j++) {\n      temproaryPages.push(this.pdfPages[j]);\n    }\n\n    this.pdfPages = temproaryPages;\n  };\n  /**\n   * In fills dictionary by the data from `Page settings`.\n   * @private\n   */\n\n\n  PdfSection.prototype.applyPageSettings = function (container, parentSettings, state) {\n    var bounds = new RectangleF(state.origin, state.size);\n    container.items.setValue(this.dictionaryProperties.mediaBox, PdfArray.fromRectangle(bounds));\n    var rotate = 0;\n    rotate = PdfSectionCollection.rotateFactor * state.rotate;\n    var angle = new PdfNumber(rotate);\n    container.items.setValue(this.dictionaryProperties.rotate, angle);\n  };\n  /**\n   * Catches the Save event of the dictionary.\n   * @hidden\n   * @private\n   */\n\n\n  PdfSection.prototype.beginSave = function (state, writer) {\n    var doc = writer.document;\n    this.applyPageSettings(this.section, doc.pageSettings, state);\n  };\n  /**\n   * Draws page templates on the page.\n   * @private\n   */\n\n\n  PdfSection.prototype.drawTemplates = function (page, layer, document, foreground) {\n    var documentHeaders = this.getDocumentTemplates(document, page, foreground);\n    var sectionHeaders = this.getSectionTemplates(page, foreground);\n    this.drawTemplatesHelper(layer, document, documentHeaders);\n    this.drawTemplatesHelper(layer, document, sectionHeaders);\n  };\n  /**\n   * Draws page templates on the page.\n   * @private\n   */\n\n\n  PdfSection.prototype.drawTemplatesHelper = function (layer, document, templates) {\n    if (templates != null && templates.length > 0) {\n      var len = templates.length;\n\n      for (var i = 0; i < len; i++) {\n        var template = templates[i];\n        template.draw(layer, document);\n      }\n    }\n  };\n\n  return PdfSection;\n}();\n\nexport { PdfSection };\n\nvar PageSettingsState =\n/** @class */\nfunction () {\n  //Public Constructor\n\n  /**\n   * New instance to store the `PageSettings`.\n   * @private\n   */\n  function PageSettingsState(document) {\n    this.pageOrientation = document.pageSettings.orientation;\n    this.pageRotate = document.pageSettings.rotate;\n    this.pageSize = document.pageSettings.size;\n    this.pageOrigin = document.pageSettings.origin;\n  }\n\n  Object.defineProperty(PageSettingsState.prototype, \"orientation\", {\n    //public Properties\n\n    /**\n     * @hidden\n     * @private\n     */\n    get: function () {\n      return this.pageOrientation;\n    },\n    set: function (value) {\n      this.pageOrientation = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PageSettingsState.prototype, \"rotate\", {\n    /**\n     * @hidden\n     * @private\n     */\n    get: function () {\n      return this.pageRotate;\n    },\n    set: function (value) {\n      this.pageRotate = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PageSettingsState.prototype, \"size\", {\n    /**\n     * @hidden\n     * @private\n     */\n    get: function () {\n      return this.pageSize;\n    },\n    set: function (value) {\n      this.pageSize = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PageSettingsState.prototype, \"origin\", {\n    /**\n     * @hidden\n     * @private\n     */\n    get: function () {\n      return this.pageOrigin;\n    },\n    set: function (value) {\n      this.pageOrigin = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return PageSettingsState;\n}();\n\nexport { PageSettingsState };","map":{"version":3,"names":["PdfPage","PageAddedEventArgs","PdfReferenceHolder","PdfArray","PdfNumber","PdfName","PdfDictionary","SaveSectionEventHandler","DictionaryProperties","PdfSectionCollection","PdfSectionPageCollection","RectangleF","PdfSectionTemplate","PdfSection","document","pageSettings","pageAdded","pdfPages","dictionaryProperties","pdfDocument","settings","clone","initialSettings","initialize","Object","defineProperty","prototype","get","sectionCollection","set","value","section","items","setValue","parent","enumerable","configurable","Error","pagesReferences","count","pageTemplate","pagesCollection","getPages","pointToNativePdf","page","point","bounds","getActualBounds","x","y","height","setPageSettings","state","orientation","rotate","size","origin","PageSettingsState","sectionBeginSave","pageCount","type","pages","kids","containsTemplates","foreground","documentHeaders","getDocumentTemplates","sectionTemplates","getSectionTemplates","length","templates","template","applyDocumentTopTemplate","getTop","push","applyDocumentBottomTemplate","getBottom","applyDocumentLeftTemplate","getLeft","applyDocumentRightTemplate","getRight","add","page_1","r","checkPresence","setSection","resetProgress","pageAddedMethod","rh","contains","sc","index","indexOf","args","onPageAdded","intValue","arg1","arg2","arg3","result","document_1","getActualSize","width","left","getLeftIndentWidth","top_1","getTopIndentHeight","right","getRightIndentWidth","bottom","getBottomIndentHeight","includeMargins","margins","templateWidth","docTemplateWidth","Math","max","top","templateHeight","docTemplateHeight","remove","removeAt","temproaryPages","j","applyPageSettings","container","parentSettings","mediaBox","fromRectangle","rotateFactor","angle","beginSave","writer","doc","drawTemplates","layer","sectionHeaders","drawTemplatesHelper","len","i","draw","pageOrientation","pageRotate","pageSize","pageOrigin"],"sources":["D:/Theme/package/node_modules/@syncfusion/ej2-pdf-export/src/implementation/pages/pdf-section.js"],"sourcesContent":["import { PdfPage } from './pdf-page';\nimport { PageAddedEventArgs } from './page-added-event-arguments';\nimport { PdfReferenceHolder } from './../primitives/pdf-reference';\nimport { PdfArray } from './../primitives/pdf-array';\nimport { PdfNumber } from './../primitives/pdf-number';\nimport { PdfName } from './../primitives/pdf-name';\nimport { PdfDictionary } from './../primitives/pdf-dictionary';\nimport { SaveSectionEventHandler } from './../primitives/pdf-dictionary';\nimport { DictionaryProperties } from './../input-output/pdf-dictionary-properties';\nimport { PdfSectionCollection } from './pdf-section-collection';\nimport { PdfSectionPageCollection } from './pdf-section-page-collection';\nimport { RectangleF } from './../drawing/pdf-drawing';\nimport { PdfSectionTemplate } from './pdf-section-templates';\n/**\n * Represents a `section` entity. A section it's a set of the pages with similar page settings.\n */\nvar PdfSection = /** @class */ (function () {\n    function PdfSection(document, pageSettings) {\n        //Fields\n        //public PageAdded() : PageAddedEventArgs.PageAddedEventHandler = new PageAddedEventArgs.PageAddedEventHandler(Object,args)\n        /**\n         * @hidden\n         * @private\n         */\n        this.pageAdded = new PageAddedEventArgs();\n        /**\n         * @hidden\n         * @private\n         */\n        this.pdfPages = [];\n        /**\n         * @hidden\n         * @private\n         */\n        this.dictionaryProperties = new DictionaryProperties();\n        this.pdfDocument = document;\n        if (typeof pageSettings === 'undefined') {\n            this.settings = document.pageSettings.clone();\n            this.initialSettings = this.settings.clone();\n        }\n        else {\n            this.settings = pageSettings.clone();\n            this.initialSettings = this.settings.clone();\n        }\n        this.initialize();\n    }\n    Object.defineProperty(PdfSection.prototype, \"parent\", {\n        //Property\n        /**\n         * Gets or sets the `parent`.\n         * @private\n         */\n        get: function () {\n            return this.sectionCollection;\n        },\n        set: function (value) {\n            this.sectionCollection = value;\n            this.section.items.setValue(this.dictionaryProperties.parent, new PdfReferenceHolder(value));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfSection.prototype, \"parentDocument\", {\n        /**\n         * Gets the `parent document`.\n         * @private\n         */\n        get: function () {\n            return this.pdfDocument;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfSection.prototype, \"pageSettings\", {\n        /**\n         * Gets or sets the `page settings` of the section.\n         * @private\n         */\n        get: function () {\n            return this.settings;\n        },\n        set: function (value) {\n            if (value != null) {\n                this.settings = value;\n            }\n            else {\n                throw Error('Value can not be null.');\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfSection.prototype, \"element\", {\n        /**\n         * Gets the wrapped `element`.\n         * @private\n         */\n        get: function () {\n            return this.section;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfSection.prototype, \"count\", {\n        /**\n         * Gets the `count` of the pages in the section.\n         * @private\n         */\n        get: function () {\n            return this.pagesReferences.count;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfSection.prototype, \"template\", {\n        /**\n         * Gets or sets a `template` for the pages in the section.\n         * @private\n         */\n        get: function () {\n            if (this.pageTemplate == null) {\n                this.pageTemplate = new PdfSectionTemplate();\n            }\n            return this.pageTemplate;\n        },\n        set: function (value) {\n            this.pageTemplate = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfSection.prototype, \"document\", {\n        /**\n         * Gets the `document`.\n         * @private\n         */\n        get: function () {\n            return this.sectionCollection.document;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfSection.prototype, \"pages\", {\n        /**\n         * Gets the collection of `pages` in a section (Read only)\n         * @private\n         */\n        get: function () {\n            if (this.pagesCollection == null || typeof this.pagesCollection === 'undefined') {\n                this.pagesCollection = new PdfSectionPageCollection(this);\n            }\n            return this.pagesCollection;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    //methods\n    /**\n     * `Return the page collection` of current section.\n     * @private\n     */\n    PdfSection.prototype.getPages = function () {\n        return this.pdfPages;\n    };\n    /**\n     * `Translates` point into native coordinates of the page.\n     * @private\n     */\n    PdfSection.prototype.pointToNativePdf = function (page, point) {\n        var bounds = this.getActualBounds(page, true);\n        point.x += bounds.x;\n        point.y = this.pageSettings.height - (point.y);\n        return point;\n    };\n    /**\n     * Sets the page setting of the current section.\n     * @public\n     * @param settings Instance of `PdfPageSettings`\n     */\n    PdfSection.prototype.setPageSettings = function (settings) {\n        this.settings = settings;\n        this.state.orientation = settings.orientation;\n        this.state.rotate = settings.rotate;\n        this.state.size = settings.size;\n        this.state.origin = settings.origin;\n    };\n    /**\n     * `Initializes` the object.\n     * @private\n     */\n    PdfSection.prototype.initialize = function () {\n        this.pagesReferences = new PdfArray();\n        this.section = new PdfDictionary();\n        this.state = new PageSettingsState(this.pdfDocument);\n        this.section.sectionBeginSave = new SaveSectionEventHandler(this, this.state);\n        this.pageCount = new PdfNumber(0);\n        this.section.items.setValue(this.dictionaryProperties.count, this.pageCount);\n        this.section.items.setValue(this.dictionaryProperties.type, new PdfName(this.dictionaryProperties.pages));\n        this.section.items.setValue(this.dictionaryProperties.kids, this.pagesReferences);\n    };\n    /**\n     * Checks whether any template should be printed on this layer.\n     * @private\n     * @param document The parent document.\n     * @param page The parent page.\n     * @param foreground Layer z-order.\n     * @returns True - if some content should be printed on the layer, False otherwise.\n     */\n    PdfSection.prototype.containsTemplates = function (document, page, foreground) {\n        var documentHeaders = this.getDocumentTemplates(document, page, foreground);\n        var sectionTemplates = this.getSectionTemplates(page, foreground);\n        return (documentHeaders.length > 0 || sectionTemplates.length > 0);\n    };\n    /**\n     * Returns array of the document templates.\n     * @private\n     * @param document The parent document.\n     * @param page The parent page.\n     * @param foreground If true - return foreground templates, if false - return background templates.\n     * @returns Returns array of the document templates.\n     */\n    /* tslint:disable */\n    PdfSection.prototype.getDocumentTemplates = function (document, page, foreground) {\n        var templates = [];\n        if (this.template.applyDocumentTopTemplate && document.template.getTop(page) != null) {\n            if ((!(document.template.getTop(page).foreground || foreground)) || (document.template.getTop(page).foreground && foreground)) {\n                templates.push(document.template.getTop(page));\n            }\n        }\n        if (this.template.applyDocumentBottomTemplate && document.template.getBottom(page) != null) {\n            if ((!(document.template.getBottom(page).foreground || foreground)) || (document.template.getBottom(page).foreground && foreground)) {\n                templates.push(document.template.getBottom(page));\n            }\n        }\n        if (this.template.applyDocumentLeftTemplate && document.template.getLeft(page) != null) {\n            if ((!(document.template.getLeft(page).foreground || foreground)) || (document.template.getLeft(page).foreground && foreground)) {\n                templates.push(document.template.getLeft(page));\n            }\n        }\n        if (this.template.applyDocumentRightTemplate && document.template.getRight(page) != null) {\n            if ((!(document.template.getRight(page).foreground || foreground)) || (document.template.getRight(page).foreground && foreground)) {\n                templates.push(document.template.getRight(page));\n            }\n        }\n        return templates;\n    };\n    /**\n     * Returns array of the section templates.\n     * @private\n     * @param page The parent page.\n     * @param foreground If true - return foreground templates, if false - return background templates.\n     * @returns Returns array of the section templates.\n     */\n    /* tslint:disable */\n    PdfSection.prototype.getSectionTemplates = function (page, foreground) {\n        var templates = [];\n        if (this.template.getTop(page) != null) {\n            var pageTemplate = this.template.getTop(page);\n            if ((!(pageTemplate.foreground || foreground)) || (pageTemplate.foreground && foreground)) {\n                templates.push(pageTemplate);\n            }\n        }\n        if (this.template.getBottom(page) != null) {\n            var pageTemplate = this.template.getBottom(page);\n            if ((!(pageTemplate.foreground || foreground)) || (pageTemplate.foreground && foreground)) {\n                templates.push(pageTemplate);\n            }\n        }\n        if (this.template.getLeft(page) != null) {\n            var pageTemplate = this.template.getLeft(page);\n            if ((!(pageTemplate.foreground || foreground)) || (pageTemplate.foreground && foreground)) {\n                templates.push(pageTemplate);\n            }\n        }\n        if (this.template.getRight(page) != null) {\n            var pageTemplate = this.template.getRight(page);\n            if ((!(pageTemplate.foreground || foreground)) || (pageTemplate.foreground && foreground)) {\n                templates.push(pageTemplate);\n            }\n        }\n        return templates;\n    };\n    /* tslint:enable */\n    /**\n     * `Adds` the specified page.\n     * @private\n     */\n    PdfSection.prototype.add = function (page) {\n        if (typeof page === 'undefined') {\n            var page_1 = new PdfPage();\n            this.add(page_1);\n            return page_1;\n        }\n        else {\n            var r = this.checkPresence(page);\n            this.pdfPages.push(page);\n            this.pagesReferences.add(r);\n            page.setSection(this);\n            page.resetProgress();\n            this.pageAddedMethod(page);\n        }\n    };\n    /**\n     * `Checks the presence`.\n     * @private\n     */\n    PdfSection.prototype.checkPresence = function (page) {\n        var rh = new PdfReferenceHolder(page);\n        var contains = false;\n        var sc = this.parent;\n        for (var index = 0; index < sc.section.length; index++) {\n            var section = sc.section[index];\n            contains = contains || section.contains(page);\n        }\n        return rh;\n    };\n    /**\n     * `Determines` whether the page in within the section.\n     * @private\n     */\n    PdfSection.prototype.contains = function (page) {\n        var index = this.indexOf(page);\n        return (0 <= index);\n    };\n    /**\n     * Get the `index of` the page.\n     * @private\n     */\n    PdfSection.prototype.indexOf = function (page) {\n        for (var index = 0; index < this.pdfPages.length; index++) {\n            if (this.pdfPages[index] === page) {\n                return this.pdfPages.indexOf(page);\n            }\n        }\n        var r = new PdfReferenceHolder(page);\n        return this.pagesReferences.indexOf(r);\n    };\n    /**\n     * Call two event's methods.\n     * @hidden\n     * @private\n     */\n    PdfSection.prototype.pageAddedMethod = function (page) {\n        //Create event's arguments\n        var args = new PageAddedEventArgs(page);\n        this.onPageAdded(args);\n        var parent = this.parent;\n        parent.document.pages.onPageAdded(args);\n        this.pageCount.intValue = this.count;\n    };\n    /**\n     * Called when the page has been added.\n     * @hidden\n     * @private\n     */\n    PdfSection.prototype.onPageAdded = function (args) {\n        //\n    };\n    PdfSection.prototype.getActualBounds = function (arg1, arg2, arg3) {\n        if (arg1 instanceof PdfPage && typeof arg2 === 'boolean') {\n            var result = void 0;\n            var document_1 = this.parent.document;\n            result = this.getActualBounds(document_1, arg1, arg2);\n            return result;\n        }\n        else {\n            arg1 = arg1;\n            arg2 = arg2;\n            arg3 = arg3;\n            var bounds = new RectangleF(0, 0, 0, 0);\n            bounds.height = (arg3) ? this.pageSettings.size.height : this.pageSettings.getActualSize().height;\n            bounds.width = (arg3) ? this.pageSettings.size.width : this.pageSettings.getActualSize().width;\n            var left = this.getLeftIndentWidth(arg1, arg2, arg3);\n            var top_1 = this.getTopIndentHeight(arg1, arg2, arg3);\n            var right = this.getRightIndentWidth(arg1, arg2, arg3);\n            var bottom = this.getBottomIndentHeight(arg1, arg2, arg3);\n            bounds.x += left;\n            bounds.y += top_1;\n            bounds.width -= (left + right);\n            bounds.height -= (top_1 + bottom);\n            return bounds;\n        }\n    };\n    /**\n     * Calculates width of the `left indent`.\n     * @private\n     */\n    PdfSection.prototype.getLeftIndentWidth = function (document, page, includeMargins) {\n        if (document == null) {\n            throw new Error('ArgumentNullException:document');\n        }\n        if (page == null) {\n            throw new Error('ArgumentNullException:page');\n        }\n        var value = (includeMargins) ? this.pageSettings.margins.left : 0;\n        var templateWidth = (this.template.getLeft(page) != null) ? this.template.getLeft(page).width : 0;\n        var docTemplateWidth = (document.template.getLeft(page) != null) ? document.template.getLeft(page).width : 0;\n        value += (this.template.applyDocumentLeftTemplate) ? Math.max(templateWidth, docTemplateWidth) : templateWidth;\n        return value;\n    };\n    /**\n     * Calculates `Height` of the top indent.\n     * @private\n     */\n    PdfSection.prototype.getTopIndentHeight = function (document, page, includeMargins) {\n        if (document == null) {\n            throw new Error('ArgumentNullException:document');\n        }\n        if (page == null) {\n            throw new Error('ArgumentNullException:page');\n        }\n        var value = (includeMargins) ? this.pageSettings.margins.top : 0;\n        var templateHeight = (this.template.getTop(page) != null) ? this.template.getTop(page).height : 0;\n        var docTemplateHeight = (document.template.getTop(page) != null) ? document.template.getTop(page).height : 0;\n        value += (this.template.applyDocumentTopTemplate) ? Math.max(templateHeight, docTemplateHeight) : templateHeight;\n        return value;\n    };\n    /**\n     * Calculates `width` of the right indent.\n     * @private\n     */\n    PdfSection.prototype.getRightIndentWidth = function (document, page, includeMargins) {\n        if (document == null) {\n            throw new Error('ArgumentNullException:document');\n        }\n        if (page == null) {\n            throw new Error('ArgumentNullException:page');\n        }\n        var value = (includeMargins) ? this.pageSettings.margins.right : 0;\n        var templateWidth = (this.template.getRight(page) != null) ? this.template.getRight(page).width : 0;\n        var docTemplateWidth = (document.template.getRight(page) != null) ? document.template.getRight(page).width : 0;\n        value += (this.template.applyDocumentRightTemplate) ? Math.max(templateWidth, docTemplateWidth) : templateWidth;\n        return value;\n    };\n    /**\n     * Calculates `Height` of the bottom indent.\n     * @private\n     */\n    PdfSection.prototype.getBottomIndentHeight = function (document, page, includeMargins) {\n        if (document == null) {\n            throw new Error('ArgumentNullException:document');\n        }\n        if (page == null) {\n            throw new Error('ArgumentNullException:page');\n        }\n        var value = (includeMargins) ? this.pageSettings.margins.bottom : 0;\n        var templateHeight = (this.template.getBottom(page) != null) ? this.template.getBottom(page).height : 0;\n        var docTemplateHeight = (document.template.getBottom(page) != null) ? document.template.getBottom(page).height : 0;\n        value += (this.template.applyDocumentBottomTemplate) ? Math.max(templateHeight, docTemplateHeight) : templateHeight;\n        return value;\n    };\n    /**\n     * `Removes` the page from the section.\n     * @private\n     */\n    PdfSection.prototype.remove = function (page) {\n        if (page == null) {\n            throw Error('ArgumentNullException(\"page\")');\n        }\n        var index = this.pdfPages.indexOf(page);\n        this.pagesReferences.removeAt(index);\n        var temproaryPages = [];\n        for (var j = 0; j < index; j++) {\n            temproaryPages.push(this.pdfPages[j]);\n        }\n        for (var j = index + 1; j < this.pdfPages.length; j++) {\n            temproaryPages.push(this.pdfPages[j]);\n        }\n        this.pdfPages = temproaryPages;\n    };\n    /**\n     * In fills dictionary by the data from `Page settings`.\n     * @private\n     */\n    PdfSection.prototype.applyPageSettings = function (container, parentSettings, state) {\n        var bounds = new RectangleF(state.origin, state.size);\n        container.items.setValue(this.dictionaryProperties.mediaBox, PdfArray.fromRectangle(bounds));\n        var rotate = 0;\n        rotate = PdfSectionCollection.rotateFactor * state.rotate;\n        var angle = new PdfNumber(rotate);\n        container.items.setValue(this.dictionaryProperties.rotate, angle);\n    };\n    /**\n     * Catches the Save event of the dictionary.\n     * @hidden\n     * @private\n     */\n    PdfSection.prototype.beginSave = function (state, writer) {\n        var doc = writer.document;\n        this.applyPageSettings(this.section, doc.pageSettings, state);\n    };\n    /**\n     * Draws page templates on the page.\n     * @private\n     */\n    PdfSection.prototype.drawTemplates = function (page, layer, document, foreground) {\n        var documentHeaders = this.getDocumentTemplates(document, page, foreground);\n        var sectionHeaders = this.getSectionTemplates(page, foreground);\n        this.drawTemplatesHelper(layer, document, documentHeaders);\n        this.drawTemplatesHelper(layer, document, sectionHeaders);\n    };\n    /**\n     * Draws page templates on the page.\n     * @private\n     */\n    PdfSection.prototype.drawTemplatesHelper = function (layer, document, templates) {\n        if (templates != null && templates.length > 0) {\n            var len = templates.length;\n            for (var i = 0; i < len; i++) {\n                var template = templates[i];\n                template.draw(layer, document);\n            }\n        }\n    };\n    return PdfSection;\n}());\nexport { PdfSection };\nvar PageSettingsState = /** @class */ (function () {\n    //Public Constructor\n    /**\n     * New instance to store the `PageSettings`.\n     * @private\n     */\n    function PageSettingsState(document) {\n        this.pageOrientation = document.pageSettings.orientation;\n        this.pageRotate = document.pageSettings.rotate;\n        this.pageSize = document.pageSettings.size;\n        this.pageOrigin = document.pageSettings.origin;\n    }\n    Object.defineProperty(PageSettingsState.prototype, \"orientation\", {\n        //public Properties\n        /**\n         * @hidden\n         * @private\n         */\n        get: function () {\n            return this.pageOrientation;\n        },\n        set: function (value) {\n            this.pageOrientation = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PageSettingsState.prototype, \"rotate\", {\n        /**\n         * @hidden\n         * @private\n         */\n        get: function () {\n            return this.pageRotate;\n        },\n        set: function (value) {\n            this.pageRotate = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PageSettingsState.prototype, \"size\", {\n        /**\n         * @hidden\n         * @private\n         */\n        get: function () {\n            return this.pageSize;\n        },\n        set: function (value) {\n            this.pageSize = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PageSettingsState.prototype, \"origin\", {\n        /**\n         * @hidden\n         * @private\n         */\n        get: function () {\n            return this.pageOrigin;\n        },\n        set: function (value) {\n            this.pageOrigin = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PageSettingsState;\n}());\nexport { PageSettingsState };\n"],"mappings":"AAAA,SAASA,OAAT,QAAwB,YAAxB;AACA,SAASC,kBAAT,QAAmC,8BAAnC;AACA,SAASC,kBAAT,QAAmC,+BAAnC;AACA,SAASC,QAAT,QAAyB,2BAAzB;AACA,SAASC,SAAT,QAA0B,4BAA1B;AACA,SAASC,OAAT,QAAwB,0BAAxB;AACA,SAASC,aAAT,QAA8B,gCAA9B;AACA,SAASC,uBAAT,QAAwC,gCAAxC;AACA,SAASC,oBAAT,QAAqC,6CAArC;AACA,SAASC,oBAAT,QAAqC,0BAArC;AACA,SAASC,wBAAT,QAAyC,+BAAzC;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,SAASC,kBAAT,QAAmC,yBAAnC;AACA;AACA;AACA;;AACA,IAAIC,UAAU;AAAG;AAAe,YAAY;EACxC,SAASA,UAAT,CAAoBC,QAApB,EAA8BC,YAA9B,EAA4C;IACxC;IACA;;IACA;AACR;AACA;AACA;IACQ,KAAKC,SAAL,GAAiB,IAAIf,kBAAJ,EAAjB;IACA;AACR;AACA;AACA;;IACQ,KAAKgB,QAAL,GAAgB,EAAhB;IACA;AACR;AACA;AACA;;IACQ,KAAKC,oBAAL,GAA4B,IAAIV,oBAAJ,EAA5B;IACA,KAAKW,WAAL,GAAmBL,QAAnB;;IACA,IAAI,OAAOC,YAAP,KAAwB,WAA5B,EAAyC;MACrC,KAAKK,QAAL,GAAgBN,QAAQ,CAACC,YAAT,CAAsBM,KAAtB,EAAhB;MACA,KAAKC,eAAL,GAAuB,KAAKF,QAAL,CAAcC,KAAd,EAAvB;IACH,CAHD,MAIK;MACD,KAAKD,QAAL,GAAgBL,YAAY,CAACM,KAAb,EAAhB;MACA,KAAKC,eAAL,GAAuB,KAAKF,QAAL,CAAcC,KAAd,EAAvB;IACH;;IACD,KAAKE,UAAL;EACH;;EACDC,MAAM,CAACC,cAAP,CAAsBZ,UAAU,CAACa,SAAjC,EAA4C,QAA5C,EAAsD;IAClD;;IACA;AACR;AACA;AACA;IACQC,GAAG,EAAE,YAAY;MACb,OAAO,KAAKC,iBAAZ;IACH,CARiD;IASlDC,GAAG,EAAE,UAAUC,KAAV,EAAiB;MAClB,KAAKF,iBAAL,GAAyBE,KAAzB;MACA,KAAKC,OAAL,CAAaC,KAAb,CAAmBC,QAAnB,CAA4B,KAAKf,oBAAL,CAA0BgB,MAAtD,EAA8D,IAAIhC,kBAAJ,CAAuB4B,KAAvB,CAA9D;IACH,CAZiD;IAalDK,UAAU,EAAE,IAbsC;IAclDC,YAAY,EAAE;EAdoC,CAAtD;EAgBAZ,MAAM,CAACC,cAAP,CAAsBZ,UAAU,CAACa,SAAjC,EAA4C,gBAA5C,EAA8D;IAC1D;AACR;AACA;AACA;IACQC,GAAG,EAAE,YAAY;MACb,OAAO,KAAKR,WAAZ;IACH,CAPyD;IAQ1DgB,UAAU,EAAE,IAR8C;IAS1DC,YAAY,EAAE;EAT4C,CAA9D;EAWAZ,MAAM,CAACC,cAAP,CAAsBZ,UAAU,CAACa,SAAjC,EAA4C,cAA5C,EAA4D;IACxD;AACR;AACA;AACA;IACQC,GAAG,EAAE,YAAY;MACb,OAAO,KAAKP,QAAZ;IACH,CAPuD;IAQxDS,GAAG,EAAE,UAAUC,KAAV,EAAiB;MAClB,IAAIA,KAAK,IAAI,IAAb,EAAmB;QACf,KAAKV,QAAL,GAAgBU,KAAhB;MACH,CAFD,MAGK;QACD,MAAMO,KAAK,CAAC,wBAAD,CAAX;MACH;IACJ,CAfuD;IAgBxDF,UAAU,EAAE,IAhB4C;IAiBxDC,YAAY,EAAE;EAjB0C,CAA5D;EAmBAZ,MAAM,CAACC,cAAP,CAAsBZ,UAAU,CAACa,SAAjC,EAA4C,SAA5C,EAAuD;IACnD;AACR;AACA;AACA;IACQC,GAAG,EAAE,YAAY;MACb,OAAO,KAAKI,OAAZ;IACH,CAPkD;IAQnDI,UAAU,EAAE,IARuC;IASnDC,YAAY,EAAE;EATqC,CAAvD;EAWAZ,MAAM,CAACC,cAAP,CAAsBZ,UAAU,CAACa,SAAjC,EAA4C,OAA5C,EAAqD;IACjD;AACR;AACA;AACA;IACQC,GAAG,EAAE,YAAY;MACb,OAAO,KAAKW,eAAL,CAAqBC,KAA5B;IACH,CAPgD;IAQjDJ,UAAU,EAAE,IARqC;IASjDC,YAAY,EAAE;EATmC,CAArD;EAWAZ,MAAM,CAACC,cAAP,CAAsBZ,UAAU,CAACa,SAAjC,EAA4C,UAA5C,EAAwD;IACpD;AACR;AACA;AACA;IACQC,GAAG,EAAE,YAAY;MACb,IAAI,KAAKa,YAAL,IAAqB,IAAzB,EAA+B;QAC3B,KAAKA,YAAL,GAAoB,IAAI5B,kBAAJ,EAApB;MACH;;MACD,OAAO,KAAK4B,YAAZ;IACH,CAVmD;IAWpDX,GAAG,EAAE,UAAUC,KAAV,EAAiB;MAClB,KAAKU,YAAL,GAAoBV,KAApB;IACH,CAbmD;IAcpDK,UAAU,EAAE,IAdwC;IAepDC,YAAY,EAAE;EAfsC,CAAxD;EAiBAZ,MAAM,CAACC,cAAP,CAAsBZ,UAAU,CAACa,SAAjC,EAA4C,UAA5C,EAAwD;IACpD;AACR;AACA;AACA;IACQC,GAAG,EAAE,YAAY;MACb,OAAO,KAAKC,iBAAL,CAAuBd,QAA9B;IACH,CAPmD;IAQpDqB,UAAU,EAAE,IARwC;IASpDC,YAAY,EAAE;EATsC,CAAxD;EAWAZ,MAAM,CAACC,cAAP,CAAsBZ,UAAU,CAACa,SAAjC,EAA4C,OAA5C,EAAqD;IACjD;AACR;AACA;AACA;IACQC,GAAG,EAAE,YAAY;MACb,IAAI,KAAKc,eAAL,IAAwB,IAAxB,IAAgC,OAAO,KAAKA,eAAZ,KAAgC,WAApE,EAAiF;QAC7E,KAAKA,eAAL,GAAuB,IAAI/B,wBAAJ,CAA6B,IAA7B,CAAvB;MACH;;MACD,OAAO,KAAK+B,eAAZ;IACH,CAVgD;IAWjDN,UAAU,EAAE,IAXqC;IAYjDC,YAAY,EAAE;EAZmC,CAArD,EA9HwC,CA4IxC;;EACA;AACJ;AACA;AACA;;EACIvB,UAAU,CAACa,SAAX,CAAqBgB,QAArB,GAAgC,YAAY;IACxC,OAAO,KAAKzB,QAAZ;EACH,CAFD;EAGA;AACJ;AACA;AACA;;;EACIJ,UAAU,CAACa,SAAX,CAAqBiB,gBAArB,GAAwC,UAAUC,IAAV,EAAgBC,KAAhB,EAAuB;IAC3D,IAAIC,MAAM,GAAG,KAAKC,eAAL,CAAqBH,IAArB,EAA2B,IAA3B,CAAb;IACAC,KAAK,CAACG,CAAN,IAAWF,MAAM,CAACE,CAAlB;IACAH,KAAK,CAACI,CAAN,GAAU,KAAKlC,YAAL,CAAkBmC,MAAlB,GAA4BL,KAAK,CAACI,CAA5C;IACA,OAAOJ,KAAP;EACH,CALD;EAMA;AACJ;AACA;AACA;AACA;;;EACIhC,UAAU,CAACa,SAAX,CAAqByB,eAArB,GAAuC,UAAU/B,QAAV,EAAoB;IACvD,KAAKA,QAAL,GAAgBA,QAAhB;IACA,KAAKgC,KAAL,CAAWC,WAAX,GAAyBjC,QAAQ,CAACiC,WAAlC;IACA,KAAKD,KAAL,CAAWE,MAAX,GAAoBlC,QAAQ,CAACkC,MAA7B;IACA,KAAKF,KAAL,CAAWG,IAAX,GAAkBnC,QAAQ,CAACmC,IAA3B;IACA,KAAKH,KAAL,CAAWI,MAAX,GAAoBpC,QAAQ,CAACoC,MAA7B;EACH,CAND;EAOA;AACJ;AACA;AACA;;;EACI3C,UAAU,CAACa,SAAX,CAAqBH,UAArB,GAAkC,YAAY;IAC1C,KAAKe,eAAL,GAAuB,IAAInC,QAAJ,EAAvB;IACA,KAAK4B,OAAL,GAAe,IAAIzB,aAAJ,EAAf;IACA,KAAK8C,KAAL,GAAa,IAAIK,iBAAJ,CAAsB,KAAKtC,WAA3B,CAAb;IACA,KAAKY,OAAL,CAAa2B,gBAAb,GAAgC,IAAInD,uBAAJ,CAA4B,IAA5B,EAAkC,KAAK6C,KAAvC,CAAhC;IACA,KAAKO,SAAL,GAAiB,IAAIvD,SAAJ,CAAc,CAAd,CAAjB;IACA,KAAK2B,OAAL,CAAaC,KAAb,CAAmBC,QAAnB,CAA4B,KAAKf,oBAAL,CAA0BqB,KAAtD,EAA6D,KAAKoB,SAAlE;IACA,KAAK5B,OAAL,CAAaC,KAAb,CAAmBC,QAAnB,CAA4B,KAAKf,oBAAL,CAA0B0C,IAAtD,EAA4D,IAAIvD,OAAJ,CAAY,KAAKa,oBAAL,CAA0B2C,KAAtC,CAA5D;IACA,KAAK9B,OAAL,CAAaC,KAAb,CAAmBC,QAAnB,CAA4B,KAAKf,oBAAL,CAA0B4C,IAAtD,EAA4D,KAAKxB,eAAjE;EACH,CATD;EAUA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;;EACIzB,UAAU,CAACa,SAAX,CAAqBqC,iBAArB,GAAyC,UAAUjD,QAAV,EAAoB8B,IAApB,EAA0BoB,UAA1B,EAAsC;IAC3E,IAAIC,eAAe,GAAG,KAAKC,oBAAL,CAA0BpD,QAA1B,EAAoC8B,IAApC,EAA0CoB,UAA1C,CAAtB;IACA,IAAIG,gBAAgB,GAAG,KAAKC,mBAAL,CAAyBxB,IAAzB,EAA+BoB,UAA/B,CAAvB;IACA,OAAQC,eAAe,CAACI,MAAhB,GAAyB,CAAzB,IAA8BF,gBAAgB,CAACE,MAAjB,GAA0B,CAAhE;EACH,CAJD;EAKA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;EACI;;;EACAxD,UAAU,CAACa,SAAX,CAAqBwC,oBAArB,GAA4C,UAAUpD,QAAV,EAAoB8B,IAApB,EAA0BoB,UAA1B,EAAsC;IAC9E,IAAIM,SAAS,GAAG,EAAhB;;IACA,IAAI,KAAKC,QAAL,CAAcC,wBAAd,IAA0C1D,QAAQ,CAACyD,QAAT,CAAkBE,MAAlB,CAAyB7B,IAAzB,KAAkC,IAAhF,EAAsF;MAClF,IAAK,EAAE9B,QAAQ,CAACyD,QAAT,CAAkBE,MAAlB,CAAyB7B,IAAzB,EAA+BoB,UAA/B,IAA6CA,UAA/C,CAAD,IAAiElD,QAAQ,CAACyD,QAAT,CAAkBE,MAAlB,CAAyB7B,IAAzB,EAA+BoB,UAA/B,IAA6CA,UAAlH,EAA+H;QAC3HM,SAAS,CAACI,IAAV,CAAe5D,QAAQ,CAACyD,QAAT,CAAkBE,MAAlB,CAAyB7B,IAAzB,CAAf;MACH;IACJ;;IACD,IAAI,KAAK2B,QAAL,CAAcI,2BAAd,IAA6C7D,QAAQ,CAACyD,QAAT,CAAkBK,SAAlB,CAA4BhC,IAA5B,KAAqC,IAAtF,EAA4F;MACxF,IAAK,EAAE9B,QAAQ,CAACyD,QAAT,CAAkBK,SAAlB,CAA4BhC,IAA5B,EAAkCoB,UAAlC,IAAgDA,UAAlD,CAAD,IAAoElD,QAAQ,CAACyD,QAAT,CAAkBK,SAAlB,CAA4BhC,IAA5B,EAAkCoB,UAAlC,IAAgDA,UAAxH,EAAqI;QACjIM,SAAS,CAACI,IAAV,CAAe5D,QAAQ,CAACyD,QAAT,CAAkBK,SAAlB,CAA4BhC,IAA5B,CAAf;MACH;IACJ;;IACD,IAAI,KAAK2B,QAAL,CAAcM,yBAAd,IAA2C/D,QAAQ,CAACyD,QAAT,CAAkBO,OAAlB,CAA0BlC,IAA1B,KAAmC,IAAlF,EAAwF;MACpF,IAAK,EAAE9B,QAAQ,CAACyD,QAAT,CAAkBO,OAAlB,CAA0BlC,IAA1B,EAAgCoB,UAAhC,IAA8CA,UAAhD,CAAD,IAAkElD,QAAQ,CAACyD,QAAT,CAAkBO,OAAlB,CAA0BlC,IAA1B,EAAgCoB,UAAhC,IAA8CA,UAApH,EAAiI;QAC7HM,SAAS,CAACI,IAAV,CAAe5D,QAAQ,CAACyD,QAAT,CAAkBO,OAAlB,CAA0BlC,IAA1B,CAAf;MACH;IACJ;;IACD,IAAI,KAAK2B,QAAL,CAAcQ,0BAAd,IAA4CjE,QAAQ,CAACyD,QAAT,CAAkBS,QAAlB,CAA2BpC,IAA3B,KAAoC,IAApF,EAA0F;MACtF,IAAK,EAAE9B,QAAQ,CAACyD,QAAT,CAAkBS,QAAlB,CAA2BpC,IAA3B,EAAiCoB,UAAjC,IAA+CA,UAAjD,CAAD,IAAmElD,QAAQ,CAACyD,QAAT,CAAkBS,QAAlB,CAA2BpC,IAA3B,EAAiCoB,UAAjC,IAA+CA,UAAtH,EAAmI;QAC/HM,SAAS,CAACI,IAAV,CAAe5D,QAAQ,CAACyD,QAAT,CAAkBS,QAAlB,CAA2BpC,IAA3B,CAAf;MACH;IACJ;;IACD,OAAO0B,SAAP;EACH,CAvBD;EAwBA;AACJ;AACA;AACA;AACA;AACA;AACA;;EACI;;;EACAzD,UAAU,CAACa,SAAX,CAAqB0C,mBAArB,GAA2C,UAAUxB,IAAV,EAAgBoB,UAAhB,EAA4B;IACnE,IAAIM,SAAS,GAAG,EAAhB;;IACA,IAAI,KAAKC,QAAL,CAAcE,MAAd,CAAqB7B,IAArB,KAA8B,IAAlC,EAAwC;MACpC,IAAIJ,YAAY,GAAG,KAAK+B,QAAL,CAAcE,MAAd,CAAqB7B,IAArB,CAAnB;;MACA,IAAK,EAAEJ,YAAY,CAACwB,UAAb,IAA2BA,UAA7B,CAAD,IAA+CxB,YAAY,CAACwB,UAAb,IAA2BA,UAA9E,EAA2F;QACvFM,SAAS,CAACI,IAAV,CAAelC,YAAf;MACH;IACJ;;IACD,IAAI,KAAK+B,QAAL,CAAcK,SAAd,CAAwBhC,IAAxB,KAAiC,IAArC,EAA2C;MACvC,IAAIJ,YAAY,GAAG,KAAK+B,QAAL,CAAcK,SAAd,CAAwBhC,IAAxB,CAAnB;;MACA,IAAK,EAAEJ,YAAY,CAACwB,UAAb,IAA2BA,UAA7B,CAAD,IAA+CxB,YAAY,CAACwB,UAAb,IAA2BA,UAA9E,EAA2F;QACvFM,SAAS,CAACI,IAAV,CAAelC,YAAf;MACH;IACJ;;IACD,IAAI,KAAK+B,QAAL,CAAcO,OAAd,CAAsBlC,IAAtB,KAA+B,IAAnC,EAAyC;MACrC,IAAIJ,YAAY,GAAG,KAAK+B,QAAL,CAAcO,OAAd,CAAsBlC,IAAtB,CAAnB;;MACA,IAAK,EAAEJ,YAAY,CAACwB,UAAb,IAA2BA,UAA7B,CAAD,IAA+CxB,YAAY,CAACwB,UAAb,IAA2BA,UAA9E,EAA2F;QACvFM,SAAS,CAACI,IAAV,CAAelC,YAAf;MACH;IACJ;;IACD,IAAI,KAAK+B,QAAL,CAAcS,QAAd,CAAuBpC,IAAvB,KAAgC,IAApC,EAA0C;MACtC,IAAIJ,YAAY,GAAG,KAAK+B,QAAL,CAAcS,QAAd,CAAuBpC,IAAvB,CAAnB;;MACA,IAAK,EAAEJ,YAAY,CAACwB,UAAb,IAA2BA,UAA7B,CAAD,IAA+CxB,YAAY,CAACwB,UAAb,IAA2BA,UAA9E,EAA2F;QACvFM,SAAS,CAACI,IAAV,CAAelC,YAAf;MACH;IACJ;;IACD,OAAO8B,SAAP;EACH,CA3BD;EA4BA;;EACA;AACJ;AACA;AACA;;;EACIzD,UAAU,CAACa,SAAX,CAAqBuD,GAArB,GAA2B,UAAUrC,IAAV,EAAgB;IACvC,IAAI,OAAOA,IAAP,KAAgB,WAApB,EAAiC;MAC7B,IAAIsC,MAAM,GAAG,IAAIlF,OAAJ,EAAb;MACA,KAAKiF,GAAL,CAASC,MAAT;MACA,OAAOA,MAAP;IACH,CAJD,MAKK;MACD,IAAIC,CAAC,GAAG,KAAKC,aAAL,CAAmBxC,IAAnB,CAAR;MACA,KAAK3B,QAAL,CAAcyD,IAAd,CAAmB9B,IAAnB;MACA,KAAKN,eAAL,CAAqB2C,GAArB,CAAyBE,CAAzB;MACAvC,IAAI,CAACyC,UAAL,CAAgB,IAAhB;MACAzC,IAAI,CAAC0C,aAAL;MACA,KAAKC,eAAL,CAAqB3C,IAArB;IACH;EACJ,CAdD;EAeA;AACJ;AACA;AACA;;;EACI/B,UAAU,CAACa,SAAX,CAAqB0D,aAArB,GAAqC,UAAUxC,IAAV,EAAgB;IACjD,IAAI4C,EAAE,GAAG,IAAItF,kBAAJ,CAAuB0C,IAAvB,CAAT;IACA,IAAI6C,QAAQ,GAAG,KAAf;IACA,IAAIC,EAAE,GAAG,KAAKxD,MAAd;;IACA,KAAK,IAAIyD,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGD,EAAE,CAAC3D,OAAH,CAAWsC,MAAvC,EAA+CsB,KAAK,EAApD,EAAwD;MACpD,IAAI5D,OAAO,GAAG2D,EAAE,CAAC3D,OAAH,CAAW4D,KAAX,CAAd;MACAF,QAAQ,GAAGA,QAAQ,IAAI1D,OAAO,CAAC0D,QAAR,CAAiB7C,IAAjB,CAAvB;IACH;;IACD,OAAO4C,EAAP;EACH,CATD;EAUA;AACJ;AACA;AACA;;;EACI3E,UAAU,CAACa,SAAX,CAAqB+D,QAArB,GAAgC,UAAU7C,IAAV,EAAgB;IAC5C,IAAI+C,KAAK,GAAG,KAAKC,OAAL,CAAahD,IAAb,CAAZ;IACA,OAAQ,KAAK+C,KAAb;EACH,CAHD;EAIA;AACJ;AACA;AACA;;;EACI9E,UAAU,CAACa,SAAX,CAAqBkE,OAArB,GAA+B,UAAUhD,IAAV,EAAgB;IAC3C,KAAK,IAAI+C,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAG,KAAK1E,QAAL,CAAcoD,MAA1C,EAAkDsB,KAAK,EAAvD,EAA2D;MACvD,IAAI,KAAK1E,QAAL,CAAc0E,KAAd,MAAyB/C,IAA7B,EAAmC;QAC/B,OAAO,KAAK3B,QAAL,CAAc2E,OAAd,CAAsBhD,IAAtB,CAAP;MACH;IACJ;;IACD,IAAIuC,CAAC,GAAG,IAAIjF,kBAAJ,CAAuB0C,IAAvB,CAAR;IACA,OAAO,KAAKN,eAAL,CAAqBsD,OAArB,CAA6BT,CAA7B,CAAP;EACH,CARD;EASA;AACJ;AACA;AACA;AACA;;;EACItE,UAAU,CAACa,SAAX,CAAqB6D,eAArB,GAAuC,UAAU3C,IAAV,EAAgB;IACnD;IACA,IAAIiD,IAAI,GAAG,IAAI5F,kBAAJ,CAAuB2C,IAAvB,CAAX;IACA,KAAKkD,WAAL,CAAiBD,IAAjB;IACA,IAAI3D,MAAM,GAAG,KAAKA,MAAlB;IACAA,MAAM,CAACpB,QAAP,CAAgB+C,KAAhB,CAAsBiC,WAAtB,CAAkCD,IAAlC;IACA,KAAKlC,SAAL,CAAeoC,QAAf,GAA0B,KAAKxD,KAA/B;EACH,CAPD;EAQA;AACJ;AACA;AACA;AACA;;;EACI1B,UAAU,CAACa,SAAX,CAAqBoE,WAArB,GAAmC,UAAUD,IAAV,EAAgB,CAC/C;EACH,CAFD;;EAGAhF,UAAU,CAACa,SAAX,CAAqBqB,eAArB,GAAuC,UAAUiD,IAAV,EAAgBC,IAAhB,EAAsBC,IAAtB,EAA4B;IAC/D,IAAIF,IAAI,YAAYhG,OAAhB,IAA2B,OAAOiG,IAAP,KAAgB,SAA/C,EAA0D;MACtD,IAAIE,MAAM,GAAG,KAAK,CAAlB;MACA,IAAIC,UAAU,GAAG,KAAKlE,MAAL,CAAYpB,QAA7B;MACAqF,MAAM,GAAG,KAAKpD,eAAL,CAAqBqD,UAArB,EAAiCJ,IAAjC,EAAuCC,IAAvC,CAAT;MACA,OAAOE,MAAP;IACH,CALD,MAMK;MACDH,IAAI,GAAGA,IAAP;MACAC,IAAI,GAAGA,IAAP;MACAC,IAAI,GAAGA,IAAP;MACA,IAAIpD,MAAM,GAAG,IAAInC,UAAJ,CAAe,CAAf,EAAkB,CAAlB,EAAqB,CAArB,EAAwB,CAAxB,CAAb;MACAmC,MAAM,CAACI,MAAP,GAAiBgD,IAAD,GAAS,KAAKnF,YAAL,CAAkBwC,IAAlB,CAAuBL,MAAhC,GAAyC,KAAKnC,YAAL,CAAkBsF,aAAlB,GAAkCnD,MAA3F;MACAJ,MAAM,CAACwD,KAAP,GAAgBJ,IAAD,GAAS,KAAKnF,YAAL,CAAkBwC,IAAlB,CAAuB+C,KAAhC,GAAwC,KAAKvF,YAAL,CAAkBsF,aAAlB,GAAkCC,KAAzF;MACA,IAAIC,IAAI,GAAG,KAAKC,kBAAL,CAAwBR,IAAxB,EAA8BC,IAA9B,EAAoCC,IAApC,CAAX;MACA,IAAIO,KAAK,GAAG,KAAKC,kBAAL,CAAwBV,IAAxB,EAA8BC,IAA9B,EAAoCC,IAApC,CAAZ;MACA,IAAIS,KAAK,GAAG,KAAKC,mBAAL,CAAyBZ,IAAzB,EAA+BC,IAA/B,EAAqCC,IAArC,CAAZ;MACA,IAAIW,MAAM,GAAG,KAAKC,qBAAL,CAA2Bd,IAA3B,EAAiCC,IAAjC,EAAuCC,IAAvC,CAAb;MACApD,MAAM,CAACE,CAAP,IAAYuD,IAAZ;MACAzD,MAAM,CAACG,CAAP,IAAYwD,KAAZ;MACA3D,MAAM,CAACwD,KAAP,IAAiBC,IAAI,GAAGI,KAAxB;MACA7D,MAAM,CAACI,MAAP,IAAkBuD,KAAK,GAAGI,MAA1B;MACA,OAAO/D,MAAP;IACH;EACJ,CAxBD;EAyBA;AACJ;AACA;AACA;;;EACIjC,UAAU,CAACa,SAAX,CAAqB8E,kBAArB,GAA0C,UAAU1F,QAAV,EAAoB8B,IAApB,EAA0BmE,cAA1B,EAA0C;IAChF,IAAIjG,QAAQ,IAAI,IAAhB,EAAsB;MAClB,MAAM,IAAIuB,KAAJ,CAAU,gCAAV,CAAN;IACH;;IACD,IAAIO,IAAI,IAAI,IAAZ,EAAkB;MACd,MAAM,IAAIP,KAAJ,CAAU,4BAAV,CAAN;IACH;;IACD,IAAIP,KAAK,GAAIiF,cAAD,GAAmB,KAAKhG,YAAL,CAAkBiG,OAAlB,CAA0BT,IAA7C,GAAoD,CAAhE;IACA,IAAIU,aAAa,GAAI,KAAK1C,QAAL,CAAcO,OAAd,CAAsBlC,IAAtB,KAA+B,IAAhC,GAAwC,KAAK2B,QAAL,CAAcO,OAAd,CAAsBlC,IAAtB,EAA4B0D,KAApE,GAA4E,CAAhG;IACA,IAAIY,gBAAgB,GAAIpG,QAAQ,CAACyD,QAAT,CAAkBO,OAAlB,CAA0BlC,IAA1B,KAAmC,IAApC,GAA4C9B,QAAQ,CAACyD,QAAT,CAAkBO,OAAlB,CAA0BlC,IAA1B,EAAgC0D,KAA5E,GAAoF,CAA3G;IACAxE,KAAK,IAAK,KAAKyC,QAAL,CAAcM,yBAAf,GAA4CsC,IAAI,CAACC,GAAL,CAASH,aAAT,EAAwBC,gBAAxB,CAA5C,GAAwFD,aAAjG;IACA,OAAOnF,KAAP;EACH,CAZD;EAaA;AACJ;AACA;AACA;;;EACIjB,UAAU,CAACa,SAAX,CAAqBgF,kBAArB,GAA0C,UAAU5F,QAAV,EAAoB8B,IAApB,EAA0BmE,cAA1B,EAA0C;IAChF,IAAIjG,QAAQ,IAAI,IAAhB,EAAsB;MAClB,MAAM,IAAIuB,KAAJ,CAAU,gCAAV,CAAN;IACH;;IACD,IAAIO,IAAI,IAAI,IAAZ,EAAkB;MACd,MAAM,IAAIP,KAAJ,CAAU,4BAAV,CAAN;IACH;;IACD,IAAIP,KAAK,GAAIiF,cAAD,GAAmB,KAAKhG,YAAL,CAAkBiG,OAAlB,CAA0BK,GAA7C,GAAmD,CAA/D;IACA,IAAIC,cAAc,GAAI,KAAK/C,QAAL,CAAcE,MAAd,CAAqB7B,IAArB,KAA8B,IAA/B,GAAuC,KAAK2B,QAAL,CAAcE,MAAd,CAAqB7B,IAArB,EAA2BM,MAAlE,GAA2E,CAAhG;IACA,IAAIqE,iBAAiB,GAAIzG,QAAQ,CAACyD,QAAT,CAAkBE,MAAlB,CAAyB7B,IAAzB,KAAkC,IAAnC,GAA2C9B,QAAQ,CAACyD,QAAT,CAAkBE,MAAlB,CAAyB7B,IAAzB,EAA+BM,MAA1E,GAAmF,CAA3G;IACApB,KAAK,IAAK,KAAKyC,QAAL,CAAcC,wBAAf,GAA2C2C,IAAI,CAACC,GAAL,CAASE,cAAT,EAAyBC,iBAAzB,CAA3C,GAAyFD,cAAlG;IACA,OAAOxF,KAAP;EACH,CAZD;EAaA;AACJ;AACA;AACA;;;EACIjB,UAAU,CAACa,SAAX,CAAqBkF,mBAArB,GAA2C,UAAU9F,QAAV,EAAoB8B,IAApB,EAA0BmE,cAA1B,EAA0C;IACjF,IAAIjG,QAAQ,IAAI,IAAhB,EAAsB;MAClB,MAAM,IAAIuB,KAAJ,CAAU,gCAAV,CAAN;IACH;;IACD,IAAIO,IAAI,IAAI,IAAZ,EAAkB;MACd,MAAM,IAAIP,KAAJ,CAAU,4BAAV,CAAN;IACH;;IACD,IAAIP,KAAK,GAAIiF,cAAD,GAAmB,KAAKhG,YAAL,CAAkBiG,OAAlB,CAA0BL,KAA7C,GAAqD,CAAjE;IACA,IAAIM,aAAa,GAAI,KAAK1C,QAAL,CAAcS,QAAd,CAAuBpC,IAAvB,KAAgC,IAAjC,GAAyC,KAAK2B,QAAL,CAAcS,QAAd,CAAuBpC,IAAvB,EAA6B0D,KAAtE,GAA8E,CAAlG;IACA,IAAIY,gBAAgB,GAAIpG,QAAQ,CAACyD,QAAT,CAAkBS,QAAlB,CAA2BpC,IAA3B,KAAoC,IAArC,GAA6C9B,QAAQ,CAACyD,QAAT,CAAkBS,QAAlB,CAA2BpC,IAA3B,EAAiC0D,KAA9E,GAAsF,CAA7G;IACAxE,KAAK,IAAK,KAAKyC,QAAL,CAAcQ,0BAAf,GAA6CoC,IAAI,CAACC,GAAL,CAASH,aAAT,EAAwBC,gBAAxB,CAA7C,GAAyFD,aAAlG;IACA,OAAOnF,KAAP;EACH,CAZD;EAaA;AACJ;AACA;AACA;;;EACIjB,UAAU,CAACa,SAAX,CAAqBoF,qBAArB,GAA6C,UAAUhG,QAAV,EAAoB8B,IAApB,EAA0BmE,cAA1B,EAA0C;IACnF,IAAIjG,QAAQ,IAAI,IAAhB,EAAsB;MAClB,MAAM,IAAIuB,KAAJ,CAAU,gCAAV,CAAN;IACH;;IACD,IAAIO,IAAI,IAAI,IAAZ,EAAkB;MACd,MAAM,IAAIP,KAAJ,CAAU,4BAAV,CAAN;IACH;;IACD,IAAIP,KAAK,GAAIiF,cAAD,GAAmB,KAAKhG,YAAL,CAAkBiG,OAAlB,CAA0BH,MAA7C,GAAsD,CAAlE;IACA,IAAIS,cAAc,GAAI,KAAK/C,QAAL,CAAcK,SAAd,CAAwBhC,IAAxB,KAAiC,IAAlC,GAA0C,KAAK2B,QAAL,CAAcK,SAAd,CAAwBhC,IAAxB,EAA8BM,MAAxE,GAAiF,CAAtG;IACA,IAAIqE,iBAAiB,GAAIzG,QAAQ,CAACyD,QAAT,CAAkBK,SAAlB,CAA4BhC,IAA5B,KAAqC,IAAtC,GAA8C9B,QAAQ,CAACyD,QAAT,CAAkBK,SAAlB,CAA4BhC,IAA5B,EAAkCM,MAAhF,GAAyF,CAAjH;IACApB,KAAK,IAAK,KAAKyC,QAAL,CAAcI,2BAAf,GAA8CwC,IAAI,CAACC,GAAL,CAASE,cAAT,EAAyBC,iBAAzB,CAA9C,GAA4FD,cAArG;IACA,OAAOxF,KAAP;EACH,CAZD;EAaA;AACJ;AACA;AACA;;;EACIjB,UAAU,CAACa,SAAX,CAAqB8F,MAArB,GAA8B,UAAU5E,IAAV,EAAgB;IAC1C,IAAIA,IAAI,IAAI,IAAZ,EAAkB;MACd,MAAMP,KAAK,CAAC,+BAAD,CAAX;IACH;;IACD,IAAIsD,KAAK,GAAG,KAAK1E,QAAL,CAAc2E,OAAd,CAAsBhD,IAAtB,CAAZ;IACA,KAAKN,eAAL,CAAqBmF,QAArB,CAA8B9B,KAA9B;IACA,IAAI+B,cAAc,GAAG,EAArB;;IACA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGhC,KAApB,EAA2BgC,CAAC,EAA5B,EAAgC;MAC5BD,cAAc,CAAChD,IAAf,CAAoB,KAAKzD,QAAL,CAAc0G,CAAd,CAApB;IACH;;IACD,KAAK,IAAIA,CAAC,GAAGhC,KAAK,GAAG,CAArB,EAAwBgC,CAAC,GAAG,KAAK1G,QAAL,CAAcoD,MAA1C,EAAkDsD,CAAC,EAAnD,EAAuD;MACnDD,cAAc,CAAChD,IAAf,CAAoB,KAAKzD,QAAL,CAAc0G,CAAd,CAApB;IACH;;IACD,KAAK1G,QAAL,GAAgByG,cAAhB;EACH,CAdD;EAeA;AACJ;AACA;AACA;;;EACI7G,UAAU,CAACa,SAAX,CAAqBkG,iBAArB,GAAyC,UAAUC,SAAV,EAAqBC,cAArB,EAAqC1E,KAArC,EAA4C;IACjF,IAAIN,MAAM,GAAG,IAAInC,UAAJ,CAAeyC,KAAK,CAACI,MAArB,EAA6BJ,KAAK,CAACG,IAAnC,CAAb;IACAsE,SAAS,CAAC7F,KAAV,CAAgBC,QAAhB,CAAyB,KAAKf,oBAAL,CAA0B6G,QAAnD,EAA6D5H,QAAQ,CAAC6H,aAAT,CAAuBlF,MAAvB,CAA7D;IACA,IAAIQ,MAAM,GAAG,CAAb;IACAA,MAAM,GAAG7C,oBAAoB,CAACwH,YAArB,GAAoC7E,KAAK,CAACE,MAAnD;IACA,IAAI4E,KAAK,GAAG,IAAI9H,SAAJ,CAAckD,MAAd,CAAZ;IACAuE,SAAS,CAAC7F,KAAV,CAAgBC,QAAhB,CAAyB,KAAKf,oBAAL,CAA0BoC,MAAnD,EAA2D4E,KAA3D;EACH,CAPD;EAQA;AACJ;AACA;AACA;AACA;;;EACIrH,UAAU,CAACa,SAAX,CAAqByG,SAArB,GAAiC,UAAU/E,KAAV,EAAiBgF,MAAjB,EAAyB;IACtD,IAAIC,GAAG,GAAGD,MAAM,CAACtH,QAAjB;IACA,KAAK8G,iBAAL,CAAuB,KAAK7F,OAA5B,EAAqCsG,GAAG,CAACtH,YAAzC,EAAuDqC,KAAvD;EACH,CAHD;EAIA;AACJ;AACA;AACA;;;EACIvC,UAAU,CAACa,SAAX,CAAqB4G,aAArB,GAAqC,UAAU1F,IAAV,EAAgB2F,KAAhB,EAAuBzH,QAAvB,EAAiCkD,UAAjC,EAA6C;IAC9E,IAAIC,eAAe,GAAG,KAAKC,oBAAL,CAA0BpD,QAA1B,EAAoC8B,IAApC,EAA0CoB,UAA1C,CAAtB;IACA,IAAIwE,cAAc,GAAG,KAAKpE,mBAAL,CAAyBxB,IAAzB,EAA+BoB,UAA/B,CAArB;IACA,KAAKyE,mBAAL,CAAyBF,KAAzB,EAAgCzH,QAAhC,EAA0CmD,eAA1C;IACA,KAAKwE,mBAAL,CAAyBF,KAAzB,EAAgCzH,QAAhC,EAA0C0H,cAA1C;EACH,CALD;EAMA;AACJ;AACA;AACA;;;EACI3H,UAAU,CAACa,SAAX,CAAqB+G,mBAArB,GAA2C,UAAUF,KAAV,EAAiBzH,QAAjB,EAA2BwD,SAA3B,EAAsC;IAC7E,IAAIA,SAAS,IAAI,IAAb,IAAqBA,SAAS,CAACD,MAAV,GAAmB,CAA5C,EAA+C;MAC3C,IAAIqE,GAAG,GAAGpE,SAAS,CAACD,MAApB;;MACA,KAAK,IAAIsE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,GAApB,EAAyBC,CAAC,EAA1B,EAA8B;QAC1B,IAAIpE,QAAQ,GAAGD,SAAS,CAACqE,CAAD,CAAxB;QACApE,QAAQ,CAACqE,IAAT,CAAcL,KAAd,EAAqBzH,QAArB;MACH;IACJ;EACJ,CARD;;EASA,OAAOD,UAAP;AACH,CAnf+B,EAAhC;;AAofA,SAASA,UAAT;;AACA,IAAI4C,iBAAiB;AAAG;AAAe,YAAY;EAC/C;;EACA;AACJ;AACA;AACA;EACI,SAASA,iBAAT,CAA2B3C,QAA3B,EAAqC;IACjC,KAAK+H,eAAL,GAAuB/H,QAAQ,CAACC,YAAT,CAAsBsC,WAA7C;IACA,KAAKyF,UAAL,GAAkBhI,QAAQ,CAACC,YAAT,CAAsBuC,MAAxC;IACA,KAAKyF,QAAL,GAAgBjI,QAAQ,CAACC,YAAT,CAAsBwC,IAAtC;IACA,KAAKyF,UAAL,GAAkBlI,QAAQ,CAACC,YAAT,CAAsByC,MAAxC;EACH;;EACDhC,MAAM,CAACC,cAAP,CAAsBgC,iBAAiB,CAAC/B,SAAxC,EAAmD,aAAnD,EAAkE;IAC9D;;IACA;AACR;AACA;AACA;IACQC,GAAG,EAAE,YAAY;MACb,OAAO,KAAKkH,eAAZ;IACH,CAR6D;IAS9DhH,GAAG,EAAE,UAAUC,KAAV,EAAiB;MAClB,KAAK+G,eAAL,GAAuB/G,KAAvB;IACH,CAX6D;IAY9DK,UAAU,EAAE,IAZkD;IAa9DC,YAAY,EAAE;EAbgD,CAAlE;EAeAZ,MAAM,CAACC,cAAP,CAAsBgC,iBAAiB,CAAC/B,SAAxC,EAAmD,QAAnD,EAA6D;IACzD;AACR;AACA;AACA;IACQC,GAAG,EAAE,YAAY;MACb,OAAO,KAAKmH,UAAZ;IACH,CAPwD;IAQzDjH,GAAG,EAAE,UAAUC,KAAV,EAAiB;MAClB,KAAKgH,UAAL,GAAkBhH,KAAlB;IACH,CAVwD;IAWzDK,UAAU,EAAE,IAX6C;IAYzDC,YAAY,EAAE;EAZ2C,CAA7D;EAcAZ,MAAM,CAACC,cAAP,CAAsBgC,iBAAiB,CAAC/B,SAAxC,EAAmD,MAAnD,EAA2D;IACvD;AACR;AACA;AACA;IACQC,GAAG,EAAE,YAAY;MACb,OAAO,KAAKoH,QAAZ;IACH,CAPsD;IAQvDlH,GAAG,EAAE,UAAUC,KAAV,EAAiB;MAClB,KAAKiH,QAAL,GAAgBjH,KAAhB;IACH,CAVsD;IAWvDK,UAAU,EAAE,IAX2C;IAYvDC,YAAY,EAAE;EAZyC,CAA3D;EAcAZ,MAAM,CAACC,cAAP,CAAsBgC,iBAAiB,CAAC/B,SAAxC,EAAmD,QAAnD,EAA6D;IACzD;AACR;AACA;AACA;IACQC,GAAG,EAAE,YAAY;MACb,OAAO,KAAKqH,UAAZ;IACH,CAPwD;IAQzDnH,GAAG,EAAE,UAAUC,KAAV,EAAiB;MAClB,KAAKkH,UAAL,GAAkBlH,KAAlB;IACH,CAVwD;IAWzDK,UAAU,EAAE,IAX6C;IAYzDC,YAAY,EAAE;EAZ2C,CAA7D;EAcA,OAAOqB,iBAAP;AACH,CAtEsC,EAAvC;;AAuEA,SAASA,iBAAT"},"metadata":{},"sourceType":"module"}