{"ast":null,"code":"'use strict';\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar React = require('react');\n\nvar PropTypes = require('prop-types');\n\nvar _require = require('react-dom'),\n    findDOMNode = _require.findDOMNode;\n\nvar scrollIntoView = require('dom-scroll-into-view');\n\nvar IMPERATIVE_API = ['blur', 'checkValidity', 'click', 'focus', 'select', 'setCustomValidity', 'setSelectionRange', 'setRangeText'];\n\nfunction getScrollOffset() {\n  return {\n    x: window.pageXOffset !== undefined ? window.pageXOffset : (document.documentElement || document.body.parentNode || document.body).scrollLeft,\n    y: window.pageYOffset !== undefined ? window.pageYOffset : (document.documentElement || document.body.parentNode || document.body).scrollTop\n  };\n}\n\nvar Autocomplete = function (_React$Component) {\n  _inherits(Autocomplete, _React$Component);\n\n  function Autocomplete(props) {\n    _classCallCheck(this, Autocomplete);\n\n    var _this = _possibleConstructorReturn(this, (Autocomplete.__proto__ || Object.getPrototypeOf(Autocomplete)).call(this, props));\n\n    _this.state = {\n      isOpen: false,\n      highlightedIndex: null\n    };\n    _this._debugStates = [];\n    _this.ensureHighlightedIndex = _this.ensureHighlightedIndex.bind(_this);\n    _this.exposeAPI = _this.exposeAPI.bind(_this);\n    _this.handleInputFocus = _this.handleInputFocus.bind(_this);\n    _this.handleInputBlur = _this.handleInputBlur.bind(_this);\n    _this.handleChange = _this.handleChange.bind(_this);\n    _this.handleKeyDown = _this.handleKeyDown.bind(_this);\n    _this.handleInputClick = _this.handleInputClick.bind(_this);\n    _this.maybeAutoCompleteText = _this.maybeAutoCompleteText.bind(_this);\n    return _this;\n  }\n\n  _createClass(Autocomplete, [{\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      // this.refs is frozen, so we need to assign a new object to it\n      this.refs = {};\n      this._ignoreBlur = false;\n      this._ignoreFocus = false;\n      this._scrollOffset = null;\n      this._scrollTimer = null;\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      clearTimeout(this._scrollTimer);\n      this._scrollTimer = null;\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if (this.state.highlightedIndex !== null) {\n        this.setState(this.ensureHighlightedIndex);\n      }\n\n      if (nextProps.autoHighlight && (this.props.value !== nextProps.value || this.state.highlightedIndex === null)) {\n        this.setState(this.maybeAutoCompleteText);\n      }\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      if (this.isOpen()) {\n        this.setMenuPositions();\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (this.state.isOpen && !prevState.isOpen || 'open' in this.props && this.props.open && !prevProps.open) this.setMenuPositions();\n      this.maybeScrollItemIntoView();\n\n      if (prevState.isOpen !== this.state.isOpen) {\n        this.props.onMenuVisibilityChange(this.state.isOpen);\n      }\n    }\n  }, {\n    key: 'exposeAPI',\n    value: function exposeAPI(el) {\n      var _this2 = this;\n\n      this.refs.input = el;\n      IMPERATIVE_API.forEach(function (ev) {\n        return _this2[ev] = el && el[ev] && el[ev].bind(el);\n      });\n    }\n  }, {\n    key: 'maybeScrollItemIntoView',\n    value: function maybeScrollItemIntoView() {\n      if (this.isOpen() && this.state.highlightedIndex !== null) {\n        var itemNode = this.refs['item-' + this.state.highlightedIndex];\n        var menuNode = this.refs.menu;\n        scrollIntoView(findDOMNode(itemNode), findDOMNode(menuNode), {\n          onlyScrollIfNeeded: true\n        });\n      }\n    }\n  }, {\n    key: 'handleKeyDown',\n    value: function handleKeyDown(event) {\n      if (Autocomplete.keyDownHandlers[event.key]) Autocomplete.keyDownHandlers[event.key].call(this, event);else if (!this.isOpen()) {\n        this.setState({\n          isOpen: true\n        });\n      }\n    }\n  }, {\n    key: 'handleChange',\n    value: function handleChange(event) {\n      this.props.onChange(event, event.target.value);\n    }\n  }, {\n    key: 'getFilteredItems',\n    value: function getFilteredItems(props) {\n      var items = props.items;\n\n      if (props.shouldItemRender) {\n        items = items.filter(function (item) {\n          return props.shouldItemRender(item, props.value);\n        });\n      }\n\n      if (props.sortItems) {\n        items.sort(function (a, b) {\n          return props.sortItems(a, b, props.value);\n        });\n      }\n\n      return items;\n    }\n  }, {\n    key: 'maybeAutoCompleteText',\n    value: function maybeAutoCompleteText(state, props) {\n      var highlightedIndex = state.highlightedIndex;\n      var value = props.value,\n          getItemValue = props.getItemValue;\n      var index = highlightedIndex === null ? 0 : highlightedIndex;\n      var items = this.getFilteredItems(props);\n\n      for (var i = 0; i < items.length; i++) {\n        if (props.isItemSelectable(items[index])) break;\n        index = (index + 1) % items.length;\n      }\n\n      var matchedItem = items[index] && props.isItemSelectable(items[index]) ? items[index] : null;\n\n      if (value !== '' && matchedItem) {\n        var itemValue = getItemValue(matchedItem);\n        var itemValueDoesMatch = itemValue.toLowerCase().indexOf(value.toLowerCase()) === 0;\n\n        if (itemValueDoesMatch) {\n          return {\n            highlightedIndex: index\n          };\n        }\n      }\n\n      return {\n        highlightedIndex: null\n      };\n    }\n  }, {\n    key: 'ensureHighlightedIndex',\n    value: function ensureHighlightedIndex(state, props) {\n      if (state.highlightedIndex >= this.getFilteredItems(props).length) {\n        return {\n          highlightedIndex: null\n        };\n      }\n    }\n  }, {\n    key: 'setMenuPositions',\n    value: function setMenuPositions() {\n      var node = this.refs.input;\n      var rect = node.getBoundingClientRect();\n      var computedStyle = global.window.getComputedStyle(node);\n      var marginBottom = parseInt(computedStyle.marginBottom, 10) || 0;\n      var marginLeft = parseInt(computedStyle.marginLeft, 10) || 0;\n      var marginRight = parseInt(computedStyle.marginRight, 10) || 0;\n      this.setState({\n        menuTop: rect.bottom + marginBottom,\n        menuLeft: rect.left + marginLeft,\n        menuWidth: rect.width + marginLeft + marginRight\n      });\n    }\n  }, {\n    key: 'highlightItemFromMouse',\n    value: function highlightItemFromMouse(index) {\n      this.setState({\n        highlightedIndex: index\n      });\n    }\n  }, {\n    key: 'selectItemFromMouse',\n    value: function selectItemFromMouse(item) {\n      var _this3 = this;\n\n      var value = this.props.getItemValue(item); // The menu will de-render before a mouseLeave event\n      // happens. Clear the flag to release control over focus\n\n      this.setIgnoreBlur(false);\n      this.setState({\n        isOpen: false,\n        highlightedIndex: null\n      }, function () {\n        _this3.props.onSelect(value, item);\n      });\n    }\n  }, {\n    key: 'setIgnoreBlur',\n    value: function setIgnoreBlur(ignore) {\n      this._ignoreBlur = ignore;\n    }\n  }, {\n    key: 'renderMenu',\n    value: function renderMenu() {\n      var _this4 = this;\n\n      var items = this.getFilteredItems(this.props).map(function (item, index) {\n        var element = _this4.props.renderItem(item, _this4.state.highlightedIndex === index, {\n          cursor: 'default'\n        });\n\n        return React.cloneElement(element, {\n          onMouseEnter: _this4.props.isItemSelectable(item) ? function () {\n            return _this4.highlightItemFromMouse(index);\n          } : null,\n          onClick: _this4.props.isItemSelectable(item) ? function () {\n            return _this4.selectItemFromMouse(item);\n          } : null,\n          ref: function ref(e) {\n            return _this4.refs['item-' + index] = e;\n          }\n        });\n      });\n      var style = {\n        left: this.state.menuLeft,\n        top: this.state.menuTop,\n        minWidth: this.state.menuWidth\n      };\n      var menu = this.props.renderMenu(items, this.props.value, style);\n      return React.cloneElement(menu, {\n        ref: function ref(e) {\n          return _this4.refs.menu = e;\n        },\n        // Ignore blur to prevent menu from de-rendering before we can process click\n        onTouchStart: function onTouchStart() {\n          return _this4.setIgnoreBlur(true);\n        },\n        onMouseEnter: function onMouseEnter() {\n          return _this4.setIgnoreBlur(true);\n        },\n        onMouseLeave: function onMouseLeave() {\n          return _this4.setIgnoreBlur(false);\n        }\n      });\n    }\n  }, {\n    key: 'handleInputBlur',\n    value: function handleInputBlur(event) {\n      var _this5 = this;\n\n      if (this._ignoreBlur) {\n        this._ignoreFocus = true;\n        this._scrollOffset = getScrollOffset();\n        this.refs.input.focus();\n        return;\n      }\n\n      var setStateCallback = void 0;\n      var highlightedIndex = this.state.highlightedIndex;\n\n      if (this.props.selectOnBlur && highlightedIndex !== null) {\n        var items = this.getFilteredItems(this.props);\n        var item = items[highlightedIndex];\n        var value = this.props.getItemValue(item);\n\n        setStateCallback = function setStateCallback() {\n          return _this5.props.onSelect(value, item);\n        };\n      }\n\n      this.setState({\n        isOpen: false,\n        highlightedIndex: null\n      }, setStateCallback);\n      var onBlur = this.props.inputProps.onBlur;\n\n      if (onBlur) {\n        onBlur(event);\n      }\n    }\n  }, {\n    key: 'handleInputFocus',\n    value: function handleInputFocus(event) {\n      var _this6 = this;\n\n      if (this._ignoreFocus) {\n        this._ignoreFocus = false;\n        var _scrollOffset = this._scrollOffset,\n            x = _scrollOffset.x,\n            y = _scrollOffset.y;\n        this._scrollOffset = null; // Focus will cause the browser to scroll the <input> into view.\n        // This can cause the mouse coords to change, which in turn\n        // could cause a new highlight to happen, cancelling the click\n        // event (when selecting with the mouse)\n\n        window.scrollTo(x, y); // Some browsers wait until all focus event handlers have been\n        // processed before scrolling the <input> into view, so let's\n        // scroll again on the next tick to ensure we're back to where\n        // the user was before focus was lost. We could do the deferred\n        // scroll only, but that causes a jarring split second jump in\n        // some browsers that scroll before the focus event handlers\n        // are triggered.\n\n        clearTimeout(this._scrollTimer);\n        this._scrollTimer = setTimeout(function () {\n          _this6._scrollTimer = null;\n          window.scrollTo(x, y);\n        }, 0);\n        return;\n      }\n\n      this.setState({\n        isOpen: true\n      });\n      var onFocus = this.props.inputProps.onFocus;\n\n      if (onFocus) {\n        onFocus(event);\n      }\n    }\n  }, {\n    key: 'isInputFocused',\n    value: function isInputFocused() {\n      var el = this.refs.input;\n      return el.ownerDocument && el === el.ownerDocument.activeElement;\n    }\n  }, {\n    key: 'handleInputClick',\n    value: function handleInputClick() {\n      // Input will not be focused if it's disabled\n      if (this.isInputFocused() && !this.isOpen()) this.setState({\n        isOpen: true\n      });\n    }\n  }, {\n    key: 'composeEventHandlers',\n    value: function composeEventHandlers(internal, external) {\n      return external ? function (e) {\n        internal(e);\n        external(e);\n      } : internal;\n    }\n  }, {\n    key: 'isOpen',\n    value: function isOpen() {\n      return 'open' in this.props ? this.props.open : this.state.isOpen;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      if (this.props.debug) {\n        // you don't like it, you love it\n        this._debugStates.push({\n          id: this._debugStates.length,\n          state: this.state\n        });\n      }\n\n      var inputProps = this.props.inputProps;\n      var open = this.isOpen();\n      return React.createElement('div', _extends({\n        style: _extends({}, this.props.wrapperStyle)\n      }, this.props.wrapperProps), this.props.renderInput(_extends({}, inputProps, {\n        role: 'combobox',\n        'aria-autocomplete': 'list',\n        'aria-expanded': open,\n        autoComplete: 'off',\n        ref: this.exposeAPI,\n        onFocus: this.handleInputFocus,\n        onBlur: this.handleInputBlur,\n        onChange: this.handleChange,\n        onKeyDown: this.composeEventHandlers(this.handleKeyDown, inputProps.onKeyDown),\n        onClick: this.composeEventHandlers(this.handleInputClick, inputProps.onClick),\n        value: this.props.value\n      })), open && this.renderMenu(), this.props.debug && React.createElement('pre', {\n        style: {\n          marginLeft: 300\n        }\n      }, JSON.stringify(this._debugStates.slice(Math.max(0, this._debugStates.length - 5), this._debugStates.length), null, 2)));\n    }\n  }]);\n\n  return Autocomplete;\n}(React.Component);\n\nAutocomplete.propTypes = {\n  /**\n   * The items to display in the dropdown menu\n   */\n  items: PropTypes.array.isRequired,\n\n  /**\n   * The value to display in the input field\n   */\n  value: PropTypes.any,\n\n  /**\n   * Arguments: `event: Event, value: String`\n   *\n   * Invoked every time the user changes the input's value.\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * Arguments: `value: String, item: Any`\n   *\n   * Invoked when the user selects an item from the dropdown menu.\n   */\n  onSelect: PropTypes.func,\n\n  /**\n   * Arguments: `item: Any, value: String`\n   *\n   * Invoked for each entry in `items` and its return value is used to\n   * determine whether or not it should be displayed in the dropdown menu.\n   * By default all items are always rendered.\n   */\n  shouldItemRender: PropTypes.func,\n\n  /**\n   * Arguments: `item: Any`\n   *\n   * Invoked when attempting to select an item. The return value is used to\n   * determine whether the item should be selectable or not.\n   * By default all items are selectable.\n   */\n  isItemSelectable: PropTypes.func,\n\n  /**\n   * Arguments: `itemA: Any, itemB: Any, value: String`\n   *\n   * The function which is used to sort `items` before display.\n   */\n  sortItems: PropTypes.func,\n\n  /**\n   * Arguments: `item: Any`\n   *\n   * Used to read the display value from each entry in `items`.\n   */\n  getItemValue: PropTypes.func.isRequired,\n\n  /**\n   * Arguments: `item: Any, isHighlighted: Boolean, styles: Object`\n   *\n   * Invoked for each entry in `items` that also passes `shouldItemRender` to\n   * generate the render tree for each item in the dropdown menu. `styles` is\n   * an optional set of styles that can be applied to improve the look/feel\n   * of the items in the dropdown menu.\n   */\n  renderItem: PropTypes.func.isRequired,\n\n  /**\n   * Arguments: `items: Array<Any>, value: String, styles: Object`\n   *\n   * Invoked to generate the render tree for the dropdown menu. Ensure the\n   * returned tree includes every entry in `items` or else the highlight order\n   * and keyboard navigation logic will break. `styles` will contain\n   * { top, left, minWidth } which are the coordinates of the top-left corner\n   * and the width of the dropdown menu.\n   */\n  renderMenu: PropTypes.func,\n\n  /**\n   * Styles that are applied to the dropdown menu in the default `renderMenu`\n   * implementation. If you override `renderMenu` and you want to use\n   * `menuStyle` you must manually apply them (`this.props.menuStyle`).\n   */\n  menuStyle: PropTypes.object,\n\n  /**\n   * Arguments: `props: Object`\n   *\n   * Invoked to generate the input element. The `props` argument is the result\n   * of merging `props.inputProps` with a selection of props that are required\n   * both for functionality and accessibility. At the very least you need to\n   * apply `props.ref` and all `props.on<event>` event handlers. Failing to do\n   * this will cause `Autocomplete` to behave unexpectedly.\n   */\n  renderInput: PropTypes.func,\n\n  /**\n   * Props passed to `props.renderInput`. By default these props will be\n   * applied to the `<input />` element rendered by `Autocomplete`, unless you\n   * have specified a custom value for `props.renderInput`. Any properties\n   * supported by `HTMLInputElement` can be specified, apart from the\n   * following which are set by `Autocomplete`: value, autoComplete, role,\n   * aria-autocomplete. `inputProps` is commonly used for (but not limited to)\n   * placeholder, event handlers (onFocus, onBlur, etc.), autoFocus, etc..\n   */\n  inputProps: PropTypes.object,\n\n  /**\n   * Props that are applied to the element which wraps the `<input />` and\n   * dropdown menu elements rendered by `Autocomplete`.\n   */\n  wrapperProps: PropTypes.object,\n\n  /**\n   * This is a shorthand for `wrapperProps={{ style: <your styles> }}`.\n   * Note that `wrapperStyle` is applied before `wrapperProps`, so the latter\n   * will win if it contains a `style` entry.\n   */\n  wrapperStyle: PropTypes.object,\n\n  /**\n   * Whether or not to automatically highlight the top match in the dropdown\n   * menu.\n   */\n  autoHighlight: PropTypes.bool,\n\n  /**\n   * Whether or not to automatically select the highlighted item when the\n   * `<input>` loses focus.\n   */\n  selectOnBlur: PropTypes.bool,\n\n  /**\n   * Arguments: `isOpen: Boolean`\n   *\n   * Invoked every time the dropdown menu's visibility changes (i.e. every\n   * time it is displayed/hidden).\n   */\n  onMenuVisibilityChange: PropTypes.func,\n\n  /**\n   * Used to override the internal logic which displays/hides the dropdown\n   * menu. This is useful if you want to force a certain state based on your\n   * UX/business logic. Use it together with `onMenuVisibilityChange` for\n   * fine-grained control over the dropdown menu dynamics.\n   */\n  open: PropTypes.bool,\n  debug: PropTypes.bool\n};\nAutocomplete.defaultProps = {\n  value: '',\n  wrapperProps: {},\n  wrapperStyle: {\n    display: 'inline-block'\n  },\n  inputProps: {},\n  renderInput: function renderInput(props) {\n    return React.createElement('input', props);\n  },\n  onChange: function onChange() {},\n  onSelect: function onSelect() {},\n  isItemSelectable: function isItemSelectable() {\n    return true;\n  },\n  renderMenu: function renderMenu(items, value, style) {\n    return React.createElement('div', {\n      style: _extends({}, style, this.menuStyle),\n      children: items\n    });\n  },\n  menuStyle: {\n    borderRadius: '3px',\n    boxShadow: '0 2px 12px rgba(0, 0, 0, 0.1)',\n    background: 'rgba(255, 255, 255, 0.9)',\n    padding: '2px 0',\n    fontSize: '90%',\n    position: 'fixed',\n    overflow: 'auto',\n    maxHeight: '50%'\n  },\n  autoHighlight: true,\n  selectOnBlur: false,\n  onMenuVisibilityChange: function onMenuVisibilityChange() {}\n};\nAutocomplete.keyDownHandlers = {\n  ArrowDown: function ArrowDown(event) {\n    event.preventDefault();\n    var items = this.getFilteredItems(this.props);\n    if (!items.length) return;\n    var highlightedIndex = this.state.highlightedIndex;\n    var index = highlightedIndex === null ? -1 : highlightedIndex;\n\n    for (var i = 0; i < items.length; i++) {\n      var p = (index + i + 1) % items.length;\n\n      if (this.props.isItemSelectable(items[p])) {\n        index = p;\n        break;\n      }\n    }\n\n    if (index > -1 && index !== highlightedIndex) {\n      this.setState({\n        highlightedIndex: index,\n        isOpen: true\n      });\n    }\n  },\n  ArrowUp: function ArrowUp(event) {\n    event.preventDefault();\n    var items = this.getFilteredItems(this.props);\n    if (!items.length) return;\n    var highlightedIndex = this.state.highlightedIndex;\n    var index = highlightedIndex === null ? items.length : highlightedIndex;\n\n    for (var i = 0; i < items.length; i++) {\n      var p = (index - (1 + i) + items.length) % items.length;\n\n      if (this.props.isItemSelectable(items[p])) {\n        index = p;\n        break;\n      }\n    }\n\n    if (index !== items.length) {\n      this.setState({\n        highlightedIndex: index,\n        isOpen: true\n      });\n    }\n  },\n  Enter: function Enter(event) {\n    var _this7 = this; // Key code 229 is used for selecting items from character selectors (Pinyin, Kana, etc)\n\n\n    if (event.keyCode !== 13) return; // In case the user is currently hovering over the menu\n\n    this.setIgnoreBlur(false);\n\n    if (!this.isOpen()) {\n      // menu is closed so there is no selection to accept -> do nothing\n      return;\n    } else if (this.state.highlightedIndex == null) {\n      // input has focus but no menu item is selected + enter is hit -> close the menu, highlight whatever's in input\n      this.setState({\n        isOpen: false\n      }, function () {\n        _this7.refs.input.select();\n      });\n    } else {\n      // text entered + menu item has been highlighted + enter is hit -> update value to that of selected menu item, close the menu\n      event.preventDefault();\n      var item = this.getFilteredItems(this.props)[this.state.highlightedIndex];\n      var value = this.props.getItemValue(item);\n      this.setState({\n        isOpen: false,\n        highlightedIndex: null\n      }, function () {\n        //this.refs.input.focus() // TODO: file issue\n        _this7.refs.input.setSelectionRange(value.length, value.length);\n\n        _this7.props.onSelect(value, item);\n      });\n    }\n  },\n  Escape: function Escape() {\n    // In case the user is currently hovering over the menu\n    this.setIgnoreBlur(false);\n    this.setState({\n      highlightedIndex: null,\n      isOpen: false\n    });\n  },\n  Tab: function Tab() {\n    // In case the user is currently hovering over the menu\n    this.setIgnoreBlur(false);\n  }\n};\nmodule.exports = Autocomplete;","map":{"version":3,"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","Constructor","protoProps","staticProps","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","value","setPrototypeOf","__proto__","React","require","PropTypes","_require","findDOMNode","scrollIntoView","IMPERATIVE_API","getScrollOffset","x","window","pageXOffset","undefined","document","documentElement","body","parentNode","scrollLeft","y","pageYOffset","scrollTop","Autocomplete","_React$Component","_this","getPrototypeOf","state","isOpen","highlightedIndex","_debugStates","ensureHighlightedIndex","bind","exposeAPI","handleInputFocus","handleInputBlur","handleChange","handleKeyDown","handleInputClick","maybeAutoCompleteText","componentWillMount","refs","_ignoreBlur","_ignoreFocus","_scrollOffset","_scrollTimer","componentWillUnmount","clearTimeout","componentWillReceiveProps","nextProps","setState","autoHighlight","componentDidMount","setMenuPositions","componentDidUpdate","prevProps","prevState","open","maybeScrollItemIntoView","onMenuVisibilityChange","el","_this2","input","forEach","ev","itemNode","menuNode","menu","onlyScrollIfNeeded","event","keyDownHandlers","onChange","getFilteredItems","items","shouldItemRender","filter","item","sortItems","sort","a","b","getItemValue","index","isItemSelectable","matchedItem","itemValue","itemValueDoesMatch","toLowerCase","indexOf","node","rect","getBoundingClientRect","computedStyle","global","getComputedStyle","marginBottom","parseInt","marginLeft","marginRight","menuTop","bottom","menuLeft","left","menuWidth","width","highlightItemFromMouse","selectItemFromMouse","_this3","setIgnoreBlur","onSelect","ignore","renderMenu","_this4","map","element","renderItem","cursor","cloneElement","onMouseEnter","onClick","ref","e","style","top","minWidth","onTouchStart","onMouseLeave","_this5","focus","setStateCallback","selectOnBlur","onBlur","inputProps","_this6","scrollTo","setTimeout","onFocus","isInputFocused","ownerDocument","activeElement","composeEventHandlers","internal","external","render","debug","push","id","createElement","wrapperStyle","wrapperProps","renderInput","role","autoComplete","onKeyDown","JSON","stringify","slice","Math","max","Component","propTypes","array","isRequired","any","func","menuStyle","object","bool","defaultProps","display","children","borderRadius","boxShadow","background","padding","fontSize","position","overflow","maxHeight","ArrowDown","preventDefault","p","ArrowUp","Enter","_this7","keyCode","select","setSelectionRange","Escape","Tab","module","exports"],"sources":["D:/Theme/package/node_modules/react-autocomplete/build/lib/Autocomplete.js"],"sourcesContent":["'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar React = require('react');\nvar PropTypes = require('prop-types');\n\nvar _require = require('react-dom'),\n    findDOMNode = _require.findDOMNode;\n\nvar scrollIntoView = require('dom-scroll-into-view');\n\nvar IMPERATIVE_API = ['blur', 'checkValidity', 'click', 'focus', 'select', 'setCustomValidity', 'setSelectionRange', 'setRangeText'];\n\nfunction getScrollOffset() {\n  return {\n    x: window.pageXOffset !== undefined ? window.pageXOffset : (document.documentElement || document.body.parentNode || document.body).scrollLeft,\n    y: window.pageYOffset !== undefined ? window.pageYOffset : (document.documentElement || document.body.parentNode || document.body).scrollTop\n  };\n}\n\nvar Autocomplete = function (_React$Component) {\n  _inherits(Autocomplete, _React$Component);\n\n  function Autocomplete(props) {\n    _classCallCheck(this, Autocomplete);\n\n    var _this = _possibleConstructorReturn(this, (Autocomplete.__proto__ || Object.getPrototypeOf(Autocomplete)).call(this, props));\n\n    _this.state = {\n      isOpen: false,\n      highlightedIndex: null\n    };\n    _this._debugStates = [];\n    _this.ensureHighlightedIndex = _this.ensureHighlightedIndex.bind(_this);\n    _this.exposeAPI = _this.exposeAPI.bind(_this);\n    _this.handleInputFocus = _this.handleInputFocus.bind(_this);\n    _this.handleInputBlur = _this.handleInputBlur.bind(_this);\n    _this.handleChange = _this.handleChange.bind(_this);\n    _this.handleKeyDown = _this.handleKeyDown.bind(_this);\n    _this.handleInputClick = _this.handleInputClick.bind(_this);\n    _this.maybeAutoCompleteText = _this.maybeAutoCompleteText.bind(_this);\n    return _this;\n  }\n\n  _createClass(Autocomplete, [{\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      // this.refs is frozen, so we need to assign a new object to it\n      this.refs = {};\n      this._ignoreBlur = false;\n      this._ignoreFocus = false;\n      this._scrollOffset = null;\n      this._scrollTimer = null;\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      clearTimeout(this._scrollTimer);\n      this._scrollTimer = null;\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if (this.state.highlightedIndex !== null) {\n        this.setState(this.ensureHighlightedIndex);\n      }\n      if (nextProps.autoHighlight && (this.props.value !== nextProps.value || this.state.highlightedIndex === null)) {\n        this.setState(this.maybeAutoCompleteText);\n      }\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      if (this.isOpen()) {\n        this.setMenuPositions();\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (this.state.isOpen && !prevState.isOpen || 'open' in this.props && this.props.open && !prevProps.open) this.setMenuPositions();\n\n      this.maybeScrollItemIntoView();\n      if (prevState.isOpen !== this.state.isOpen) {\n        this.props.onMenuVisibilityChange(this.state.isOpen);\n      }\n    }\n  }, {\n    key: 'exposeAPI',\n    value: function exposeAPI(el) {\n      var _this2 = this;\n\n      this.refs.input = el;\n      IMPERATIVE_API.forEach(function (ev) {\n        return _this2[ev] = el && el[ev] && el[ev].bind(el);\n      });\n    }\n  }, {\n    key: 'maybeScrollItemIntoView',\n    value: function maybeScrollItemIntoView() {\n      if (this.isOpen() && this.state.highlightedIndex !== null) {\n        var itemNode = this.refs['item-' + this.state.highlightedIndex];\n        var menuNode = this.refs.menu;\n        scrollIntoView(findDOMNode(itemNode), findDOMNode(menuNode), { onlyScrollIfNeeded: true });\n      }\n    }\n  }, {\n    key: 'handleKeyDown',\n    value: function handleKeyDown(event) {\n      if (Autocomplete.keyDownHandlers[event.key]) Autocomplete.keyDownHandlers[event.key].call(this, event);else if (!this.isOpen()) {\n        this.setState({\n          isOpen: true\n        });\n      }\n    }\n  }, {\n    key: 'handleChange',\n    value: function handleChange(event) {\n      this.props.onChange(event, event.target.value);\n    }\n  }, {\n    key: 'getFilteredItems',\n    value: function getFilteredItems(props) {\n      var items = props.items;\n\n      if (props.shouldItemRender) {\n        items = items.filter(function (item) {\n          return props.shouldItemRender(item, props.value);\n        });\n      }\n\n      if (props.sortItems) {\n        items.sort(function (a, b) {\n          return props.sortItems(a, b, props.value);\n        });\n      }\n\n      return items;\n    }\n  }, {\n    key: 'maybeAutoCompleteText',\n    value: function maybeAutoCompleteText(state, props) {\n      var highlightedIndex = state.highlightedIndex;\n      var value = props.value,\n          getItemValue = props.getItemValue;\n\n      var index = highlightedIndex === null ? 0 : highlightedIndex;\n      var items = this.getFilteredItems(props);\n      for (var i = 0; i < items.length; i++) {\n        if (props.isItemSelectable(items[index])) break;\n        index = (index + 1) % items.length;\n      }\n      var matchedItem = items[index] && props.isItemSelectable(items[index]) ? items[index] : null;\n      if (value !== '' && matchedItem) {\n        var itemValue = getItemValue(matchedItem);\n        var itemValueDoesMatch = itemValue.toLowerCase().indexOf(value.toLowerCase()) === 0;\n        if (itemValueDoesMatch) {\n          return { highlightedIndex: index };\n        }\n      }\n      return { highlightedIndex: null };\n    }\n  }, {\n    key: 'ensureHighlightedIndex',\n    value: function ensureHighlightedIndex(state, props) {\n      if (state.highlightedIndex >= this.getFilteredItems(props).length) {\n        return { highlightedIndex: null };\n      }\n    }\n  }, {\n    key: 'setMenuPositions',\n    value: function setMenuPositions() {\n      var node = this.refs.input;\n      var rect = node.getBoundingClientRect();\n      var computedStyle = global.window.getComputedStyle(node);\n      var marginBottom = parseInt(computedStyle.marginBottom, 10) || 0;\n      var marginLeft = parseInt(computedStyle.marginLeft, 10) || 0;\n      var marginRight = parseInt(computedStyle.marginRight, 10) || 0;\n      this.setState({\n        menuTop: rect.bottom + marginBottom,\n        menuLeft: rect.left + marginLeft,\n        menuWidth: rect.width + marginLeft + marginRight\n      });\n    }\n  }, {\n    key: 'highlightItemFromMouse',\n    value: function highlightItemFromMouse(index) {\n      this.setState({ highlightedIndex: index });\n    }\n  }, {\n    key: 'selectItemFromMouse',\n    value: function selectItemFromMouse(item) {\n      var _this3 = this;\n\n      var value = this.props.getItemValue(item);\n      // The menu will de-render before a mouseLeave event\n      // happens. Clear the flag to release control over focus\n      this.setIgnoreBlur(false);\n      this.setState({\n        isOpen: false,\n        highlightedIndex: null\n      }, function () {\n        _this3.props.onSelect(value, item);\n      });\n    }\n  }, {\n    key: 'setIgnoreBlur',\n    value: function setIgnoreBlur(ignore) {\n      this._ignoreBlur = ignore;\n    }\n  }, {\n    key: 'renderMenu',\n    value: function renderMenu() {\n      var _this4 = this;\n\n      var items = this.getFilteredItems(this.props).map(function (item, index) {\n        var element = _this4.props.renderItem(item, _this4.state.highlightedIndex === index, { cursor: 'default' });\n        return React.cloneElement(element, {\n          onMouseEnter: _this4.props.isItemSelectable(item) ? function () {\n            return _this4.highlightItemFromMouse(index);\n          } : null,\n          onClick: _this4.props.isItemSelectable(item) ? function () {\n            return _this4.selectItemFromMouse(item);\n          } : null,\n          ref: function ref(e) {\n            return _this4.refs['item-' + index] = e;\n          }\n        });\n      });\n      var style = {\n        left: this.state.menuLeft,\n        top: this.state.menuTop,\n        minWidth: this.state.menuWidth\n      };\n      var menu = this.props.renderMenu(items, this.props.value, style);\n      return React.cloneElement(menu, {\n        ref: function ref(e) {\n          return _this4.refs.menu = e;\n        },\n        // Ignore blur to prevent menu from de-rendering before we can process click\n        onTouchStart: function onTouchStart() {\n          return _this4.setIgnoreBlur(true);\n        },\n        onMouseEnter: function onMouseEnter() {\n          return _this4.setIgnoreBlur(true);\n        },\n        onMouseLeave: function onMouseLeave() {\n          return _this4.setIgnoreBlur(false);\n        }\n      });\n    }\n  }, {\n    key: 'handleInputBlur',\n    value: function handleInputBlur(event) {\n      var _this5 = this;\n\n      if (this._ignoreBlur) {\n        this._ignoreFocus = true;\n        this._scrollOffset = getScrollOffset();\n        this.refs.input.focus();\n        return;\n      }\n      var setStateCallback = void 0;\n      var highlightedIndex = this.state.highlightedIndex;\n\n      if (this.props.selectOnBlur && highlightedIndex !== null) {\n        var items = this.getFilteredItems(this.props);\n        var item = items[highlightedIndex];\n        var value = this.props.getItemValue(item);\n        setStateCallback = function setStateCallback() {\n          return _this5.props.onSelect(value, item);\n        };\n      }\n      this.setState({\n        isOpen: false,\n        highlightedIndex: null\n      }, setStateCallback);\n      var onBlur = this.props.inputProps.onBlur;\n\n      if (onBlur) {\n        onBlur(event);\n      }\n    }\n  }, {\n    key: 'handleInputFocus',\n    value: function handleInputFocus(event) {\n      var _this6 = this;\n\n      if (this._ignoreFocus) {\n        this._ignoreFocus = false;\n        var _scrollOffset = this._scrollOffset,\n            x = _scrollOffset.x,\n            y = _scrollOffset.y;\n\n        this._scrollOffset = null;\n        // Focus will cause the browser to scroll the <input> into view.\n        // This can cause the mouse coords to change, which in turn\n        // could cause a new highlight to happen, cancelling the click\n        // event (when selecting with the mouse)\n        window.scrollTo(x, y);\n        // Some browsers wait until all focus event handlers have been\n        // processed before scrolling the <input> into view, so let's\n        // scroll again on the next tick to ensure we're back to where\n        // the user was before focus was lost. We could do the deferred\n        // scroll only, but that causes a jarring split second jump in\n        // some browsers that scroll before the focus event handlers\n        // are triggered.\n        clearTimeout(this._scrollTimer);\n        this._scrollTimer = setTimeout(function () {\n          _this6._scrollTimer = null;\n          window.scrollTo(x, y);\n        }, 0);\n        return;\n      }\n      this.setState({ isOpen: true });\n      var onFocus = this.props.inputProps.onFocus;\n\n      if (onFocus) {\n        onFocus(event);\n      }\n    }\n  }, {\n    key: 'isInputFocused',\n    value: function isInputFocused() {\n      var el = this.refs.input;\n      return el.ownerDocument && el === el.ownerDocument.activeElement;\n    }\n  }, {\n    key: 'handleInputClick',\n    value: function handleInputClick() {\n      // Input will not be focused if it's disabled\n      if (this.isInputFocused() && !this.isOpen()) this.setState({ isOpen: true });\n    }\n  }, {\n    key: 'composeEventHandlers',\n    value: function composeEventHandlers(internal, external) {\n      return external ? function (e) {\n        internal(e);external(e);\n      } : internal;\n    }\n  }, {\n    key: 'isOpen',\n    value: function isOpen() {\n      return 'open' in this.props ? this.props.open : this.state.isOpen;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      if (this.props.debug) {\n        // you don't like it, you love it\n        this._debugStates.push({\n          id: this._debugStates.length,\n          state: this.state\n        });\n      }\n\n      var inputProps = this.props.inputProps;\n\n      var open = this.isOpen();\n      return React.createElement(\n        'div',\n        _extends({ style: _extends({}, this.props.wrapperStyle) }, this.props.wrapperProps),\n        this.props.renderInput(_extends({}, inputProps, {\n          role: 'combobox',\n          'aria-autocomplete': 'list',\n          'aria-expanded': open,\n          autoComplete: 'off',\n          ref: this.exposeAPI,\n          onFocus: this.handleInputFocus,\n          onBlur: this.handleInputBlur,\n          onChange: this.handleChange,\n          onKeyDown: this.composeEventHandlers(this.handleKeyDown, inputProps.onKeyDown),\n          onClick: this.composeEventHandlers(this.handleInputClick, inputProps.onClick),\n          value: this.props.value\n        })),\n        open && this.renderMenu(),\n        this.props.debug && React.createElement(\n          'pre',\n          { style: { marginLeft: 300 } },\n          JSON.stringify(this._debugStates.slice(Math.max(0, this._debugStates.length - 5), this._debugStates.length), null, 2)\n        )\n      );\n    }\n  }]);\n\n  return Autocomplete;\n}(React.Component);\n\nAutocomplete.propTypes = {\n  /**\n   * The items to display in the dropdown menu\n   */\n  items: PropTypes.array.isRequired,\n  /**\n   * The value to display in the input field\n   */\n  value: PropTypes.any,\n  /**\n   * Arguments: `event: Event, value: String`\n   *\n   * Invoked every time the user changes the input's value.\n   */\n  onChange: PropTypes.func,\n  /**\n   * Arguments: `value: String, item: Any`\n   *\n   * Invoked when the user selects an item from the dropdown menu.\n   */\n  onSelect: PropTypes.func,\n  /**\n   * Arguments: `item: Any, value: String`\n   *\n   * Invoked for each entry in `items` and its return value is used to\n   * determine whether or not it should be displayed in the dropdown menu.\n   * By default all items are always rendered.\n   */\n  shouldItemRender: PropTypes.func,\n  /**\n   * Arguments: `item: Any`\n   *\n   * Invoked when attempting to select an item. The return value is used to\n   * determine whether the item should be selectable or not.\n   * By default all items are selectable.\n   */\n  isItemSelectable: PropTypes.func,\n  /**\n   * Arguments: `itemA: Any, itemB: Any, value: String`\n   *\n   * The function which is used to sort `items` before display.\n   */\n  sortItems: PropTypes.func,\n  /**\n   * Arguments: `item: Any`\n   *\n   * Used to read the display value from each entry in `items`.\n   */\n  getItemValue: PropTypes.func.isRequired,\n  /**\n   * Arguments: `item: Any, isHighlighted: Boolean, styles: Object`\n   *\n   * Invoked for each entry in `items` that also passes `shouldItemRender` to\n   * generate the render tree for each item in the dropdown menu. `styles` is\n   * an optional set of styles that can be applied to improve the look/feel\n   * of the items in the dropdown menu.\n   */\n  renderItem: PropTypes.func.isRequired,\n  /**\n   * Arguments: `items: Array<Any>, value: String, styles: Object`\n   *\n   * Invoked to generate the render tree for the dropdown menu. Ensure the\n   * returned tree includes every entry in `items` or else the highlight order\n   * and keyboard navigation logic will break. `styles` will contain\n   * { top, left, minWidth } which are the coordinates of the top-left corner\n   * and the width of the dropdown menu.\n   */\n  renderMenu: PropTypes.func,\n  /**\n   * Styles that are applied to the dropdown menu in the default `renderMenu`\n   * implementation. If you override `renderMenu` and you want to use\n   * `menuStyle` you must manually apply them (`this.props.menuStyle`).\n   */\n  menuStyle: PropTypes.object,\n  /**\n   * Arguments: `props: Object`\n   *\n   * Invoked to generate the input element. The `props` argument is the result\n   * of merging `props.inputProps` with a selection of props that are required\n   * both for functionality and accessibility. At the very least you need to\n   * apply `props.ref` and all `props.on<event>` event handlers. Failing to do\n   * this will cause `Autocomplete` to behave unexpectedly.\n   */\n  renderInput: PropTypes.func,\n  /**\n   * Props passed to `props.renderInput`. By default these props will be\n   * applied to the `<input />` element rendered by `Autocomplete`, unless you\n   * have specified a custom value for `props.renderInput`. Any properties\n   * supported by `HTMLInputElement` can be specified, apart from the\n   * following which are set by `Autocomplete`: value, autoComplete, role,\n   * aria-autocomplete. `inputProps` is commonly used for (but not limited to)\n   * placeholder, event handlers (onFocus, onBlur, etc.), autoFocus, etc..\n   */\n  inputProps: PropTypes.object,\n  /**\n   * Props that are applied to the element which wraps the `<input />` and\n   * dropdown menu elements rendered by `Autocomplete`.\n   */\n  wrapperProps: PropTypes.object,\n  /**\n   * This is a shorthand for `wrapperProps={{ style: <your styles> }}`.\n   * Note that `wrapperStyle` is applied before `wrapperProps`, so the latter\n   * will win if it contains a `style` entry.\n   */\n  wrapperStyle: PropTypes.object,\n  /**\n   * Whether or not to automatically highlight the top match in the dropdown\n   * menu.\n   */\n  autoHighlight: PropTypes.bool,\n  /**\n   * Whether or not to automatically select the highlighted item when the\n   * `<input>` loses focus.\n   */\n  selectOnBlur: PropTypes.bool,\n  /**\n   * Arguments: `isOpen: Boolean`\n   *\n   * Invoked every time the dropdown menu's visibility changes (i.e. every\n   * time it is displayed/hidden).\n   */\n  onMenuVisibilityChange: PropTypes.func,\n  /**\n   * Used to override the internal logic which displays/hides the dropdown\n   * menu. This is useful if you want to force a certain state based on your\n   * UX/business logic. Use it together with `onMenuVisibilityChange` for\n   * fine-grained control over the dropdown menu dynamics.\n   */\n  open: PropTypes.bool,\n  debug: PropTypes.bool\n};\nAutocomplete.defaultProps = {\n  value: '',\n  wrapperProps: {},\n  wrapperStyle: {\n    display: 'inline-block'\n  },\n  inputProps: {},\n  renderInput: function renderInput(props) {\n    return React.createElement('input', props);\n  },\n  onChange: function onChange() {},\n  onSelect: function onSelect() {},\n  isItemSelectable: function isItemSelectable() {\n    return true;\n  },\n  renderMenu: function renderMenu(items, value, style) {\n    return React.createElement('div', { style: _extends({}, style, this.menuStyle), children: items });\n  },\n\n  menuStyle: {\n    borderRadius: '3px',\n    boxShadow: '0 2px 12px rgba(0, 0, 0, 0.1)',\n    background: 'rgba(255, 255, 255, 0.9)',\n    padding: '2px 0',\n    fontSize: '90%',\n    position: 'fixed',\n    overflow: 'auto',\n    maxHeight: '50%' },\n  autoHighlight: true,\n  selectOnBlur: false,\n  onMenuVisibilityChange: function onMenuVisibilityChange() {}\n};\nAutocomplete.keyDownHandlers = {\n  ArrowDown: function ArrowDown(event) {\n    event.preventDefault();\n    var items = this.getFilteredItems(this.props);\n    if (!items.length) return;\n    var highlightedIndex = this.state.highlightedIndex;\n\n    var index = highlightedIndex === null ? -1 : highlightedIndex;\n    for (var i = 0; i < items.length; i++) {\n      var p = (index + i + 1) % items.length;\n      if (this.props.isItemSelectable(items[p])) {\n        index = p;\n        break;\n      }\n    }\n    if (index > -1 && index !== highlightedIndex) {\n      this.setState({\n        highlightedIndex: index,\n        isOpen: true\n      });\n    }\n  },\n  ArrowUp: function ArrowUp(event) {\n    event.preventDefault();\n    var items = this.getFilteredItems(this.props);\n    if (!items.length) return;\n    var highlightedIndex = this.state.highlightedIndex;\n\n    var index = highlightedIndex === null ? items.length : highlightedIndex;\n    for (var i = 0; i < items.length; i++) {\n      var p = (index - (1 + i) + items.length) % items.length;\n      if (this.props.isItemSelectable(items[p])) {\n        index = p;\n        break;\n      }\n    }\n    if (index !== items.length) {\n      this.setState({\n        highlightedIndex: index,\n        isOpen: true\n      });\n    }\n  },\n  Enter: function Enter(event) {\n    var _this7 = this;\n\n    // Key code 229 is used for selecting items from character selectors (Pinyin, Kana, etc)\n    if (event.keyCode !== 13) return;\n    // In case the user is currently hovering over the menu\n    this.setIgnoreBlur(false);\n    if (!this.isOpen()) {\n      // menu is closed so there is no selection to accept -> do nothing\n      return;\n    } else if (this.state.highlightedIndex == null) {\n      // input has focus but no menu item is selected + enter is hit -> close the menu, highlight whatever's in input\n      this.setState({\n        isOpen: false\n      }, function () {\n        _this7.refs.input.select();\n      });\n    } else {\n      // text entered + menu item has been highlighted + enter is hit -> update value to that of selected menu item, close the menu\n      event.preventDefault();\n      var item = this.getFilteredItems(this.props)[this.state.highlightedIndex];\n      var value = this.props.getItemValue(item);\n      this.setState({\n        isOpen: false,\n        highlightedIndex: null\n      }, function () {\n        //this.refs.input.focus() // TODO: file issue\n        _this7.refs.input.setSelectionRange(value.length, value.length);\n        _this7.props.onSelect(value, item);\n      });\n    }\n  },\n  Escape: function Escape() {\n    // In case the user is currently hovering over the menu\n    this.setIgnoreBlur(false);\n    this.setState({\n      highlightedIndex: null,\n      isOpen: false\n    });\n  },\n  Tab: function Tab() {\n    // In case the user is currently hovering over the menu\n    this.setIgnoreBlur(false);\n  }\n};\n\n\nmodule.exports = Autocomplete;"],"mappings":"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"},"metadata":{},"sourceType":"script"}