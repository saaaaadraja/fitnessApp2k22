{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar CX = require(\"classnames\");\n\nvar DOMUtil_1 = require(\"../utils/DOMUtil\");\n\nvar Backdrop_1 = require(\"./Backdrop\");\n\nvar Picker =\n/** @class */\nfunction (_super) {\n  __extends(Picker, _super);\n\n  function Picker(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.state = {\n      show: false,\n      position: {\n        left: '',\n        top: ''\n      }\n    };\n\n    _this.showContents = function () {\n      var _a = _this.props,\n          portal = _a.portal,\n          disabled = _a.disabled,\n          readOnly = _a.readOnly;\n      if (disabled || readOnly) return;\n\n      _this.setState({\n        show: true\n      }, function () {\n        if (!portal) {\n          _this.setPosition();\n        }\n      });\n    };\n\n    _this.hideContents = function () {\n      _this.setState({\n        show: false\n      });\n    };\n\n    _this.setPosition = function () {\n      var direction = _this.props.direction;\n\n      _this.setState({\n        position: DOMUtil_1.getDivPosition(_this.triggerRef.current, direction, DOMUtil_1.getDomHeight(_this.contentsRef.current))\n      });\n    };\n\n    _this.triggerRef = React.createRef();\n    _this.contentsRef = React.createRef();\n    return _this;\n  }\n\n  Picker.prototype.render = function () {\n    var _a = this.props,\n        portal = _a.portal,\n        className = _a.className,\n        renderTrigger = _a.renderTrigger,\n        renderContents = _a.renderContents;\n    var _b = this.state,\n        show = _b.show,\n        position = _b.position;\n    var actions = {\n      show: this.showContents,\n      hide: this.hideContents\n    };\n    return React.createElement(\"div\", {\n      className: \"picker\"\n    }, React.createElement(\"div\", {\n      className: \"picker__trigger\",\n      onClick: this.showContents,\n      ref: this.triggerRef\n    }, renderTrigger({\n      actions: actions\n    })), show && React.createElement(\"div\", {\n      className: CX('picker__container', {\n        portal: portal,\n        className: className\n      }),\n      role: \"dialog\",\n      \"aria-modal\": \"true\",\n      style: position,\n      ref: this.contentsRef\n    }, renderContents({\n      actions: actions\n    })), React.createElement(Backdrop_1.default, {\n      show: show,\n      invert: portal,\n      onClick: this.hideContents\n    }));\n  };\n\n  return Picker;\n}(React.Component);\n\nexports.default = Picker;","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AAEA;;AACA;;AA8BA;AAAA;AAAA;EAAqBA;;EAYnB,gBAAYC,KAAZ,EAAwB;IAAxB,YACEC,kBAAMD,KAAN,KAAY,IADd;;IAXOE,cAAQ;MACbC,IAAI,EAAE,KADO;MAEbC,QAAQ,EAAE;QACRC,IAAI,EAAE,EADE;QAERC,GAAG,EAAE;MAFG;IAFG,CAAR;;IAiBAJ,qBAAe;MACd;MAAA,IAAEK,kBAAF;MAAA,IAAUC,sBAAV;MAAA,IAAoBC,sBAApB;MACN,IAAID,QAAQ,IAAIC,QAAhB,EAA0B;;MAE1BP,KAAI,CAACQ,QAAL,CACE;QACEP,IAAI,EAAE;MADR,CADF,EAIE;QACE,IAAI,CAACI,MAAL,EAAa;UACXL,KAAI,CAACS,WAAL;QACD;MACF,CARH;IAUD,CAdM;;IAgBAT,qBAAe;MACpBA,KAAI,CAACQ,QAAL,CAAc;QACZP,IAAI,EAAE;MADM,CAAd;IAGD,CAJM;;IAMAD,oBAAc;MACX;;MACRA,KAAI,CAACQ,QAAL,CAAc;QACZN,QAAQ,EAAEQ,yBACRV,KAAI,CAACW,UAAL,CAAgBC,OADR,EAERC,SAFQ,EAGRH,uBAAaV,KAAI,CAACc,WAAL,CAAiBF,OAA9B,CAHQ;MADE,CAAd;IAOD,CATM;;IA1BLZ,KAAI,CAACW,UAAL,GAAkBI,KAAK,CAACC,SAAN,EAAlB;IACAhB,KAAI,CAACc,WAAL,GAAmBC,KAAK,CAACC,SAAN,EAAnB;;EACD;;EAmCMC,0BAAP;IACQ;IAAA,IAAEZ,kBAAF;IAAA,IAAUa,wBAAV;IAAA,IAAqBC,gCAArB;IAAA,IAAoCC,kCAApC;IACA;IAAA,IAAEnB,cAAF;IAAA,IAAQC,sBAAR;IACN,IAAMmB,OAAO,GAAG;MACdpB,IAAI,EAAE,KAAKqB,YADG;MAEdC,IAAI,EAAE,KAAKC;IAFG,CAAhB;IAKA,OACET;MAAKG,SAAS,EAAC;IAAf,GACEH;MAAKG,SAAS,EAAC,iBAAf;MAAiCO,OAAO,EAAE,KAAKH,YAA/C;MAA6DI,GAAG,EAAE,KAAKf;IAAvE,GACGQ,aAAa,CAAC;MAAEE,OAAO;IAAT,CAAD,CADhB,CADF,EAIGpB,IAAI,IACHc;MACEG,SAAS,EAAES,EAAE,CAAC,mBAAD,EAAsB;QAAEtB,MAAM,QAAR;QAAUa,SAAS;MAAnB,CAAtB,CADf;MAEEU,IAAI,EAAC,QAFP;MAEe,cACF,MAHb;MAIEC,KAAK,EAAE3B,QAJT;MAKEwB,GAAG,EAAE,KAAKZ;IALZ,GAOGM,cAAc,CAAC;MAAEC,OAAO;IAAT,CAAD,CAPjB,CALJ,EAeEN,oBAACe,kBAAD,EAAS;MAAC7B,IAAI,EAAEA,IAAP;MAAa8B,MAAM,EAAE1B,MAArB;MAA6BoB,OAAO,EAAE,KAAKD;IAA3C,CAAT,CAfF,CADF;EAmBD,CA3BM;;EA4BT;AAAC,CA/ED,CAAqBT,KAAK,CAACiB,SAA3B;;AAiFAC,kBAAehB,MAAf","names":["__extends","props","_super","_this","show","position","left","top","portal","disabled","readOnly","setState","setPosition","DOMUtil_1","triggerRef","current","direction","contentsRef","React","createRef","Picker","className","renderTrigger","renderContents","actions","showContents","hide","hideContents","onClick","ref","CX","role","style","Backdrop_1","invert","Component","exports"],"sourceRoot":"","sources":["../../src/components/Picker.tsx"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}