{"ast":null,"code":"import { formatError, login, runLogoutTimer, saveTokenInLocalStorage, signUp } from '../../services/AuthService';\nexport const SIGNUP_CONFIRMED_ACTION = '[signup action] confirmed signup';\nexport const SIGNUP_FAILED_ACTION = '[signup action] failed signup';\nexport const LOGIN_CONFIRMED_ACTION = '[login action] confirmed login';\nexport const LOGIN_FAILED_ACTION = '[login action] failed login';\nexport const LOADING_TOGGLE_ACTION = '[Loading action] toggle loading';\nexport const LOGOUT_ACTION = '[Logout action] logout action';\nexport function signupAction(email, password, history) {\n  return dispatch => {\n    signUp(email, password).then(response => {\n      saveTokenInLocalStorage(response.data);\n      runLogoutTimer(dispatch, response.data.expiresIn * 1000, history);\n      dispatch(confirmedSignupAction(response.data));\n      history.push('/');\n    }).catch(error => {\n      const errorMessage = formatError(error.response.data);\n      dispatch(signupFailedAction(errorMessage));\n    });\n  };\n}\nexport function logout(history) {\n  localStorage.removeItem('userDetails');\n  history.push('/login');\n  return {\n    type: LOGOUT_ACTION\n  };\n}\nexport function loginAction(email, password, history) {\n  return dispatch => {\n    login(email, password).then(response => {\n      saveTokenInLocalStorage(response.data);\n      runLogoutTimer(dispatch, response.data.expiresIn * 1000, history);\n      dispatch(loginConfirmedAction(response.data));\n      history.push('/dashboard'); //window.location.reload();\n      //history.pushState('/index');\n    }).catch(error => {\n      const errorMessage = formatError(error.response.data);\n      dispatch(loginFailedAction(errorMessage));\n    });\n  };\n}\nexport function loginFailedAction(data) {\n  return {\n    type: LOGIN_FAILED_ACTION,\n    payload: data\n  };\n}\nexport function loginConfirmedAction(data) {\n  return {\n    type: LOGIN_CONFIRMED_ACTION,\n    payload: data\n  };\n}\nexport function confirmedSignupAction(payload) {\n  return {\n    type: SIGNUP_CONFIRMED_ACTION,\n    payload\n  };\n}\nexport function signupFailedAction(message) {\n  return {\n    type: SIGNUP_FAILED_ACTION,\n    payload: message\n  };\n}\nexport function loadingToggleAction(status) {\n  return {\n    type: LOADING_TOGGLE_ACTION,\n    payload: status\n  };\n}","map":{"version":3,"names":["formatError","login","runLogoutTimer","saveTokenInLocalStorage","signUp","SIGNUP_CONFIRMED_ACTION","SIGNUP_FAILED_ACTION","LOGIN_CONFIRMED_ACTION","LOGIN_FAILED_ACTION","LOADING_TOGGLE_ACTION","LOGOUT_ACTION","signupAction","email","password","history","dispatch","then","response","data","expiresIn","confirmedSignupAction","push","catch","error","errorMessage","signupFailedAction","logout","localStorage","removeItem","type","loginAction","loginConfirmedAction","loginFailedAction","payload","message","loadingToggleAction","status"],"sources":["D:/Theme/package/src/store/actions/AuthActions.js"],"sourcesContent":["import {\n    formatError,\n    login,\n    runLogoutTimer,\n    saveTokenInLocalStorage,\n    signUp,\n} from '../../services/AuthService';\n\nexport const SIGNUP_CONFIRMED_ACTION = '[signup action] confirmed signup';\nexport const SIGNUP_FAILED_ACTION = '[signup action] failed signup';\nexport const LOGIN_CONFIRMED_ACTION = '[login action] confirmed login';\nexport const LOGIN_FAILED_ACTION = '[login action] failed login';\nexport const LOADING_TOGGLE_ACTION = '[Loading action] toggle loading';\nexport const LOGOUT_ACTION = '[Logout action] logout action';\n\nexport function signupAction(email, password, history) {\n    return (dispatch) => {\n        signUp(email, password)\n        .then((response) => {\n            saveTokenInLocalStorage(response.data);\n            runLogoutTimer(\n                dispatch,\n                response.data.expiresIn * 1000,\n                history,\n            );\n            dispatch(confirmedSignupAction(response.data));\n            history.push('/');\n        })\n        .catch((error) => {\n            const errorMessage = formatError(error.response.data);\n            dispatch(signupFailedAction(errorMessage));\n        });\n    };\n}\n\nexport function logout(history) {\n    localStorage.removeItem('userDetails');\n    history.push('/login');\n    return {\n        type: LOGOUT_ACTION,\n    };\n}\n\nexport function loginAction(email, password, history) {\n    return (dispatch) => {\n        login(email, password)\n            .then((response) => {\n                saveTokenInLocalStorage(response.data);\n                runLogoutTimer(\n                    dispatch,\n                    response.data.expiresIn * 1000,\n                    history,\n                );\n                dispatch(loginConfirmedAction(response.data));\n\t\t\t\thistory.push('/dashboard');\n\t\t\t\t//window.location.reload();\n                \n\t\t\t\t//history.pushState('/index');\n                \n            })\n            .catch((error) => {\n                const errorMessage = formatError(error.response.data);\n                dispatch(loginFailedAction(errorMessage));\n            });\n    };\n}\n\nexport function loginFailedAction(data) {\n    return {\n        type: LOGIN_FAILED_ACTION,\n        payload: data,\n    };\n}\n\nexport function loginConfirmedAction(data) {\n    return {\n        type: LOGIN_CONFIRMED_ACTION,\n        payload: data,\n    };\n}\n\nexport function confirmedSignupAction(payload) {\n    return {\n        type: SIGNUP_CONFIRMED_ACTION,\n        payload,\n    };\n}\n\nexport function signupFailedAction(message) {\n    return {\n        type: SIGNUP_FAILED_ACTION,\n        payload: message,\n    };\n}\n\nexport function loadingToggleAction(status) {\n    return {\n        type: LOADING_TOGGLE_ACTION,\n        payload: status,\n    };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}